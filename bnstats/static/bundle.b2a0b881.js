(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(function(){try{return require('moment');}catch(e){}}()):typeof define==='function'&&define.amd?define(['require'],function(require){return factory(function(){try{return require('moment');}catch(e){}}());}):(global=global||self,global.Chart=factory(global.moment));}(this,(function(moment){'use strict';moment=moment&&moment.hasOwnProperty('default')?moment['default']:moment;function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}
function getCjsExportFromNamespace(n){return n&&n['default']||n;}
var colorName={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]};var conversions=createCommonjsModule(function(module){var reverseKeywords={};for(var key in colorName){if(colorName.hasOwnProperty(key)){reverseKeywords[colorName[key]]=key;}}
var convert=module.exports={rgb:{channels:3,labels:'rgb'},hsl:{channels:3,labels:'hsl'},hsv:{channels:3,labels:'hsv'},hwb:{channels:3,labels:'hwb'},cmyk:{channels:4,labels:'cmyk'},xyz:{channels:3,labels:'xyz'},lab:{channels:3,labels:'lab'},lch:{channels:3,labels:'lch'},hex:{channels:1,labels:['hex']},keyword:{channels:1,labels:['keyword']},ansi16:{channels:1,labels:['ansi16']},ansi256:{channels:1,labels:['ansi256']},hcg:{channels:3,labels:['h','c','g']},apple:{channels:3,labels:['r16','g16','b16']},gray:{channels:1,labels:['gray']}};for(var model in convert){if(convert.hasOwnProperty(model)){if(!('channels'in convert[model])){throw new Error('missing channels property: '+model);}
if(!('labels'in convert[model])){throw new Error('missing channel labels property: '+model);}
if(convert[model].labels.length!==convert[model].channels){throw new Error('channel and label counts mismatch: '+model);}
var channels=convert[model].channels;var labels=convert[model].labels;delete convert[model].channels;delete convert[model].labels;Object.defineProperty(convert[model],'channels',{value:channels});Object.defineProperty(convert[model],'labels',{value:labels});}}
convert.rgb.hsl=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var min=Math.min(r,g,b);var max=Math.max(r,g,b);var delta=max-min;var h;var s;var l;if(max===min){h=0;}else if(r===max){h=(g-b)/delta;}else if(g===max){h=2+(b-r)/delta;}else if(b===max){h=4+(r-g)/delta;}
h=Math.min(h*60,360);if(h<0){h+=360;}
l=(min+max)/2;if(max===min){s=0;}else if(l<=0.5){s=delta/(max+min);}else{s=delta/(2-max-min);}
return[h,s*100,l*100];};convert.rgb.hsv=function(rgb){var rdif;var gdif;var bdif;var h;var s;var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var v=Math.max(r,g,b);var diff=v-Math.min(r,g,b);var diffc=function(c){return(v-c)/6/diff+1/2;};if(diff===0){h=s=0;}else{s=diff/v;rdif=diffc(r);gdif=diffc(g);bdif=diffc(b);if(r===v){h=bdif-gdif;}else if(g===v){h=(1/3)+rdif-bdif;}else if(b===v){h=(2/3)+gdif-rdif;}
if(h<0){h+=1;}else if(h>1){h-=1;}}
return[h*360,s*100,v*100];};convert.rgb.hwb=function(rgb){var r=rgb[0];var g=rgb[1];var b=rgb[2];var h=convert.rgb.hsl(rgb)[0];var w=1/255*Math.min(r,Math.min(g,b));b=1-1/255*Math.max(r,Math.max(g,b));return[h,w*100,b*100];};convert.rgb.cmyk=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var c;var m;var y;var k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100];};function comparativeDistance(x,y){return(Math.pow(x[0]-y[0],2)+
Math.pow(x[1]-y[1],2)+
Math.pow(x[2]-y[2],2));}
convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed){return reversed;}
var currentClosestDistance=Infinity;var currentClosestKeyword;for(var keyword in colorName){if(colorName.hasOwnProperty(keyword)){var value=colorName[keyword];var distance=comparativeDistance(rgb,value);if(distance<currentClosestDistance){currentClosestDistance=distance;currentClosestKeyword=keyword;}}}
return currentClosestKeyword;};convert.keyword.rgb=function(keyword){return colorName[keyword];};convert.rgb.xyz=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;r=r>0.04045?Math.pow(((r+0.055)/1.055),2.4):(r/12.92);g=g>0.04045?Math.pow(((g+0.055)/1.055),2.4):(g/12.92);b=b>0.04045?Math.pow(((b+0.055)/1.055),2.4):(b/12.92);var x=(r*0.4124)+(g*0.3576)+(b*0.1805);var y=(r*0.2126)+(g*0.7152)+(b*0.0722);var z=(r*0.0193)+(g*0.1192)+(b*0.9505);return[x*100,y*100,z*100];};convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb);var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x/=95.047;y/=100;z/=108.883;x=x>0.008856?Math.pow(x,1/3):(7.787*x)+(16/116);y=y>0.008856?Math.pow(y,1/3):(7.787*y)+(16/116);z=z>0.008856?Math.pow(z,1/3):(7.787*z)+(16/116);l=(116*y)-16;a=500*(x-y);b=200*(y-z);return[l,a,b];};convert.hsl.rgb=function(hsl){var h=hsl[0]/360;var s=hsl[1]/100;var l=hsl[2]/100;var t1;var t2;var t3;var rgb;var val;if(s===0){val=l*255;return[val,val,val];}
if(l<0.5){t2=l*(1+s);}else{t2=l+s-l*s;}
t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1/3*-(i-1);if(t3<0){t3++;}
if(t3>1){t3--;}
if(6*t3<1){val=t1+(t2-t1)*6*t3;}else if(2*t3<1){val=t2;}else if(3*t3<2){val=t1+(t2-t1)*(2/3-t3)*6;}else{val=t1;}
rgb[i]=val*255;}
return rgb;};convert.hsl.hsv=function(hsl){var h=hsl[0];var s=hsl[1]/100;var l=hsl[2]/100;var smin=s;var lmin=Math.max(l,0.01);var sv;var v;l*=2;s*=(l<=1)?l:2-l;smin*=lmin<=1?lmin:2-lmin;v=(l+s)/2;sv=l===0?(2*smin)/(lmin+smin):(2*s)/(l+s);return[h,sv*100,v*100];};convert.hsv.rgb=function(hsv){var h=hsv[0]/60;var s=hsv[1]/100;var v=hsv[2]/100;var hi=Math.floor(h)%6;var f=h-Math.floor(h);var p=255*v*(1-s);var q=255*v*(1-(s*f));var t=255*v*(1-(s*(1-f)));v*=255;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q];}};convert.hsv.hsl=function(hsv){var h=hsv[0];var s=hsv[1]/100;var v=hsv[2]/100;var vmin=Math.max(v,0.01);var lmin;var sl;var l;l=(2-s)*v;lmin=(2-s)*vmin;sl=s*vmin;sl/=(lmin<=1)?lmin:2-lmin;sl=sl||0;l/=2;return[h,sl*100,l*100];};convert.hwb.rgb=function(hwb){var h=hwb[0]/360;var wh=hwb[1]/100;var bl=hwb[2]/100;var ratio=wh+bl;var i;var v;var f;var n;if(ratio>1){wh/=ratio;bl/=ratio;}
i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&0x01)!==0){f=1-f;}
n=wh+f*(v-wh);var r;var g;var b;switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break;}
return[r*255,g*255,b*255];};convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/100;var m=cmyk[1]/100;var y=cmyk[2]/100;var k=cmyk[3]/100;var r;var g;var b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255];};convert.xyz.rgb=function(xyz){var x=xyz[0]/100;var y=xyz[1]/100;var z=xyz[2]/100;var r;var g;var b;r=(x*3.2406)+(y*-1.5372)+(z*-0.4986);g=(x*-0.9689)+(y*1.8758)+(z*0.0415);b=(x*0.0557)+(y*-0.2040)+(z*1.0570);r=r>0.0031308?((1.055*Math.pow(r,1.0/2.4))-0.055):r*12.92;g=g>0.0031308?((1.055*Math.pow(g,1.0/2.4))-0.055):g*12.92;b=b>0.0031308?((1.055*Math.pow(b,1.0/2.4))-0.055):b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255];};convert.xyz.lab=function(xyz){var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x/=95.047;y/=100;z/=108.883;x=x>0.008856?Math.pow(x,1/3):(7.787*x)+(16/116);y=y>0.008856?Math.pow(y,1/3):(7.787*y)+(16/116);z=z>0.008856?Math.pow(z,1/3):(7.787*z)+(16/116);l=(116*y)-16;a=500*(x-y);b=200*(y-z);return[l,a,b];};convert.lab.xyz=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var x;var y;var z;y=(l+16)/116;x=a/500+y;z=y-b/200;var y2=Math.pow(y,3);var x2=Math.pow(x,3);var z2=Math.pow(z,3);y=y2>0.008856?y2:(y-16/116)/7.787;x=x2>0.008856?x2:(x-16/116)/7.787;z=z2>0.008856?z2:(z-16/116)/7.787;x*=95.047;y*=100;z*=108.883;return[x,y,z];};convert.lab.lch=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var hr;var h;var c;hr=Math.atan2(b,a);h=hr*360/2/Math.PI;if(h<0){h+=360;}
c=Math.sqrt(a*a+b*b);return[l,c,h];};convert.lch.lab=function(lch){var l=lch[0];var c=lch[1];var h=lch[2];var a;var b;var hr;hr=h/360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b];};convert.rgb.ansi16=function(args){var r=args[0];var g=args[1];var b=args[2];var value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];value=Math.round(value/50);if(value===0){return 30;}
var ansi=30
+((Math.round(b/255)<<2)|(Math.round(g/255)<<1)|Math.round(r/255));if(value===2){ansi+=60;}
return ansi;};convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2]);};convert.rgb.ansi256=function(args){var r=args[0];var g=args[1];var b=args[2];if(r===g&&g===b){if(r<8){return 16;}
if(r>248){return 231;}
return Math.round(((r-8)/247)*24)+232;}
var ansi=16
+(36*Math.round(r/255*5))
+(6*Math.round(g/255*5))
+Math.round(b/255*5);return ansi;};convert.ansi16.rgb=function(args){var color=args%10;if(color===0||color===7){if(args>50){color+=3.5;}
color=color/10.5*255;return[color,color,color];}
var mult=(~~(args>50)+1)*0.5;var r=((color&1)*mult)*255;var g=(((color>>1)&1)*mult)*255;var b=(((color>>2)&1)*mult)*255;return[r,g,b];};convert.ansi256.rgb=function(args){if(args>=232){var c=(args-232)*10+8;return[c,c,c];}
args-=16;var rem;var r=Math.floor(args/36)/5*255;var g=Math.floor((rem=args%36)/6)/5*255;var b=(rem%6)/5*255;return[r,g,b];};convert.rgb.hex=function(args){var integer=((Math.round(args[0])&0xFF)<<16)
+((Math.round(args[1])&0xFF)<<8)
+(Math.round(args[2])&0xFF);var string=integer.toString(16).toUpperCase();return'000000'.substring(string.length)+string;};convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match){return[0,0,0];}
var colorString=match[0];if(match[0].length===3){colorString=colorString.split('').map(function(char){return char+char;}).join('');}
var integer=parseInt(colorString,16);var r=(integer>>16)&0xFF;var g=(integer>>8)&0xFF;var b=integer&0xFF;return[r,g,b];};convert.rgb.hcg=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var max=Math.max(Math.max(r,g),b);var min=Math.min(Math.min(r,g),b);var chroma=(max-min);var grayscale;var hue;if(chroma<1){grayscale=min/(1-chroma);}else{grayscale=0;}
if(chroma<=0){hue=0;}else
if(max===r){hue=((g-b)/chroma)%6;}else
if(max===g){hue=2+(b-r)/chroma;}else{hue=4+(r-g)/chroma+4;}
hue/=6;hue%=1;return[hue*360,chroma*100,grayscale*100];};convert.hsl.hcg=function(hsl){var s=hsl[1]/100;var l=hsl[2]/100;var c=1;var f=0;if(l<0.5){c=2.0*s*l;}else{c=2.0*s*(1.0-l);}
if(c<1.0){f=(l-0.5*c)/(1.0-c);}
return[hsl[0],c*100,f*100];};convert.hsv.hcg=function(hsv){var s=hsv[1]/100;var v=hsv[2]/100;var c=s*v;var f=0;if(c<1.0){f=(v-c)/(1-c);}
return[hsv[0],c*100,f*100];};convert.hcg.rgb=function(hcg){var h=hcg[0]/360;var c=hcg[1]/100;var g=hcg[2]/100;if(c===0.0){return[g*255,g*255,g*255];}
var pure=[0,0,0];var hi=(h%1)*6;var v=hi%1;var w=1-v;var mg=0;switch(Math.floor(hi)){case 0:pure[0]=1;pure[1]=v;pure[2]=0;break;case 1:pure[0]=w;pure[1]=1;pure[2]=0;break;case 2:pure[0]=0;pure[1]=1;pure[2]=v;break;case 3:pure[0]=0;pure[1]=w;pure[2]=1;break;case 4:pure[0]=v;pure[1]=0;pure[2]=1;break;default:pure[0]=1;pure[1]=0;pure[2]=w;}
mg=(1.0-c)*g;return[(c*pure[0]+mg)*255,(c*pure[1]+mg)*255,(c*pure[2]+mg)*255];};convert.hcg.hsv=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var v=c+g*(1.0-c);var f=0;if(v>0.0){f=c/v;}
return[hcg[0],f*100,v*100];};convert.hcg.hsl=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var l=g*(1.0-c)+0.5*c;var s=0;if(l>0.0&&l<0.5){s=c/(2*l);}else
if(l>=0.5&&l<1.0){s=c/(2*(1-l));}
return[hcg[0],s*100,l*100];};convert.hcg.hwb=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var v=c+g*(1.0-c);return[hcg[0],(v-c)*100,(1-v)*100];};convert.hwb.hcg=function(hwb){var w=hwb[1]/100;var b=hwb[2]/100;var v=1-b;var c=v-w;var g=0;if(c<1){g=(v-c)/(1-c);}
return[hwb[0],c*100,g*100];};convert.apple.rgb=function(apple){return[(apple[0]/65535)*255,(apple[1]/65535)*255,(apple[2]/65535)*255];};convert.rgb.apple=function(rgb){return[(rgb[0]/255)*65535,(rgb[1]/255)*65535,(rgb[2]/255)*65535];};convert.gray.rgb=function(args){return[args[0]/100*255,args[0]/100*255,args[0]/100*255];};convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]];};convert.gray.hwb=function(gray){return[0,100,gray[0]];};convert.gray.cmyk=function(gray){return[0,0,0,gray[0]];};convert.gray.lab=function(gray){return[gray[0],0,0];};convert.gray.hex=function(gray){var val=Math.round(gray[0]/100*255)&0xFF;var integer=(val<<16)+(val<<8)+val;var string=integer.toString(16).toUpperCase();return'000000'.substring(string.length)+string;};convert.rgb.gray=function(rgb){var val=(rgb[0]+rgb[1]+rgb[2])/3;return[val/255*100];};});var conversions_1=conversions.rgb;var conversions_2=conversions.hsl;var conversions_3=conversions.hsv;var conversions_4=conversions.hwb;var conversions_5=conversions.cmyk;var conversions_6=conversions.xyz;var conversions_7=conversions.lab;var conversions_8=conversions.lch;var conversions_9=conversions.hex;var conversions_10=conversions.keyword;var conversions_11=conversions.ansi16;var conversions_12=conversions.ansi256;var conversions_13=conversions.hcg;var conversions_14=conversions.apple;var conversions_15=conversions.gray;function buildGraph(){var graph={};var models=Object.keys(conversions);for(var len=models.length,i=0;i<len;i++){graph[models[i]]={distance:-1,parent:null};}
return graph;}
function deriveBFS(fromModel){var graph=buildGraph();var queue=[fromModel];graph[fromModel].distance=0;while(queue.length){var current=queue.pop();var adjacents=Object.keys(conversions[current]);for(var len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i];var node=graph[adjacent];if(node.distance===-1){node.distance=graph[current].distance+1;node.parent=current;queue.unshift(adjacent);}}}
return graph;}
function link(from,to){return function(args){return to(from(args));};}
function wrapConversion(toModel,graph){var path=[graph[toModel].parent,toModel];var fn=conversions[graph[toModel].parent][toModel];var cur=graph[toModel].parent;while(graph[cur].parent){path.unshift(graph[cur].parent);fn=link(conversions[graph[cur].parent][cur],fn);cur=graph[cur].parent;}
fn.conversion=path;return fn;}
var route=function(fromModel){var graph=deriveBFS(fromModel);var conversion={};var models=Object.keys(graph);for(var len=models.length,i=0;i<len;i++){var toModel=models[i];var node=graph[toModel];if(node.parent===null){continue;}
conversion[toModel]=wrapConversion(toModel,graph);}
return conversion;};var convert={};var models=Object.keys(conversions);function wrapRaw(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args;}
if(arguments.length>1){args=Array.prototype.slice.call(arguments);}
return fn(args);};if('conversion'in fn){wrappedFn.conversion=fn.conversion;}
return wrappedFn;}
function wrapRounded(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args;}
if(arguments.length>1){args=Array.prototype.slice.call(arguments);}
var result=fn(args);if(typeof result==='object'){for(var len=result.length,i=0;i<len;i++){result[i]=Math.round(result[i]);}}
return result;};if('conversion'in fn){wrappedFn.conversion=fn.conversion;}
return wrappedFn;}
models.forEach(function(fromModel){convert[fromModel]={};Object.defineProperty(convert[fromModel],'channels',{value:conversions[fromModel].channels});Object.defineProperty(convert[fromModel],'labels',{value:conversions[fromModel].labels});var routes=route(fromModel);var routeModels=Object.keys(routes);routeModels.forEach(function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=wrapRounded(fn);convert[fromModel][toModel].raw=wrapRaw(fn);});});var colorConvert=convert;var colorName$1={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]};var colorString={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};function getRgba(string){if(!string){return;}
var abbr=/^#([a-fA-F0-9]{3,4})$/i,hex=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,keyword=/(\w+)/;var rgb=[0,0,0],a=1,match=string.match(abbr),hexAlpha="";if(match){match=match[1];hexAlpha=match[3];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i]+match[i],16);}
if(hexAlpha){a=Math.round((parseInt(hexAlpha+hexAlpha,16)/255)*100)/100;}}
else if(match=string.match(hex)){hexAlpha=match[2];match=match[1];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match.slice(i*2,i*2+2),16);}
if(hexAlpha){a=Math.round((parseInt(hexAlpha,16)/255)*100)/100;}}
else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i+1]);}
a=parseFloat(match[4]);}
else if(match=string.match(per)){for(var i=0;i<rgb.length;i++){rgb[i]=Math.round(parseFloat(match[i+1])*2.55);}
a=parseFloat(match[4]);}
else if(match=string.match(keyword)){if(match[1]=="transparent"){return[0,0,0,0];}
rgb=colorName$1[match[1]];if(!rgb){return;}}
for(var i=0;i<rgb.length;i++){rgb[i]=scale(rgb[i],0,255);}
if(!a&&a!=0){a=1;}
else{a=scale(a,0,1);}
rgb[3]=a;return rgb;}
function getHsla(string){if(!string){return;}
var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a];}}
function getHwb(string){if(!string){return;}
var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a];}}
function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3);}
function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3);}
function getAlpha(string){var vals=getRgba(string);if(vals){return vals[3];}
else if(vals=getHsla(string)){return vals[3];}
else if(vals=getHwb(string)){return vals[3];}}
function hexString(rgba,a){var a=(a!==undefined&&rgba.length===3)?a:rgba[3];return"#"+hexDouble(rgba[0])
+hexDouble(rgba[1])
+hexDouble(rgba[2])
+((a>=0&&a<1)?hexDouble(Math.round(a*255)):"");}
function rgbString(rgba,alpha){if(alpha<1||(rgba[3]&&rgba[3]<1)){return rgbaString(rgba,alpha);}
return"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")";}
function rgbaString(rgba,alpha){if(alpha===undefined){alpha=(rgba[3]!==undefined?rgba[3]:1);}
return"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]
+", "+alpha+")";}
function percentString(rgba,alpha){if(alpha<1||(rgba[3]&&rgba[3]<1)){return percentaString(rgba,alpha);}
var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)";}
function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")";}
function hslString(hsla,alpha){if(alpha<1||(hsla[3]&&hsla[3]<1)){return hslaString(hsla,alpha);}
return"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)";}
function hslaString(hsla,alpha){if(alpha===undefined){alpha=(hsla[3]!==undefined?hsla[3]:1);}
return"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "
+alpha+")";}
function hwbString(hwb,alpha){if(alpha===undefined){alpha=(hwb[3]!==undefined?hwb[3]:1);}
return"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"
+(alpha!==undefined&&alpha!==1?", "+alpha:"")+")";}
function keyword(rgb){return reverseNames[rgb.slice(0,3)];}
function scale(num,min,max){return Math.min(Math.max(min,num),max);}
function hexDouble(num){var str=num.toString(16).toUpperCase();return(str.length<2)?"0"+str:str;}
var reverseNames={};for(var name in colorName$1){reverseNames[colorName$1[name]]=name;}
var Color=function(obj){if(obj instanceof Color){return obj;}
if(!(this instanceof Color)){return new Color(obj);}
this.valid=false;this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if(typeof obj==='string'){vals=colorString.getRgba(obj);if(vals){this.setValues('rgb',vals);}else if(vals=colorString.getHsla(obj)){this.setValues('hsl',vals);}else if(vals=colorString.getHwb(obj)){this.setValues('hwb',vals);}}else if(typeof obj==='object'){vals=obj;if(vals.r!==undefined||vals.red!==undefined){this.setValues('rgb',vals);}else if(vals.l!==undefined||vals.lightness!==undefined){this.setValues('hsl',vals);}else if(vals.v!==undefined||vals.value!==undefined){this.setValues('hsv',vals);}else if(vals.w!==undefined||vals.whiteness!==undefined){this.setValues('hwb',vals);}else if(vals.c!==undefined||vals.cyan!==undefined){this.setValues('cmyk',vals);}}};Color.prototype={isValid:function(){return this.valid;},rgb:function(){return this.setSpace('rgb',arguments);},hsl:function(){return this.setSpace('hsl',arguments);},hsv:function(){return this.setSpace('hsv',arguments);},hwb:function(){return this.setSpace('hwb',arguments);},cmyk:function(){return this.setSpace('cmyk',arguments);},rgbArray:function(){return this.values.rgb;},hslArray:function(){return this.values.hsl;},hsvArray:function(){return this.values.hsv;},hwbArray:function(){var values=this.values;if(values.alpha!==1){return values.hwb.concat([values.alpha]);}
return values.hwb;},cmykArray:function(){return this.values.cmyk;},rgbaArray:function(){var values=this.values;return values.rgb.concat([values.alpha]);},hslaArray:function(){var values=this.values;return values.hsl.concat([values.alpha]);},alpha:function(val){if(val===undefined){return this.values.alpha;}
this.setValues('alpha',val);return this;},red:function(val){return this.setChannel('rgb',0,val);},green:function(val){return this.setChannel('rgb',1,val);},blue:function(val){return this.setChannel('rgb',2,val);},hue:function(val){if(val){val%=360;val=val<0?360+val:val;}
return this.setChannel('hsl',0,val);},saturation:function(val){return this.setChannel('hsl',1,val);},lightness:function(val){return this.setChannel('hsl',2,val);},saturationv:function(val){return this.setChannel('hsv',1,val);},whiteness:function(val){return this.setChannel('hwb',1,val);},blackness:function(val){return this.setChannel('hwb',2,val);},value:function(val){return this.setChannel('hsv',2,val);},cyan:function(val){return this.setChannel('cmyk',0,val);},magenta:function(val){return this.setChannel('cmyk',1,val);},yellow:function(val){return this.setChannel('cmyk',2,val);},black:function(val){return this.setChannel('cmyk',3,val);},hexString:function(){return colorString.hexString(this.values.rgb);},rgbString:function(){return colorString.rgbString(this.values.rgb,this.values.alpha);},rgbaString:function(){return colorString.rgbaString(this.values.rgb,this.values.alpha);},percentString:function(){return colorString.percentString(this.values.rgb,this.values.alpha);},hslString:function(){return colorString.hslString(this.values.hsl,this.values.alpha);},hslaString:function(){return colorString.hslaString(this.values.hsl,this.values.alpha);},hwbString:function(){return colorString.hwbString(this.values.hwb,this.values.alpha);},keyword:function(){return colorString.keyword(this.values.rgb,this.values.alpha);},rgbNumber:function(){var rgb=this.values.rgb;return(rgb[0]<<16)|(rgb[1]<<8)|rgb[2];},luminosity:function(){var rgb=this.values.rgb;var lum=[];for(var i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=(chan<=0.03928)?chan/12.92:Math.pow(((chan+0.055)/1.055),2.4);}
return 0.2126*lum[0]+0.7152*lum[1]+0.0722*lum[2];},contrast:function(color2){var lum1=this.luminosity();var lum2=color2.luminosity();if(lum1>lum2){return(lum1+0.05)/(lum2+0.05);}
return(lum2+0.05)/(lum1+0.05);},level:function(color2){var contrastRatio=this.contrast(color2);if(contrastRatio>=7.1){return'AAA';}
return(contrastRatio>=4.5)?'AA':'';},dark:function(){var rgb=this.values.rgb;var yiq=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/1000;return yiq<128;},light:function(){return!this.dark();},negate:function(){var rgb=[];for(var i=0;i<3;i++){rgb[i]=255-this.values.rgb[i];}
this.setValues('rgb',rgb);return this;},lighten:function(ratio){var hsl=this.values.hsl;hsl[2]+=hsl[2]*ratio;this.setValues('hsl',hsl);return this;},darken:function(ratio){var hsl=this.values.hsl;hsl[2]-=hsl[2]*ratio;this.setValues('hsl',hsl);return this;},saturate:function(ratio){var hsl=this.values.hsl;hsl[1]+=hsl[1]*ratio;this.setValues('hsl',hsl);return this;},desaturate:function(ratio){var hsl=this.values.hsl;hsl[1]-=hsl[1]*ratio;this.setValues('hsl',hsl);return this;},whiten:function(ratio){var hwb=this.values.hwb;hwb[1]+=hwb[1]*ratio;this.setValues('hwb',hwb);return this;},blacken:function(ratio){var hwb=this.values.hwb;hwb[2]+=hwb[2]*ratio;this.setValues('hwb',hwb);return this;},greyscale:function(){var rgb=this.values.rgb;var val=rgb[0]*0.3+rgb[1]*0.59+rgb[2]*0.11;this.setValues('rgb',[val,val,val]);return this;},clearer:function(ratio){var alpha=this.values.alpha;this.setValues('alpha',alpha-(alpha*ratio));return this;},opaquer:function(ratio){var alpha=this.values.alpha;this.setValues('alpha',alpha+(alpha*ratio));return this;},rotate:function(degrees){var hsl=this.values.hsl;var hue=(hsl[0]+degrees)%360;hsl[0]=hue<0?360+hue:hue;this.setValues('hsl',hsl);return this;},mix:function(mixinColor,weight){var color1=this;var color2=mixinColor;var p=weight===undefined?0.5:weight;var w=2*p-1;var a=color1.alpha()-color2.alpha();var w1=(((w*a===-1)?w:(w+a)/(1+w*a))+1)/2.0;var w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p));},toJSON:function(){return this.rgb();},clone:function(){var result=new Color();var source=this.values;var target=result.values;var value,type;for(var prop in source){if(source.hasOwnProperty(prop)){value=source[prop];type=({}).toString.call(value);if(type==='[object Array]'){target[prop]=value.slice(0);}else if(type==='[object Number]'){target[prop]=value;}else{console.error('unexpected color value:',value);}}}
return result;}};Color.prototype.spaces={rgb:['red','green','blue'],hsl:['hue','saturation','lightness'],hsv:['hue','saturation','value'],hwb:['hue','whiteness','blackness'],cmyk:['cyan','magenta','yellow','black']};Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};Color.prototype.getValues=function(space){var values=this.values;var vals={};for(var i=0;i<space.length;i++){vals[space.charAt(i)]=values[space][i];}
if(values.alpha!==1){vals.a=values.alpha;}
return vals;};Color.prototype.setValues=function(space,vals){var values=this.values;var spaces=this.spaces;var maxes=this.maxes;var alpha=1;var i;this.valid=true;if(space==='alpha'){alpha=vals;}else if(vals.length){values[space]=vals.slice(0,space.length);alpha=vals[space.length];}else if(vals[space.charAt(0)]!==undefined){for(i=0;i<space.length;i++){values[space][i]=vals[space.charAt(i)];}
alpha=vals.a;}else if(vals[spaces[space][0]]!==undefined){var chans=spaces[space];for(i=0;i<space.length;i++){values[space][i]=vals[chans[i]];}
alpha=vals.alpha;}
values.alpha=Math.max(0,Math.min(1,(alpha===undefined?values.alpha:alpha)));if(space==='alpha'){return false;}
var capped;for(i=0;i<space.length;i++){capped=Math.max(0,Math.min(maxes[space][i],values[space][i]));values[space][i]=Math.round(capped);}
for(var sname in spaces){if(sname!==space){values[sname]=colorConvert[space][sname](values[space]);}}
return true;};Color.prototype.setSpace=function(space,args){var vals=args[0];if(vals===undefined){return this.getValues(space);}
if(typeof vals==='number'){vals=Array.prototype.slice.call(args);}
this.setValues(space,vals);return this;};Color.prototype.setChannel=function(space,index,val){var svalues=this.values[space];if(val===undefined){return svalues[index];}else if(val===svalues[index]){return this;}
svalues[index]=val;this.setValues(space,svalues);return this;};if(typeof window!=='undefined'){window.Color=Color;}
var chartjsColor=Color;function isValidKey(key){return['__proto__','prototype','constructor'].indexOf(key)===-1;}
var helpers={noop:function(){},uid:(function(){var id=0;return function(){return id++;};}()),isNullOrUndef:function(value){return value===null||typeof value==='undefined';},isArray:function(value){if(Array.isArray&&Array.isArray(value)){return true;}
var type=Object.prototype.toString.call(value);if(type.substr(0,7)==='[object'&&type.substr(-6)==='Array]'){return true;}
return false;},isObject:function(value){return value!==null&&Object.prototype.toString.call(value)==='[object Object]';},isFinite:function(value){return(typeof value==='number'||value instanceof Number)&&isFinite(value);},valueOrDefault:function(value,defaultValue){return typeof value==='undefined'?defaultValue:value;},valueAtIndexOrDefault:function(value,index,defaultValue){return helpers.valueOrDefault(helpers.isArray(value)?value[index]:value,defaultValue);},callback:function(fn,args,thisArg){if(fn&&typeof fn.call==='function'){return fn.apply(thisArg,args);}},each:function(loopable,fn,thisArg,reverse){var i,len,keys;if(helpers.isArray(loopable)){len=loopable.length;if(reverse){for(i=len-1;i>=0;i--){fn.call(thisArg,loopable[i],i);}}else{for(i=0;i<len;i++){fn.call(thisArg,loopable[i],i);}}}else if(helpers.isObject(loopable)){keys=Object.keys(loopable);len=keys.length;for(i=0;i<len;i++){fn.call(thisArg,loopable[keys[i]],keys[i]);}}},arrayEquals:function(a0,a1){var i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length){return false;}
for(i=0,ilen=a0.length;i<ilen;++i){v0=a0[i];v1=a1[i];if(v0 instanceof Array&&v1 instanceof Array){if(!helpers.arrayEquals(v0,v1)){return false;}}else if(v0!==v1){return false;}}
return true;},clone:function(source){if(helpers.isArray(source)){return source.map(helpers.clone);}
if(helpers.isObject(source)){var target=Object.create(source);var keys=Object.keys(source);var klen=keys.length;var k=0;for(;k<klen;++k){target[keys[k]]=helpers.clone(source[keys[k]]);}
return target;}
return source;},_merger:function(key,target,source,options){if(!isValidKey(key)){return;}
var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.merge(tval,sval,options);}else{target[key]=helpers.clone(sval);}},_mergerIf:function(key,target,source){if(!isValidKey(key)){return;}
var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.mergeIf(tval,sval);}else if(!target.hasOwnProperty(key)){target[key]=helpers.clone(sval);}},merge:function(target,source,options){var sources=helpers.isArray(source)?source:[source];var ilen=sources.length;var merge,i,keys,klen,k;if(!helpers.isObject(target)){return target;}
options=options||{};merge=options.merger||helpers._merger;for(i=0;i<ilen;++i){source=sources[i];if(!helpers.isObject(source)){continue;}
keys=Object.keys(source);for(k=0,klen=keys.length;k<klen;++k){merge(keys[k],target,source,options);}}
return target;},mergeIf:function(target,source){return helpers.merge(target,source,{merger:helpers._mergerIf});},extend:Object.assign||function(target){return helpers.merge(target,[].slice.call(arguments,1),{merger:function(key,dst,src){dst[key]=src[key];}});},inherits:function(extensions){var me=this;var ChartElement=(extensions&&extensions.hasOwnProperty('constructor'))?extensions.constructor:function(){return me.apply(this,arguments);};var Surrogate=function(){this.constructor=ChartElement;};Surrogate.prototype=me.prototype;ChartElement.prototype=new Surrogate();ChartElement.extend=helpers.inherits;if(extensions){helpers.extend(ChartElement.prototype,extensions);}
ChartElement.__super__=me.prototype;return ChartElement;},_deprecated:function(scope,value,previous,current){if(value!==undefined){console.warn(scope+': "'+previous+'" is deprecated. Please use "'+current+'" instead');}}};var helpers_core=helpers;helpers.callCallback=helpers.callback;helpers.indexOf=function(array,item,fromIndex){return Array.prototype.indexOf.call(array,item,fromIndex);};helpers.getValueOrDefault=helpers.valueOrDefault;helpers.getValueAtIndexOrDefault=helpers.valueAtIndexOrDefault;var effects={linear:function(t){return t;},easeInQuad:function(t){return t*t;},easeOutQuad:function(t){return-t*(t-2);},easeInOutQuad:function(t){if((t/=0.5)<1){return 0.5*t*t;}
return-0.5*((--t)*(t-2)-1);},easeInCubic:function(t){return t*t*t;},easeOutCubic:function(t){return(t=t-1)*t*t+1;},easeInOutCubic:function(t){if((t/=0.5)<1){return 0.5*t*t*t;}
return 0.5*((t-=2)*t*t+2);},easeInQuart:function(t){return t*t*t*t;},easeOutQuart:function(t){return-((t=t-1)*t*t*t-1);},easeInOutQuart:function(t){if((t/=0.5)<1){return 0.5*t*t*t*t;}
return-0.5*((t-=2)*t*t*t-2);},easeInQuint:function(t){return t*t*t*t*t;},easeOutQuint:function(t){return(t=t-1)*t*t*t*t+1;},easeInOutQuint:function(t){if((t/=0.5)<1){return 0.5*t*t*t*t*t;}
return 0.5*((t-=2)*t*t*t*t+2);},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1;},easeOutSine:function(t){return Math.sin(t*(Math.PI/2));},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t)-1);},easeInExpo:function(t){return(t===0)?0:Math.pow(2,10*(t-1));},easeOutExpo:function(t){return(t===1)?1:-Math.pow(2,-10*t)+1;},easeInOutExpo:function(t){if(t===0){return 0;}
if(t===1){return 1;}
if((t/=0.5)<1){return 0.5*Math.pow(2,10*(t-1));}
return 0.5*(-Math.pow(2,-10*--t)+2);},easeInCirc:function(t){if(t>=1){return t;}
return-(Math.sqrt(1-t*t)-1);},easeOutCirc:function(t){return Math.sqrt(1-(t=t-1)*t);},easeInOutCirc:function(t){if((t/=0.5)<1){return-0.5*(Math.sqrt(1-t*t)-1);}
return 0.5*(Math.sqrt(1-(t-=2)*t)+1);},easeInElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if(t===1){return 1;}
if(!p){p=0.3;}
if(a<1){a=1;s=p/4;}else{s=p/(2*Math.PI)*Math.asin(1/a);}
return-(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p));},easeOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if(t===1){return 1;}
if(!p){p=0.3;}
if(a<1){a=1;s=p/4;}else{s=p/(2*Math.PI)*Math.asin(1/a);}
return a*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/p)+1;},easeInOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if((t/=0.5)===2){return 1;}
if(!p){p=0.45;}
if(a<1){a=1;s=p/4;}else{s=p/(2*Math.PI)*Math.asin(1/a);}
if(t<1){return-0.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p));}
return a*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p)*0.5+1;},easeInBack:function(t){var s=1.70158;return t*t*((s+1)*t-s);},easeOutBack:function(t){var s=1.70158;return(t=t-1)*t*((s+1)*t+s)+1;},easeInOutBack:function(t){var s=1.70158;if((t/=0.5)<1){return 0.5*(t*t*(((s*=(1.525))+1)*t-s));}
return 0.5*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2);},easeInBounce:function(t){return 1-effects.easeOutBounce(1-t);},easeOutBounce:function(t){if(t<(1/2.75)){return 7.5625*t*t;}
if(t<(2/2.75)){return 7.5625*(t-=(1.5/2.75))*t+0.75;}
if(t<(2.5/2.75)){return 7.5625*(t-=(2.25/2.75))*t+0.9375;}
return 7.5625*(t-=(2.625/2.75))*t+0.984375;},easeInOutBounce:function(t){if(t<0.5){return effects.easeInBounce(t*2)*0.5;}
return effects.easeOutBounce(t*2-1)*0.5+0.5;}};var helpers_easing={effects:effects};helpers_core.easingEffects=effects;var PI=Math.PI;var RAD_PER_DEG=PI/180;var DOUBLE_PI=PI*2;var HALF_PI=PI/2;var QUARTER_PI=PI/4;var TWO_THIRDS_PI=PI*2/3;var exports$1={clear:function(chart){chart.ctx.clearRect(0,0,chart.width,chart.height);},roundedRect:function(ctx,x,y,width,height,radius){if(radius){var r=Math.min(radius,height/2,width/2);var left=x+r;var top=y+r;var right=x+width-r;var bottom=y+height-r;ctx.moveTo(x,top);if(left<right&&top<bottom){ctx.arc(left,top,r,-PI,-HALF_PI);ctx.arc(right,top,r,-HALF_PI,0);ctx.arc(right,bottom,r,0,HALF_PI);ctx.arc(left,bottom,r,HALF_PI,PI);}else if(left<right){ctx.moveTo(left,y);ctx.arc(right,top,r,-HALF_PI,HALF_PI);ctx.arc(left,top,r,HALF_PI,PI+HALF_PI);}else if(top<bottom){ctx.arc(left,top,r,-PI,0);ctx.arc(left,bottom,r,0,PI);}else{ctx.arc(left,top,r,-PI,PI);}
ctx.closePath();ctx.moveTo(x,y);}else{ctx.rect(x,y,width,height);}},drawPoint:function(ctx,style,radius,x,y,rotation){var type,xOffset,yOffset,size,cornerRadius;var rad=(rotation||0)*RAD_PER_DEG;if(style&&typeof style==='object'){type=style.toString();if(type==='[object HTMLImageElement]'||type==='[object HTMLCanvasElement]'){ctx.save();ctx.translate(x,y);ctx.rotate(rad);ctx.drawImage(style,-style.width/2,-style.height/2,style.width,style.height);ctx.restore();return;}}
if(isNaN(radius)||radius<=0){return;}
ctx.beginPath();switch(style){default:ctx.arc(x,y,radius,0,DOUBLE_PI);ctx.closePath();break;case'triangle':ctx.moveTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);ctx.closePath();break;case'rectRounded':cornerRadius=radius*0.516;size=radius-cornerRadius;xOffset=Math.cos(rad+QUARTER_PI)*size;yOffset=Math.sin(rad+QUARTER_PI)*size;ctx.arc(x-xOffset,y-yOffset,cornerRadius,rad-PI,rad-HALF_PI);ctx.arc(x+yOffset,y-xOffset,cornerRadius,rad-HALF_PI,rad);ctx.arc(x+xOffset,y+yOffset,cornerRadius,rad,rad+HALF_PI);ctx.arc(x-yOffset,y+xOffset,cornerRadius,rad+HALF_PI,rad+PI);ctx.closePath();break;case'rect':if(!rotation){size=Math.SQRT1_2*radius;ctx.rect(x-size,y-size,2*size,2*size);break;}
rad+=QUARTER_PI;case'rectRot':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+yOffset,y-xOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.lineTo(x-yOffset,y+xOffset);ctx.closePath();break;case'crossRot':rad+=QUARTER_PI;case'cross':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case'star':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);rad+=QUARTER_PI;xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case'line':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);break;case'dash':ctx.moveTo(x,y);ctx.lineTo(x+Math.cos(rad)*radius,y+Math.sin(rad)*radius);break;}
ctx.fill();ctx.stroke();},_isPointInArea:function(point,area){var epsilon=1e-6;return point.x>area.left-epsilon&&point.x<area.right+epsilon&&point.y>area.top-epsilon&&point.y<area.bottom+epsilon;},clipArea:function(ctx,area){ctx.save();ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip();},unclipArea:function(ctx){ctx.restore();},lineTo:function(ctx,previous,target,flip){var stepped=target.steppedLine;if(stepped){if(stepped==='middle'){var midpoint=(previous.x+target.x)/2.0;ctx.lineTo(midpoint,flip?target.y:previous.y);ctx.lineTo(midpoint,flip?previous.y:target.y);}else if((stepped==='after'&&!flip)||(stepped!=='after'&&flip)){ctx.lineTo(previous.x,target.y);}else{ctx.lineTo(target.x,previous.y);}
ctx.lineTo(target.x,target.y);return;}
if(!target.tension){ctx.lineTo(target.x,target.y);return;}
ctx.bezierCurveTo(flip?previous.controlPointPreviousX:previous.controlPointNextX,flip?previous.controlPointPreviousY:previous.controlPointNextY,flip?target.controlPointNextX:target.controlPointPreviousX,flip?target.controlPointNextY:target.controlPointPreviousY,target.x,target.y);}};var helpers_canvas=exports$1;helpers_core.clear=exports$1.clear;helpers_core.drawRoundedRectangle=function(ctx){ctx.beginPath();exports$1.roundedRect.apply(exports$1,arguments);};var defaults={_set:function(scope,values){return helpers_core.merge(this[scope]||(this[scope]={}),values);}};defaults._set('global',{defaultColor:'rgba(0,0,0,0.1)',defaultFontColor:'#666',defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:'normal',defaultLineHeight:1.2,showLines:true});var core_defaults=defaults;var valueOrDefault=helpers_core.valueOrDefault;function toFontString(font){if(!font||helpers_core.isNullOrUndef(font.size)||helpers_core.isNullOrUndef(font.family)){return null;}
return(font.style?font.style+' ':'')
+(font.weight?font.weight+' ':'')
+font.size+'px '
+font.family;}
var helpers_options={toLineHeight:function(value,size){var matches=(''+value).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!matches||matches[1]==='normal'){return size*1.2;}
value=+matches[2];switch(matches[3]){case'px':return value;case'%':value/=100;break;}
return size*value;},toPadding:function(value){var t,r,b,l;if(helpers_core.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0;}else{t=r=b=l=+value||0;}
return{top:t,right:r,bottom:b,left:l,height:t+b,width:l+r};},_parseFont:function(options){var globalDefaults=core_defaults.global;var size=valueOrDefault(options.fontSize,globalDefaults.defaultFontSize);var font={family:valueOrDefault(options.fontFamily,globalDefaults.defaultFontFamily),lineHeight:helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight,globalDefaults.defaultLineHeight),size),size:size,style:valueOrDefault(options.fontStyle,globalDefaults.defaultFontStyle),weight:null,string:''};font.string=toFontString(font);return font;},resolve:function(inputs,context,index,info){var cacheable=true;var i,ilen,value;for(i=0,ilen=inputs.length;i<ilen;++i){value=inputs[i];if(value===undefined){continue;}
if(context!==undefined&&typeof value==='function'){value=value(context);cacheable=false;}
if(index!==undefined&&helpers_core.isArray(value)){value=value[index];cacheable=false;}
if(value!==undefined){if(info&&!cacheable){info.cacheable=false;}
return value;}}}};var exports$2={_factorize:function(value){var result=[];var sqrt=Math.sqrt(value);var i;for(i=1;i<sqrt;i++){if(value%i===0){result.push(i);result.push(value/i);}}
if(sqrt===(sqrt|0)){result.push(sqrt);}
result.sort(function(a,b){return a-b;}).pop();return result;},log10:Math.log10||function(x){var exponent=Math.log(x)*Math.LOG10E;var powerOf10=Math.round(exponent);var isPowerOf10=x===Math.pow(10,powerOf10);return isPowerOf10?powerOf10:exponent;}};var helpers_math=exports$2;helpers_core.log10=exports$2.log10;var getRtlAdapter=function(rectX,width){return{x:function(x){return rectX+rectX+width-x;},setWidth:function(w){width=w;},textAlign:function(align){if(align==='center'){return align;}
return align==='right'?'left':'right';},xPlus:function(x,value){return x-value;},leftForLtr:function(x,itemWidth){return x-itemWidth;},};};var getLtrAdapter=function(){return{x:function(x){return x;},setWidth:function(w){},textAlign:function(align){return align;},xPlus:function(x,value){return x+value;},leftForLtr:function(x,_itemWidth){return x;},};};var getAdapter=function(rtl,rectX,width){return rtl?getRtlAdapter(rectX,width):getLtrAdapter();};var overrideTextDirection=function(ctx,direction){var style,original;if(direction==='ltr'||direction==='rtl'){style=ctx.canvas.style;original=[style.getPropertyValue('direction'),style.getPropertyPriority('direction'),];style.setProperty('direction',direction,'important');ctx.prevTextDirection=original;}};var restoreTextDirection=function(ctx){var original=ctx.prevTextDirection;if(original!==undefined){delete ctx.prevTextDirection;ctx.canvas.style.setProperty('direction',original[0],original[1]);}};var helpers_rtl={getRtlAdapter:getAdapter,overrideTextDirection:overrideTextDirection,restoreTextDirection:restoreTextDirection,};var helpers$1=helpers_core;var easing=helpers_easing;var canvas=helpers_canvas;var options=helpers_options;var math=helpers_math;var rtl=helpers_rtl;helpers$1.easing=easing;helpers$1.canvas=canvas;helpers$1.options=options;helpers$1.math=math;helpers$1.rtl=rtl;function interpolate(start,view,model,ease){var keys=Object.keys(model);var i,ilen,key,actual,origin,target,type,c0,c1;for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];target=model[key];if(!view.hasOwnProperty(key)){view[key]=target;}
actual=view[key];if(actual===target||key[0]==='_'){continue;}
if(!start.hasOwnProperty(key)){start[key]=actual;}
origin=start[key];type=typeof target;if(type===typeof origin){if(type==='string'){c0=chartjsColor(origin);if(c0.valid){c1=chartjsColor(target);if(c1.valid){view[key]=c1.mix(c0,ease).rgbString();continue;}}}else if(helpers$1.isFinite(origin)&&helpers$1.isFinite(target)){view[key]=origin+(target-origin)*ease;continue;}}
view[key]=target;}}
var Element=function(configuration){helpers$1.extend(this,configuration);this.initialize.apply(this,arguments);};helpers$1.extend(Element.prototype,{_type:undefined,initialize:function(){this.hidden=false;},pivot:function(){var me=this;if(!me._view){me._view=helpers$1.extend({},me._model);}
me._start={};return me;},transition:function(ease){var me=this;var model=me._model;var start=me._start;var view=me._view;if(!model||ease===1){me._view=helpers$1.extend({},model);me._start=null;return me;}
if(!view){view=me._view={};}
if(!start){start=me._start={};}
interpolate(start,view,model,ease);return me;},tooltipPosition:function(){return{x:this._model.x,y:this._model.y};},hasValue:function(){return helpers$1.isNumber(this._model.x)&&helpers$1.isNumber(this._model.y);}});Element.extend=helpers$1.inherits;var core_element=Element;var exports$3=core_element.extend({chart:null,currentStep:0,numSteps:60,easing:'',render:null,onAnimationProgress:null,onAnimationComplete:null,});var core_animation=exports$3;Object.defineProperty(exports$3.prototype,'animationObject',{get:function(){return this;}});Object.defineProperty(exports$3.prototype,'chartInstance',{get:function(){return this.chart;},set:function(value){this.chart=value;}});core_defaults._set('global',{animation:{duration:1000,easing:'easeOutQuart',onProgress:helpers$1.noop,onComplete:helpers$1.noop}});var core_animations={animations:[],request:null,addAnimation:function(chart,animation,duration,lazy){var animations=this.animations;var i,ilen;animation.chart=chart;animation.startTime=Date.now();animation.duration=duration;if(!lazy){chart.animating=true;}
for(i=0,ilen=animations.length;i<ilen;++i){if(animations[i].chart===chart){animations[i]=animation;return;}}
animations.push(animation);if(animations.length===1){this.requestAnimationFrame();}},cancelAnimation:function(chart){var index=helpers$1.findIndex(this.animations,function(animation){return animation.chart===chart;});if(index!==-1){this.animations.splice(index,1);chart.animating=false;}},requestAnimationFrame:function(){var me=this;if(me.request===null){me.request=helpers$1.requestAnimFrame.call(window,function(){me.request=null;me.startDigest();});}},startDigest:function(){var me=this;me.advance();if(me.animations.length>0){me.requestAnimationFrame();}},advance:function(){var animations=this.animations;var animation,chart,numSteps,nextStep;var i=0;while(i<animations.length){animation=animations[i];chart=animation.chart;numSteps=animation.numSteps;nextStep=Math.floor((Date.now()-animation.startTime)/animation.duration*numSteps)+1;animation.currentStep=Math.min(nextStep,numSteps);helpers$1.callback(animation.render,[chart,animation],chart);helpers$1.callback(animation.onAnimationProgress,[animation],chart);if(animation.currentStep>=numSteps){helpers$1.callback(animation.onAnimationComplete,[animation],chart);chart.animating=false;animations.splice(i,1);}else{++i;}}}};var resolve=helpers$1.options.resolve;var arrayEvents=['push','pop','shift','splice','unshift'];function listenArrayEvents(array,listener){if(array._chartjs){array._chartjs.listeners.push(listener);return;}
Object.defineProperty(array,'_chartjs',{configurable:true,enumerable:false,value:{listeners:[listener]}});arrayEvents.forEach(function(key){var method='onData'+key.charAt(0).toUpperCase()+key.slice(1);var base=array[key];Object.defineProperty(array,key,{configurable:true,enumerable:false,value:function(){var args=Array.prototype.slice.call(arguments);var res=base.apply(this,args);helpers$1.each(array._chartjs.listeners,function(object){if(typeof object[method]==='function'){object[method].apply(object,args);}});return res;}});});}
function unlistenArrayEvents(array,listener){var stub=array._chartjs;if(!stub){return;}
var listeners=stub.listeners;var index=listeners.indexOf(listener);if(index!==-1){listeners.splice(index,1);}
if(listeners.length>0){return;}
arrayEvents.forEach(function(key){delete array[key];});delete array._chartjs;}
var DatasetController=function(chart,datasetIndex){this.initialize(chart,datasetIndex);};helpers$1.extend(DatasetController.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:['backgroundColor','borderCapStyle','borderColor','borderDash','borderDashOffset','borderJoinStyle','borderWidth'],_dataElementOptions:['backgroundColor','borderColor','borderWidth','pointStyle'],initialize:function(chart,datasetIndex){var me=this;me.chart=chart;me.index=datasetIndex;me.linkScales();me.addElements();me._type=me.getMeta().type;},updateIndex:function(datasetIndex){this.index=datasetIndex;},linkScales:function(){var me=this;var meta=me.getMeta();var chart=me.chart;var scales=chart.scales;var dataset=me.getDataset();var scalesOpts=chart.options.scales;if(meta.xAxisID===null||!(meta.xAxisID in scales)||dataset.xAxisID){meta.xAxisID=dataset.xAxisID||scalesOpts.xAxes[0].id;}
if(meta.yAxisID===null||!(meta.yAxisID in scales)||dataset.yAxisID){meta.yAxisID=dataset.yAxisID||scalesOpts.yAxes[0].id;}},getDataset:function(){return this.chart.data.datasets[this.index];},getMeta:function(){return this.chart.getDatasetMeta(this.index);},getScaleForId:function(scaleID){return this.chart.scales[scaleID];},_getValueScaleId:function(){return this.getMeta().yAxisID;},_getIndexScaleId:function(){return this.getMeta().xAxisID;},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId());},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId());},reset:function(){this._update(true);},destroy:function(){if(this._data){unlistenArrayEvents(this._data,this);}},createMetaDataset:function(){var me=this;var type=me.datasetElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index});},createMetaData:function(index){var me=this;var type=me.dataElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index,_index:index});},addElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data||[];var metaData=meta.data;var i,ilen;for(i=0,ilen=data.length;i<ilen;++i){metaData[i]=metaData[i]||me.createMetaData(i);}
meta.dataset=meta.dataset||me.createMetaDataset();},addElementAndReset:function(index){var element=this.createMetaData(index);this.getMeta().data.splice(index,0,element);this.updateElement(element,index,true);},buildOrUpdateElements:function(){var me=this;var dataset=me.getDataset();var data=dataset.data||(dataset.data=[]);if(me._data!==data){if(me._data){unlistenArrayEvents(me._data,me);}
if(data&&Object.isExtensible(data)){listenArrayEvents(data,me);}
me._data=data;}
me.resyncElements();},_configure:function(){var me=this;me._config=helpers$1.merge(Object.create(null),[me.chart.options.datasets[me._type],me.getDataset(),],{merger:function(key,target,source){if(key!=='_meta'&&key!=='data'){helpers$1._merger(key,target,source);}}});},_update:function(reset){var me=this;me._configure();me._cachedDataOpts=null;me.update(reset);},update:helpers$1.noop,transition:function(easingValue){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;for(;i<ilen;++i){elements[i].transition(easingValue);}
if(meta.dataset){meta.dataset.transition(easingValue);}},draw:function(){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;if(meta.dataset){meta.dataset.draw();}
for(;i<ilen;++i){elements[i].draw();}},getStyle:function(index){var me=this;var meta=me.getMeta();var dataset=meta.dataset;var style;me._configure();if(dataset&&index===undefined){style=me._resolveDatasetElementOptions(dataset||{});}else{index=index||0;style=me._resolveDataElementOptions(meta.data[index]||{},index);}
if(style.fill===false||style.fill===null){style.backgroundColor=style.borderColor;}
return style;},_resolveDatasetElementOptions:function(element,hover){var me=this;var chart=me.chart;var datasetOpts=me._config;var custom=element.custom||{};var options=chart.options.elements[me.datasetElementType.prototype._type]||{};var elementOptions=me._datasetElementOptions;var values={};var i,ilen,key,readKey;var context={chart:chart,dataset:me.getDataset(),datasetIndex:me.index,hover:hover};for(i=0,ilen=elementOptions.length;i<ilen;++i){key=elementOptions[i];readKey=hover?'hover'+key.charAt(0).toUpperCase()+key.slice(1):key;values[key]=resolve([custom[readKey],datasetOpts[readKey],options[readKey]],context);}
return values;},_resolveDataElementOptions:function(element,index){var me=this;var custom=element&&element.custom;var cached=me._cachedDataOpts;if(cached&&!custom){return cached;}
var chart=me.chart;var datasetOpts=me._config;var options=chart.options.elements[me.dataElementType.prototype._type]||{};var elementOptions=me._dataElementOptions;var values={};var context={chart:chart,dataIndex:index,dataset:me.getDataset(),datasetIndex:me.index};var info={cacheable:!custom};var keys,i,ilen,key;custom=custom||{};if(helpers$1.isArray(elementOptions)){for(i=0,ilen=elementOptions.length;i<ilen;++i){key=elementOptions[i];values[key]=resolve([custom[key],datasetOpts[key],options[key]],context,index,info);}}else{keys=Object.keys(elementOptions);for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];values[key]=resolve([custom[key],datasetOpts[elementOptions[key]],datasetOpts[key],options[key]],context,index,info);}}
if(info.cacheable){me._cachedDataOpts=Object.freeze(values);}
return values;},removeHoverStyle:function(element){helpers$1.merge(element._model,element.$previousStyle||{});delete element.$previousStyle;},setHoverStyle:function(element){var dataset=this.chart.data.datasets[element._datasetIndex];var index=element._index;var custom=element.custom||{};var model=element._model;var getHoverColor=helpers$1.getHoverColor;element.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth};model.backgroundColor=resolve([custom.hoverBackgroundColor,dataset.hoverBackgroundColor,getHoverColor(model.backgroundColor)],undefined,index);model.borderColor=resolve([custom.hoverBorderColor,dataset.hoverBorderColor,getHoverColor(model.borderColor)],undefined,index);model.borderWidth=resolve([custom.hoverBorderWidth,dataset.hoverBorderWidth,model.borderWidth],undefined,index);},_removeDatasetHoverStyle:function(){var element=this.getMeta().dataset;if(element){this.removeHoverStyle(element);}},_setDatasetHoverStyle:function(){var element=this.getMeta().dataset;var prev={};var i,ilen,key,keys,hoverOptions,model;if(!element){return;}
model=element._model;hoverOptions=this._resolveDatasetElementOptions(element,true);keys=Object.keys(hoverOptions);for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];prev[key]=model[key];model[key]=hoverOptions[key];}
element.$previousStyle=prev;},resyncElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data;var numMeta=meta.data.length;var numData=data.length;if(numData<numMeta){meta.data.splice(numData,numMeta-numData);}else if(numData>numMeta){me.insertElements(numMeta,numData-numMeta);}},insertElements:function(start,count){for(var i=0;i<count;++i){this.addElementAndReset(start+i);}},onDataPush:function(){var count=arguments.length;this.insertElements(this.getDataset().data.length-count,count);},onDataPop:function(){this.getMeta().data.pop();},onDataShift:function(){this.getMeta().data.shift();},onDataSplice:function(start,count){this.getMeta().data.splice(start,count);this.insertElements(start,arguments.length-2);},onDataUnshift:function(){this.insertElements(0,arguments.length);}});DatasetController.extend=helpers$1.inherits;var core_datasetController=DatasetController;var TAU=Math.PI*2;core_defaults._set('global',{elements:{arc:{backgroundColor:core_defaults.global.defaultColor,borderColor:'#fff',borderWidth:2,borderAlign:'center'}}});function clipArc(ctx,arc){var startAngle=arc.startAngle;var endAngle=arc.endAngle;var pixelMargin=arc.pixelMargin;var angleMargin=pixelMargin/arc.outerRadius;var x=arc.x;var y=arc.y;ctx.beginPath();ctx.arc(x,y,arc.outerRadius,startAngle-angleMargin,endAngle+angleMargin);if(arc.innerRadius>pixelMargin){angleMargin=pixelMargin/arc.innerRadius;ctx.arc(x,y,arc.innerRadius-pixelMargin,endAngle+angleMargin,startAngle-angleMargin,true);}else{ctx.arc(x,y,pixelMargin,endAngle+Math.PI/2,startAngle-Math.PI/2);}
ctx.closePath();ctx.clip();}
function drawFullCircleBorders(ctx,vm,arc,inner){var endAngle=arc.endAngle;var i;if(inner){arc.endAngle=arc.startAngle+TAU;clipArc(ctx,arc);arc.endAngle=endAngle;if(arc.endAngle===arc.startAngle&&arc.fullCircles){arc.endAngle+=TAU;arc.fullCircles--;}}
ctx.beginPath();ctx.arc(arc.x,arc.y,arc.innerRadius,arc.startAngle+TAU,arc.startAngle,true);for(i=0;i<arc.fullCircles;++i){ctx.stroke();}
ctx.beginPath();ctx.arc(arc.x,arc.y,vm.outerRadius,arc.startAngle,arc.startAngle+TAU);for(i=0;i<arc.fullCircles;++i){ctx.stroke();}}
function drawBorder(ctx,vm,arc){var inner=vm.borderAlign==='inner';if(inner){ctx.lineWidth=vm.borderWidth*2;ctx.lineJoin='round';}else{ctx.lineWidth=vm.borderWidth;ctx.lineJoin='bevel';}
if(arc.fullCircles){drawFullCircleBorders(ctx,vm,arc,inner);}
if(inner){clipArc(ctx,arc);}
ctx.beginPath();ctx.arc(arc.x,arc.y,vm.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();ctx.stroke();}
var element_arc=core_element.extend({_type:'arc',inLabelRange:function(mouseX){var vm=this._view;if(vm){return(Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hoverRadius,2));}
return false;},inRange:function(chartX,chartY){var vm=this._view;if(vm){var pointRelativePosition=helpers$1.getAngleFromPoint(vm,{x:chartX,y:chartY});var angle=pointRelativePosition.angle;var distance=pointRelativePosition.distance;var startAngle=vm.startAngle;var endAngle=vm.endAngle;while(endAngle<startAngle){endAngle+=TAU;}
while(angle>endAngle){angle-=TAU;}
while(angle<startAngle){angle+=TAU;}
var betweenAngles=(angle>=startAngle&&angle<=endAngle);var withinRadius=(distance>=vm.innerRadius&&distance<=vm.outerRadius);return(betweenAngles&&withinRadius);}
return false;},getCenterPoint:function(){var vm=this._view;var halfAngle=(vm.startAngle+vm.endAngle)/2;var halfRadius=(vm.innerRadius+vm.outerRadius)/2;return{x:vm.x+Math.cos(halfAngle)*halfRadius,y:vm.y+Math.sin(halfAngle)*halfRadius};},getArea:function(){var vm=this._view;return Math.PI*((vm.endAngle-vm.startAngle)/(2*Math.PI))*(Math.pow(vm.outerRadius,2)-Math.pow(vm.innerRadius,2));},tooltipPosition:function(){var vm=this._view;var centreAngle=vm.startAngle+((vm.endAngle-vm.startAngle)/2);var rangeFromCentre=(vm.outerRadius-vm.innerRadius)/2+vm.innerRadius;return{x:vm.x+(Math.cos(centreAngle)*rangeFromCentre),y:vm.y+(Math.sin(centreAngle)*rangeFromCentre)};},draw:function(){var ctx=this._chart.ctx;var vm=this._view;var pixelMargin=(vm.borderAlign==='inner')?0.33:0;var arc={x:vm.x,y:vm.y,innerRadius:vm.innerRadius,outerRadius:Math.max(vm.outerRadius-pixelMargin,0),pixelMargin:pixelMargin,startAngle:vm.startAngle,endAngle:vm.endAngle,fullCircles:Math.floor(vm.circumference/TAU)};var i;ctx.save();ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;if(arc.fullCircles){arc.endAngle=arc.startAngle+TAU;ctx.beginPath();ctx.arc(arc.x,arc.y,arc.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();for(i=0;i<arc.fullCircles;++i){ctx.fill();}
arc.endAngle=arc.startAngle+vm.circumference%TAU;}
ctx.beginPath();ctx.arc(arc.x,arc.y,arc.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();ctx.fill();if(vm.borderWidth){drawBorder(ctx,vm,arc);}
ctx.restore();}});var valueOrDefault$1=helpers$1.valueOrDefault;var defaultColor=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{line:{tension:0.4,backgroundColor:defaultColor,borderWidth:3,borderColor:defaultColor,borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',capBezierPoints:true,fill:true,}}});var element_line=core_element.extend({_type:'line',draw:function(){var me=this;var vm=me._view;var ctx=me._chart.ctx;var spanGaps=vm.spanGaps;var points=me._children.slice();var globalDefaults=core_defaults.global;var globalOptionLineElements=globalDefaults.elements.line;var lastDrawnIndex=-1;var closePath=me._loop;var index,previous,currentVM;if(!points.length){return;}
if(me._loop){for(index=0;index<points.length;++index){previous=helpers$1.previousItem(points,index);if(!points[index]._view.skip&&previous._view.skip){points=points.slice(index).concat(points.slice(0,index));closePath=spanGaps;break;}}
if(closePath){points.push(points[0]);}}
ctx.save();ctx.lineCap=vm.borderCapStyle||globalOptionLineElements.borderCapStyle;if(ctx.setLineDash){ctx.setLineDash(vm.borderDash||globalOptionLineElements.borderDash);}
ctx.lineDashOffset=valueOrDefault$1(vm.borderDashOffset,globalOptionLineElements.borderDashOffset);ctx.lineJoin=vm.borderJoinStyle||globalOptionLineElements.borderJoinStyle;ctx.lineWidth=valueOrDefault$1(vm.borderWidth,globalOptionLineElements.borderWidth);ctx.strokeStyle=vm.borderColor||globalDefaults.defaultColor;ctx.beginPath();currentVM=points[0]._view;if(!currentVM.skip){ctx.moveTo(currentVM.x,currentVM.y);lastDrawnIndex=0;}
for(index=1;index<points.length;++index){currentVM=points[index]._view;previous=lastDrawnIndex===-1?helpers$1.previousItem(points,index):points[lastDrawnIndex];if(!currentVM.skip){if((lastDrawnIndex!==(index-1)&&!spanGaps)||lastDrawnIndex===-1){ctx.moveTo(currentVM.x,currentVM.y);}else{helpers$1.canvas.lineTo(ctx,previous._view,currentVM);}
lastDrawnIndex=index;}}
if(closePath){ctx.closePath();}
ctx.stroke();ctx.restore();}});var valueOrDefault$2=helpers$1.valueOrDefault;var defaultColor$1=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{point:{radius:3,pointStyle:'circle',backgroundColor:defaultColor$1,borderColor:defaultColor$1,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function xRange(mouseX){var vm=this._view;return vm?(Math.abs(mouseX-vm.x)<vm.radius+vm.hitRadius):false;}
function yRange(mouseY){var vm=this._view;return vm?(Math.abs(mouseY-vm.y)<vm.radius+vm.hitRadius):false;}
var element_point=core_element.extend({_type:'point',inRange:function(mouseX,mouseY){var vm=this._view;return vm?((Math.pow(mouseX-vm.x,2)+Math.pow(mouseY-vm.y,2))<Math.pow(vm.hitRadius+vm.radius,2)):false;},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var vm=this._view;return{x:vm.x,y:vm.y};},getArea:function(){return Math.PI*Math.pow(this._view.radius,2);},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y,padding:vm.radius+vm.borderWidth};},draw:function(chartArea){var vm=this._view;var ctx=this._chart.ctx;var pointStyle=vm.pointStyle;var rotation=vm.rotation;var radius=vm.radius;var x=vm.x;var y=vm.y;var globalDefaults=core_defaults.global;var defaultColor=globalDefaults.defaultColor;if(vm.skip){return;}
if(chartArea===undefined||helpers$1.canvas._isPointInArea(vm,chartArea)){ctx.strokeStyle=vm.borderColor||defaultColor;ctx.lineWidth=valueOrDefault$2(vm.borderWidth,globalDefaults.elements.point.borderWidth);ctx.fillStyle=vm.backgroundColor||defaultColor;helpers$1.canvas.drawPoint(ctx,pointStyle,radius,x,y,rotation);}}});var defaultColor$2=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{rectangle:{backgroundColor:defaultColor$2,borderColor:defaultColor$2,borderSkipped:'bottom',borderWidth:0}}});function isVertical(vm){return vm&&vm.width!==undefined;}
function getBarBounds(vm){var x1,x2,y1,y2,half;if(isVertical(vm)){half=vm.width/2;x1=vm.x-half;x2=vm.x+half;y1=Math.min(vm.y,vm.base);y2=Math.max(vm.y,vm.base);}else{half=vm.height/2;x1=Math.min(vm.x,vm.base);x2=Math.max(vm.x,vm.base);y1=vm.y-half;y2=vm.y+half;}
return{left:x1,top:y1,right:x2,bottom:y2};}
function swap(orig,v1,v2){return orig===v1?v2:orig===v2?v1:orig;}
function parseBorderSkipped(vm){var edge=vm.borderSkipped;var res={};if(!edge){return res;}
if(vm.horizontal){if(vm.base>vm.x){edge=swap(edge,'left','right');}}else if(vm.base<vm.y){edge=swap(edge,'bottom','top');}
res[edge]=true;return res;}
function parseBorderWidth(vm,maxW,maxH){var value=vm.borderWidth;var skip=parseBorderSkipped(vm);var t,r,b,l;if(helpers$1.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0;}else{t=r=b=l=+value||0;}
return{t:skip.top||(t<0)?0:t>maxH?maxH:t,r:skip.right||(r<0)?0:r>maxW?maxW:r,b:skip.bottom||(b<0)?0:b>maxH?maxH:b,l:skip.left||(l<0)?0:l>maxW?maxW:l};}
function boundingRects(vm){var bounds=getBarBounds(vm);var width=bounds.right-bounds.left;var height=bounds.bottom-bounds.top;var border=parseBorderWidth(vm,width/2,height/2);return{outer:{x:bounds.left,y:bounds.top,w:width,h:height},inner:{x:bounds.left+border.l,y:bounds.top+border.t,w:width-border.l-border.r,h:height-border.t-border.b}};}
function inRange(vm,x,y){var skipX=x===null;var skipY=y===null;var bounds=!vm||(skipX&&skipY)?false:getBarBounds(vm);return bounds&&(skipX||x>=bounds.left&&x<=bounds.right)&&(skipY||y>=bounds.top&&y<=bounds.bottom);}
var element_rectangle=core_element.extend({_type:'rectangle',draw:function(){var ctx=this._chart.ctx;var vm=this._view;var rects=boundingRects(vm);var outer=rects.outer;var inner=rects.inner;ctx.fillStyle=vm.backgroundColor;ctx.fillRect(outer.x,outer.y,outer.w,outer.h);if(outer.w===inner.w&&outer.h===inner.h){return;}
ctx.save();ctx.beginPath();ctx.rect(outer.x,outer.y,outer.w,outer.h);ctx.clip();ctx.fillStyle=vm.borderColor;ctx.rect(inner.x,inner.y,inner.w,inner.h);ctx.fill('evenodd');ctx.restore();},height:function(){var vm=this._view;return vm.base-vm.y;},inRange:function(mouseX,mouseY){return inRange(this._view,mouseX,mouseY);},inLabelRange:function(mouseX,mouseY){var vm=this._view;return isVertical(vm)?inRange(vm,mouseX,null):inRange(vm,null,mouseY);},inXRange:function(mouseX){return inRange(this._view,mouseX,null);},inYRange:function(mouseY){return inRange(this._view,null,mouseY);},getCenterPoint:function(){var vm=this._view;var x,y;if(isVertical(vm)){x=vm.x;y=(vm.y+vm.base)/2;}else{x=(vm.x+vm.base)/2;y=vm.y;}
return{x:x,y:y};},getArea:function(){var vm=this._view;return isVertical(vm)?vm.width*Math.abs(vm.y-vm.base):vm.height*Math.abs(vm.x-vm.base);},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y};}});var elements={};var Arc=element_arc;var Line=element_line;var Point=element_point;var Rectangle=element_rectangle;elements.Arc=Arc;elements.Line=Line;elements.Point=Point;elements.Rectangle=Rectangle;var deprecated=helpers$1._deprecated;var valueOrDefault$3=helpers$1.valueOrDefault;core_defaults._set('bar',{hover:{mode:'label'},scales:{xAxes:[{type:'category',offset:true,gridLines:{offsetGridLines:true}}],yAxes:[{type:'linear'}]}});core_defaults._set('global',{datasets:{bar:{categoryPercentage:0.8,barPercentage:0.9}}});function computeMinSampleSize(scale,pixels){var min=scale._length;var prev,curr,i,ilen;for(i=1,ilen=pixels.length;i<ilen;++i){min=Math.min(min,Math.abs(pixels[i]-pixels[i-1]));}
for(i=0,ilen=scale.getTicks().length;i<ilen;++i){curr=scale.getPixelForTick(i);min=i>0?Math.min(min,Math.abs(curr-prev)):min;prev=curr;}
return min;}
function computeFitCategoryTraits(index,ruler,options){var thickness=options.barThickness;var count=ruler.stackCount;var curr=ruler.pixels[index];var min=helpers$1.isNullOrUndef(thickness)?computeMinSampleSize(ruler.scale,ruler.pixels):-1;var size,ratio;if(helpers$1.isNullOrUndef(thickness)){size=min*options.categoryPercentage;ratio=options.barPercentage;}else{size=thickness*count;ratio=1;}
return{chunk:size/count,ratio:ratio,start:curr-(size/2)};}
function computeFlexCategoryTraits(index,ruler,options){var pixels=ruler.pixels;var curr=pixels[index];var prev=index>0?pixels[index-1]:null;var next=index<pixels.length-1?pixels[index+1]:null;var percent=options.categoryPercentage;var start,size;if(prev===null){prev=curr-(next===null?ruler.end-ruler.start:next-curr);}
if(next===null){next=curr+curr-prev;}
start=curr-(curr-Math.min(prev,next))/2*percent;size=Math.abs(next-prev)/2*percent;return{chunk:size/ruler.stackCount,ratio:options.barPercentage,start:start};}
var controller_bar=core_datasetController.extend({dataElementType:elements.Rectangle,_dataElementOptions:['backgroundColor','borderColor','borderSkipped','borderWidth','barPercentage','barThickness','categoryPercentage','maxBarThickness','minBarLength'],initialize:function(){var me=this;var meta,scaleOpts;core_datasetController.prototype.initialize.apply(me,arguments);meta=me.getMeta();meta.stack=me.getDataset().stack;meta.bar=true;scaleOpts=me._getIndexScale().options;deprecated('bar chart',scaleOpts.barPercentage,'scales.[x/y]Axes.barPercentage','dataset.barPercentage');deprecated('bar chart',scaleOpts.barThickness,'scales.[x/y]Axes.barThickness','dataset.barThickness');deprecated('bar chart',scaleOpts.categoryPercentage,'scales.[x/y]Axes.categoryPercentage','dataset.categoryPercentage');deprecated('bar chart',me._getValueScale().options.minBarLength,'scales.[x/y]Axes.minBarLength','dataset.minBarLength');deprecated('bar chart',scaleOpts.maxBarThickness,'scales.[x/y]Axes.maxBarThickness','dataset.maxBarThickness');},update:function(reset){var me=this;var rects=me.getMeta().data;var i,ilen;me._ruler=me.getRuler();for(i=0,ilen=rects.length;i<ilen;++i){me.updateElement(rects[i],i,reset);}},updateElement:function(rectangle,index,reset){var me=this;var meta=me.getMeta();var dataset=me.getDataset();var options=me._resolveDataElementOptions(rectangle,index);rectangle._xScale=me.getScaleForId(meta.xAxisID);rectangle._yScale=me.getScaleForId(meta.yAxisID);rectangle._datasetIndex=me.index;rectangle._index=index;rectangle._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderSkipped:options.borderSkipped,borderWidth:options.borderWidth,datasetLabel:dataset.label,label:me.chart.data.labels[index]};if(helpers$1.isArray(dataset.data[index])){rectangle._model.borderSkipped=null;}
me._updateElementGeometry(rectangle,index,reset,options);rectangle.pivot();},_updateElementGeometry:function(rectangle,index,reset,options){var me=this;var model=rectangle._model;var vscale=me._getValueScale();var base=vscale.getBasePixel();var horizontal=vscale.isHorizontal();var ruler=me._ruler||me.getRuler();var vpixels=me.calculateBarValuePixels(me.index,index,options);var ipixels=me.calculateBarIndexPixels(me.index,index,ruler,options);model.horizontal=horizontal;model.base=reset?base:vpixels.base;model.x=horizontal?reset?base:vpixels.head:ipixels.center;model.y=horizontal?ipixels.center:reset?base:vpixels.head;model.height=horizontal?ipixels.size:undefined;model.width=horizontal?undefined:ipixels.size;},_getStacks:function(last){var me=this;var scale=me._getIndexScale();var metasets=scale._getMatchingVisibleMetas(me._type);var stacked=scale.options.stacked;var ilen=metasets.length;var stacks=[];var i,meta;for(i=0;i<ilen;++i){meta=metasets[i];if(stacked===false||stacks.indexOf(meta.stack)===-1||(stacked===undefined&&meta.stack===undefined)){stacks.push(meta.stack);}
if(meta.index===last){break;}}
return stacks;},getStackCount:function(){return this._getStacks().length;},getStackIndex:function(datasetIndex,name){var stacks=this._getStacks(datasetIndex);var index=(name!==undefined)?stacks.indexOf(name):-1;return(index===-1)?stacks.length-1:index;},getRuler:function(){var me=this;var scale=me._getIndexScale();var pixels=[];var i,ilen;for(i=0,ilen=me.getMeta().data.length;i<ilen;++i){pixels.push(scale.getPixelForValue(null,i,me.index));}
return{pixels:pixels,start:scale._startPixel,end:scale._endPixel,stackCount:me.getStackCount(),scale:scale};},calculateBarValuePixels:function(datasetIndex,index,options){var me=this;var chart=me.chart;var scale=me._getValueScale();var isHorizontal=scale.isHorizontal();var datasets=chart.data.datasets;var metasets=scale._getMatchingVisibleMetas(me._type);var value=scale._parseValue(datasets[datasetIndex].data[index]);var minBarLength=options.minBarLength;var stacked=scale.options.stacked;var stack=me.getMeta().stack;var start=value.start===undefined?0:value.max>=0&&value.min>=0?value.min:value.max;var length=value.start===undefined?value.end:value.max>=0&&value.min>=0?value.max-value.min:value.min-value.max;var ilen=metasets.length;var i,imeta,ivalue,base,head,size,stackLength;if(stacked||(stacked===undefined&&stack!==undefined)){for(i=0;i<ilen;++i){imeta=metasets[i];if(imeta.index===datasetIndex){break;}
if(imeta.stack===stack){stackLength=scale._parseValue(datasets[imeta.index].data[index]);ivalue=stackLength.start===undefined?stackLength.end:stackLength.min>=0&&stackLength.max>=0?stackLength.max:stackLength.min;if((value.min<0&&ivalue<0)||(value.max>=0&&ivalue>0)){start+=ivalue;}}}}
base=scale.getPixelForValue(start);head=scale.getPixelForValue(start+length);size=head-base;if(minBarLength!==undefined&&Math.abs(size)<minBarLength){size=minBarLength;if(length>=0&&!isHorizontal||length<0&&isHorizontal){head=base-minBarLength;}else{head=base+minBarLength;}}
return{size:size,base:base,head:head,center:head+size/2};},calculateBarIndexPixels:function(datasetIndex,index,ruler,options){var me=this;var range=options.barThickness==='flex'?computeFlexCategoryTraits(index,ruler,options):computeFitCategoryTraits(index,ruler,options);var stackIndex=me.getStackIndex(datasetIndex,me.getMeta().stack);var center=range.start+(range.chunk*stackIndex)+(range.chunk/2);var size=Math.min(valueOrDefault$3(options.maxBarThickness,Infinity),range.chunk*range.ratio);return{base:center-size/2,head:center+size/2,center:center,size:size};},draw:function(){var me=this;var chart=me.chart;var scale=me._getValueScale();var rects=me.getMeta().data;var dataset=me.getDataset();var ilen=rects.length;var i=0;helpers$1.canvas.clipArea(chart.ctx,chart.chartArea);for(;i<ilen;++i){var val=scale._parseValue(dataset.data[i]);if(!isNaN(val.min)&&!isNaN(val.max)){rects[i].draw();}}
helpers$1.canvas.unclipArea(chart.ctx);},_resolveDataElementOptions:function(){var me=this;var values=helpers$1.extend({},core_datasetController.prototype._resolveDataElementOptions.apply(me,arguments));var indexOpts=me._getIndexScale().options;var valueOpts=me._getValueScale().options;values.barPercentage=valueOrDefault$3(indexOpts.barPercentage,values.barPercentage);values.barThickness=valueOrDefault$3(indexOpts.barThickness,values.barThickness);values.categoryPercentage=valueOrDefault$3(indexOpts.categoryPercentage,values.categoryPercentage);values.maxBarThickness=valueOrDefault$3(indexOpts.maxBarThickness,values.maxBarThickness);values.minBarLength=valueOrDefault$3(valueOpts.minBarLength,values.minBarLength);return values;}});var valueOrDefault$4=helpers$1.valueOrDefault;var resolve$1=helpers$1.options.resolve;core_defaults._set('bubble',{hover:{mode:'single'},scales:{xAxes:[{type:'linear',position:'bottom',id:'x-axis-0'}],yAxes:[{type:'linear',position:'left',id:'y-axis-0'}]},tooltips:{callbacks:{title:function(){return'';},label:function(item,data){var datasetLabel=data.datasets[item.datasetIndex].label||'';var dataPoint=data.datasets[item.datasetIndex].data[item.index];return datasetLabel+': ('+item.xLabel+', '+item.yLabel+', '+dataPoint.r+')';}}}});var controller_bubble=core_datasetController.extend({dataElementType:elements.Point,_dataElementOptions:['backgroundColor','borderColor','borderWidth','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth','hoverRadius','hitRadius','pointStyle','rotation'],update:function(reset){var me=this;var meta=me.getMeta();var points=meta.data;helpers$1.each(points,function(point,index){me.updateElement(point,index,reset);});},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var xScale=me.getScaleForId(meta.xAxisID);var yScale=me.getScaleForId(meta.yAxisID);var options=me._resolveDataElementOptions(point,index);var data=me.getDataset().data[index];var dsIndex=me.index;var x=reset?xScale.getPixelForDecimal(0.5):xScale.getPixelForValue(typeof data==='object'?data:NaN,index,dsIndex);var y=reset?yScale.getBasePixel():yScale.getPixelForValue(data,index,dsIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=dsIndex;point._index=index;point._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,hitRadius:options.hitRadius,pointStyle:options.pointStyle,rotation:options.rotation,radius:reset?0:options.radius,skip:custom.skip||isNaN(x)||isNaN(y),x:x,y:y,};point.pivot();},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$4(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$4(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$4(options.hoverBorderWidth,options.borderWidth);model.radius=options.radius+options.hoverRadius;},_resolveDataElementOptions:function(point,index){var me=this;var chart=me.chart;var dataset=me.getDataset();var custom=point.custom||{};var data=dataset.data[index]||{};var values=core_datasetController.prototype._resolveDataElementOptions.apply(me,arguments);var context={chart:chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};if(me._cachedDataOpts===values){values=helpers$1.extend({},values);}
values.radius=resolve$1([custom.radius,data.r,me._config.radius,chart.options.elements.point.radius],context,index);return values;}});var valueOrDefault$5=helpers$1.valueOrDefault;var PI$1=Math.PI;var DOUBLE_PI$1=PI$1*2;var HALF_PI$1=PI$1/2;core_defaults._set('doughnut',{animation:{animateRotate:true,animateScale:false},hover:{mode:'single'},legendCallback:function(chart){var list=document.createElement('ul');var data=chart.data;var datasets=data.datasets;var labels=data.labels;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');if(datasets.length){for(i=0,ilen=datasets[0].data.length;i<ilen;++i){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[0].backgroundColor[i];if(labels[i]){listItem.appendChild(document.createTextNode(labels[i]));}}}
return list.outerHTML;},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i};});}
return[];}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);if(meta.data[index]){meta.data[index].hidden=!meta.data[index].hidden;}}
chart.update();}},cutoutPercentage:50,rotation:-HALF_PI$1,circumference:DOUBLE_PI$1,tooltips:{callbacks:{title:function(){return'';},label:function(tooltipItem,data){var dataLabel=data.labels[tooltipItem.index];var value=': '+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];if(helpers$1.isArray(dataLabel)){dataLabel=dataLabel.slice();dataLabel[0]+=value;}else{dataLabel+=value;}
return dataLabel;}}}});var controller_doughnut=core_datasetController.extend({dataElementType:elements.Arc,linkScales:helpers$1.noop,_dataElementOptions:['backgroundColor','borderColor','borderWidth','borderAlign','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth',],getRingIndex:function(datasetIndex){var ringIndex=0;for(var j=0;j<datasetIndex;++j){if(this.chart.isDatasetVisible(j)){++ringIndex;}}
return ringIndex;},update:function(reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var ratioX=1;var ratioY=1;var offsetX=0;var offsetY=0;var meta=me.getMeta();var arcs=meta.data;var cutout=opts.cutoutPercentage/100||0;var circumference=opts.circumference;var chartWeight=me._getRingWeight(me.index);var maxWidth,maxHeight,i,ilen;if(circumference<DOUBLE_PI$1){var startAngle=opts.rotation%DOUBLE_PI$1;startAngle+=startAngle>=PI$1?-DOUBLE_PI$1:startAngle<-PI$1?DOUBLE_PI$1:0;var endAngle=startAngle+circumference;var startX=Math.cos(startAngle);var startY=Math.sin(startAngle);var endX=Math.cos(endAngle);var endY=Math.sin(endAngle);var contains0=(startAngle<=0&&endAngle>=0)||endAngle>=DOUBLE_PI$1;var contains90=(startAngle<=HALF_PI$1&&endAngle>=HALF_PI$1)||endAngle>=DOUBLE_PI$1+HALF_PI$1;var contains180=startAngle===-PI$1||endAngle>=PI$1;var contains270=(startAngle<=-HALF_PI$1&&endAngle>=-HALF_PI$1)||endAngle>=PI$1+HALF_PI$1;var minX=contains180?-1:Math.min(startX,startX*cutout,endX,endX*cutout);var minY=contains270?-1:Math.min(startY,startY*cutout,endY,endY*cutout);var maxX=contains0?1:Math.max(startX,startX*cutout,endX,endX*cutout);var maxY=contains90?1:Math.max(startY,startY*cutout,endY,endY*cutout);ratioX=(maxX-minX)/2;ratioY=(maxY-minY)/2;offsetX=-(maxX+minX)/2;offsetY=-(maxY+minY)/2;}
for(i=0,ilen=arcs.length;i<ilen;++i){arcs[i]._options=me._resolveDataElementOptions(arcs[i],i);}
chart.borderWidth=me.getMaxBorderWidth();maxWidth=(chartArea.right-chartArea.left-chart.borderWidth)/ratioX;maxHeight=(chartArea.bottom-chartArea.top-chart.borderWidth)/ratioY;chart.outerRadius=Math.max(Math.min(maxWidth,maxHeight)/2,0);chart.innerRadius=Math.max(chart.outerRadius*cutout,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/(me._getVisibleDatasetWeightTotal()||1);chart.offsetX=offsetX*chart.outerRadius;chart.offsetY=offsetY*chart.outerRadius;meta.total=me.calculateTotal();me.outerRadius=chart.outerRadius-chart.radiusLength*me._getRingWeightOffset(me.index);me.innerRadius=Math.max(me.outerRadius-chart.radiusLength*chartWeight,0);for(i=0,ilen=arcs.length;i<ilen;++i){me.updateElement(arcs[i],i,reset);}},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var animationOpts=opts.animation;var centerX=(chartArea.left+chartArea.right)/2;var centerY=(chartArea.top+chartArea.bottom)/2;var startAngle=opts.rotation;var endAngle=opts.rotation;var dataset=me.getDataset();var circumference=reset&&animationOpts.animateRotate?0:arc.hidden?0:me.calculateCircumference(dataset.data[index])*(opts.circumference/DOUBLE_PI$1);var innerRadius=reset&&animationOpts.animateScale?0:me.innerRadius;var outerRadius=reset&&animationOpts.animateScale?0:me.outerRadius;var options=arc._options||{};helpers$1.extend(arc,{_datasetIndex:me.index,_index:index,_model:{backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,borderAlign:options.borderAlign,x:centerX+chart.offsetX,y:centerY+chart.offsetY,startAngle:startAngle,endAngle:endAngle,circumference:circumference,outerRadius:outerRadius,innerRadius:innerRadius,label:helpers$1.valueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])}});var model=arc._model;if(!reset||!animationOpts.animateRotate){if(index===0){model.startAngle=opts.rotation;}else{model.startAngle=me.getMeta().data[index-1]._model.endAngle;}
model.endAngle=model.startAngle+model.circumference;}
arc.pivot();},calculateTotal:function(){var dataset=this.getDataset();var meta=this.getMeta();var total=0;var value;helpers$1.each(meta.data,function(element,index){value=dataset.data[index];if(!isNaN(value)&&!element.hidden){total+=Math.abs(value);}});return total;},calculateCircumference:function(value){var total=this.getMeta().total;if(total>0&&!isNaN(value)){return DOUBLE_PI$1*(Math.abs(value)/total);}
return 0;},getMaxBorderWidth:function(arcs){var me=this;var max=0;var chart=me.chart;var i,ilen,meta,arc,controller,options,borderWidth,hoverWidth;if(!arcs){for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);arcs=meta.data;if(i!==me.index){controller=meta.controller;}
break;}}}
if(!arcs){return 0;}
for(i=0,ilen=arcs.length;i<ilen;++i){arc=arcs[i];if(controller){controller._configure();options=controller._resolveDataElementOptions(arc,i);}else{options=arc._options;}
if(options.borderAlign!=='inner'){borderWidth=options.borderWidth;hoverWidth=options.hoverBorderWidth;max=borderWidth>max?borderWidth:max;max=hoverWidth>max?hoverWidth:max;}}
return max;},setHoverStyle:function(arc){var model=arc._model;var options=arc._options;var getHoverColor=helpers$1.getHoverColor;arc.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,};model.backgroundColor=valueOrDefault$5(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$5(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$5(options.hoverBorderWidth,options.borderWidth);},_getRingWeightOffset:function(datasetIndex){var ringWeightOffset=0;for(var i=0;i<datasetIndex;++i){if(this.chart.isDatasetVisible(i)){ringWeightOffset+=this._getRingWeight(i);}}
return ringWeightOffset;},_getRingWeight:function(dataSetIndex){return Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight,1),0);},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length);}});core_defaults._set('horizontalBar',{hover:{mode:'index',axis:'y'},scales:{xAxes:[{type:'linear',position:'bottom'}],yAxes:[{type:'category',position:'left',offset:true,gridLines:{offsetGridLines:true}}]},elements:{rectangle:{borderSkipped:'left'}},tooltips:{mode:'index',axis:'y'}});core_defaults._set('global',{datasets:{horizontalBar:{categoryPercentage:0.8,barPercentage:0.9}}});var controller_horizontalBar=controller_bar.extend({_getValueScaleId:function(){return this.getMeta().xAxisID;},_getIndexScaleId:function(){return this.getMeta().yAxisID;}});var valueOrDefault$6=helpers$1.valueOrDefault;var resolve$2=helpers$1.options.resolve;var isPointInArea=helpers$1.canvas._isPointInArea;core_defaults._set('line',{showLines:true,spanGaps:false,hover:{mode:'label'},scales:{xAxes:[{type:'category',id:'x-axis-0'}],yAxes:[{type:'linear',id:'y-axis-0'}]}});function scaleClip(scale,halfBorderWidth){var tickOpts=scale&&scale.options.ticks||{};var reverse=tickOpts.reverse;var min=tickOpts.min===undefined?halfBorderWidth:0;var max=tickOpts.max===undefined?halfBorderWidth:0;return{start:reverse?max:min,end:reverse?min:max};}
function defaultClip(xScale,yScale,borderWidth){var halfBorderWidth=borderWidth/2;var x=scaleClip(xScale,halfBorderWidth);var y=scaleClip(yScale,halfBorderWidth);return{top:y.end,right:x.end,bottom:y.start,left:x.start};}
function toClip(value){var t,r,b,l;if(helpers$1.isObject(value)){t=value.top;r=value.right;b=value.bottom;l=value.left;}else{t=r=b=l=value;}
return{top:t,right:r,bottom:b,left:l};}
var controller_line=core_datasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,_datasetElementOptions:['backgroundColor','borderCapStyle','borderColor','borderDash','borderDashOffset','borderJoinStyle','borderWidth','cubicInterpolationMode','fill'],_dataElementOptions:{backgroundColor:'pointBackgroundColor',borderColor:'pointBorderColor',borderWidth:'pointBorderWidth',hitRadius:'pointHitRadius',hoverBackgroundColor:'pointHoverBackgroundColor',hoverBorderColor:'pointHoverBorderColor',hoverBorderWidth:'pointHoverBorderWidth',hoverRadius:'pointHoverRadius',pointStyle:'pointStyle',radius:'pointRadius',rotation:'pointRotation'},update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var options=me.chart.options;var config=me._config;var showLine=me._showLine=valueOrDefault$6(config.showLine,options.showLines);var i,ilen;me._xScale=me.getScaleForId(meta.xAxisID);me._yScale=me.getScaleForId(meta.yAxisID);if(showLine){if(config.tension!==undefined&&config.lineTension===undefined){config.lineTension=config.tension;}
line._scale=me._yScale;line._datasetIndex=me.index;line._children=points;line._model=me._resolveDatasetElementOptions(line);line.pivot();}
for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset);}
if(showLine&&line._model.tension!==0){me.updateBezierControlPoints();}
for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot();}},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var dataset=me.getDataset();var datasetIndex=me.index;var value=dataset.data[index];var xScale=me._xScale;var yScale=me._yScale;var lineModel=meta.dataset._model;var x,y;var options=me._resolveDataElementOptions(point,index);x=xScale.getPixelForValue(typeof value==='object'?value:NaN,index,datasetIndex);y=reset?yScale.getBasePixel():me.calculatePointY(value,index,datasetIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=datasetIndex;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:options.radius,pointStyle:options.pointStyle,rotation:options.rotation,backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,tension:valueOrDefault$6(custom.tension,lineModel?lineModel.tension:0),steppedLine:lineModel?lineModel.steppedLine:false,hitRadius:options.hitRadius};},_resolveDatasetElementOptions:function(element){var me=this;var config=me._config;var custom=element.custom||{};var options=me.chart.options;var lineOptions=options.elements.line;var values=core_datasetController.prototype._resolveDatasetElementOptions.apply(me,arguments);values.spanGaps=valueOrDefault$6(config.spanGaps,options.spanGaps);values.tension=valueOrDefault$6(config.lineTension,lineOptions.tension);values.steppedLine=resolve$2([custom.steppedLine,config.steppedLine,lineOptions.stepped]);values.clip=toClip(valueOrDefault$6(config.clip,defaultClip(me._xScale,me._yScale,values.borderWidth)));return values;},calculatePointY:function(value,index,datasetIndex){var me=this;var chart=me.chart;var yScale=me._yScale;var sumPos=0;var sumNeg=0;var i,ds,dsMeta,stackedRightValue,rightValue,metasets,ilen;if(yScale.options.stacked){rightValue=+yScale.getRightValue(value);metasets=chart._getSortedVisibleDatasetMetas();ilen=metasets.length;for(i=0;i<ilen;++i){dsMeta=metasets[i];if(dsMeta.index===datasetIndex){break;}
ds=chart.data.datasets[dsMeta.index];if(dsMeta.type==='line'&&dsMeta.yAxisID===yScale.id){stackedRightValue=+yScale.getRightValue(ds.data[index]);if(stackedRightValue<0){sumNeg+=stackedRightValue||0;}else{sumPos+=stackedRightValue||0;}}}
if(rightValue<0){return yScale.getPixelForValue(sumNeg+rightValue);}
return yScale.getPixelForValue(sumPos+rightValue);}
return yScale.getPixelForValue(value);},updateBezierControlPoints:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var lineModel=meta.dataset._model;var area=chart.chartArea;var points=meta.data||[];var i,ilen,model,controlPoints;if(lineModel.spanGaps){points=points.filter(function(pt){return!pt._model.skip;});}
function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min);}
if(lineModel.cubicInterpolationMode==='monotone'){helpers$1.splineCurveMonotone(points);}else{for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;controlPoints=helpers$1.splineCurve(helpers$1.previousItem(points,i)._model,model,helpers$1.nextItem(points,i)._model,lineModel.tension);model.controlPointPreviousX=controlPoints.previous.x;model.controlPointPreviousY=controlPoints.previous.y;model.controlPointNextX=controlPoints.next.x;model.controlPointNextY=controlPoints.next.y;}}
if(chart.options.elements.line.capBezierPoints){for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;if(isPointInArea(model,area)){if(i>0&&isPointInArea(points[i-1]._model,area)){model.controlPointPreviousX=capControlPoint(model.controlPointPreviousX,area.left,area.right);model.controlPointPreviousY=capControlPoint(model.controlPointPreviousY,area.top,area.bottom);}
if(i<points.length-1&&isPointInArea(points[i+1]._model,area)){model.controlPointNextX=capControlPoint(model.controlPointNextX,area.left,area.right);model.controlPointNextY=capControlPoint(model.controlPointNextY,area.top,area.bottom);}}}}},draw:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var points=meta.data||[];var area=chart.chartArea;var canvas=chart.canvas;var i=0;var ilen=points.length;var clip;if(me._showLine){clip=meta.dataset._model.clip;helpers$1.canvas.clipArea(chart.ctx,{left:clip.left===false?0:area.left-clip.left,right:clip.right===false?canvas.width:area.right+clip.right,top:clip.top===false?0:area.top-clip.top,bottom:clip.bottom===false?canvas.height:area.bottom+clip.bottom});meta.dataset.draw();helpers$1.canvas.unclipArea(chart.ctx);}
for(;i<ilen;++i){points[i].draw(area);}},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$6(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$6(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$6(options.hoverBorderWidth,options.borderWidth);model.radius=valueOrDefault$6(options.hoverRadius,options.radius);},});var resolve$3=helpers$1.options.resolve;core_defaults._set('polarArea',{scale:{type:'radialLinear',angleLines:{display:false},gridLines:{circular:true},pointLabels:{display:false},ticks:{beginAtZero:true}},animation:{animateRotate:true,animateScale:true},startAngle:-0.5*Math.PI,legendCallback:function(chart){var list=document.createElement('ul');var data=chart.data;var datasets=data.datasets;var labels=data.labels;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');if(datasets.length){for(i=0,ilen=datasets[0].data.length;i<ilen;++i){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[0].backgroundColor[i];if(labels[i]){listItem.appendChild(document.createTextNode(labels[i]));}}}
return list.outerHTML;},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i};});}
return[];}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);meta.data[index].hidden=!meta.data[index].hidden;}
chart.update();}},tooltips:{callbacks:{title:function(){return'';},label:function(item,data){return data.labels[item.index]+': '+item.yLabel;}}}});var controller_polarArea=core_datasetController.extend({dataElementType:elements.Arc,linkScales:helpers$1.noop,_dataElementOptions:['backgroundColor','borderColor','borderWidth','borderAlign','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth',],_getIndexScaleId:function(){return this.chart.scale.id;},_getValueScaleId:function(){return this.chart.scale.id;},update:function(reset){var me=this;var dataset=me.getDataset();var meta=me.getMeta();var start=me.chart.options.startAngle||0;var starts=me._starts=[];var angles=me._angles=[];var arcs=meta.data;var i,ilen,angle;me._updateRadius();meta.count=me.countVisibleElements();for(i=0,ilen=dataset.data.length;i<ilen;i++){starts[i]=start;angle=me._computeAngle(i);angles[i]=angle;start+=angle;}
for(i=0,ilen=arcs.length;i<ilen;++i){arcs[i]._options=me._resolveDataElementOptions(arcs[i],i);me.updateElement(arcs[i],i,reset);}},_updateRadius:function(){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var minSize=Math.min(chartArea.right-chartArea.left,chartArea.bottom-chartArea.top);chart.outerRadius=Math.max(minSize/2,0);chart.innerRadius=Math.max(opts.cutoutPercentage?(chart.outerRadius/100)*(opts.cutoutPercentage):1,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/chart.getVisibleDatasetCount();me.outerRadius=chart.outerRadius-(chart.radiusLength*me.index);me.innerRadius=me.outerRadius-chart.radiusLength;},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var dataset=me.getDataset();var opts=chart.options;var animationOpts=opts.animation;var scale=chart.scale;var labels=chart.data.labels;var centerX=scale.xCenter;var centerY=scale.yCenter;var datasetStartAngle=opts.startAngle;var distance=arc.hidden?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var startAngle=me._starts[index];var endAngle=startAngle+(arc.hidden?0:me._angles[index]);var resetRadius=animationOpts.animateScale?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var options=arc._options||{};helpers$1.extend(arc,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,borderAlign:options.borderAlign,x:centerX,y:centerY,innerRadius:0,outerRadius:reset?resetRadius:distance,startAngle:reset&&animationOpts.animateRotate?datasetStartAngle:startAngle,endAngle:reset&&animationOpts.animateRotate?datasetStartAngle:endAngle,label:helpers$1.valueAtIndexOrDefault(labels,index,labels[index])}});arc.pivot();},countVisibleElements:function(){var dataset=this.getDataset();var meta=this.getMeta();var count=0;helpers$1.each(meta.data,function(element,index){if(!isNaN(dataset.data[index])&&!element.hidden){count++;}});return count;},setHoverStyle:function(arc){var model=arc._model;var options=arc._options;var getHoverColor=helpers$1.getHoverColor;var valueOrDefault=helpers$1.valueOrDefault;arc.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,};model.backgroundColor=valueOrDefault(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault(options.hoverBorderWidth,options.borderWidth);},_computeAngle:function(index){var me=this;var count=this.getMeta().count;var dataset=me.getDataset();var meta=me.getMeta();if(isNaN(dataset.data[index])||meta.data[index].hidden){return 0;}
var context={chart:me.chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};return resolve$3([me.chart.options.elements.arc.angle,(2*Math.PI)/count],context,index);}});core_defaults._set('pie',helpers$1.clone(core_defaults.doughnut));core_defaults._set('pie',{cutoutPercentage:0});var controller_pie=controller_doughnut;var valueOrDefault$7=helpers$1.valueOrDefault;core_defaults._set('radar',{spanGaps:false,scale:{type:'radialLinear'},elements:{line:{fill:'start',tension:0}}});var controller_radar=core_datasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,linkScales:helpers$1.noop,_datasetElementOptions:['backgroundColor','borderWidth','borderColor','borderCapStyle','borderDash','borderDashOffset','borderJoinStyle','fill'],_dataElementOptions:{backgroundColor:'pointBackgroundColor',borderColor:'pointBorderColor',borderWidth:'pointBorderWidth',hitRadius:'pointHitRadius',hoverBackgroundColor:'pointHoverBackgroundColor',hoverBorderColor:'pointHoverBorderColor',hoverBorderWidth:'pointHoverBorderWidth',hoverRadius:'pointHoverRadius',pointStyle:'pointStyle',radius:'pointRadius',rotation:'pointRotation'},_getIndexScaleId:function(){return this.chart.scale.id;},_getValueScaleId:function(){return this.chart.scale.id;},update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var scale=me.chart.scale;var config=me._config;var i,ilen;if(config.tension!==undefined&&config.lineTension===undefined){config.lineTension=config.tension;}
line._scale=scale;line._datasetIndex=me.index;line._children=points;line._loop=true;line._model=me._resolveDatasetElementOptions(line);line.pivot();for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset);}
me.updateBezierControlPoints();for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot();}},updateElement:function(point,index,reset){var me=this;var custom=point.custom||{};var dataset=me.getDataset();var scale=me.chart.scale;var pointPosition=scale.getPointPositionForValue(index,dataset.data[index]);var options=me._resolveDataElementOptions(point,index);var lineModel=me.getMeta().dataset._model;var x=reset?scale.xCenter:pointPosition.x;var y=reset?scale.yCenter:pointPosition.y;point._scale=scale;point._options=options;point._datasetIndex=me.index;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:options.radius,pointStyle:options.pointStyle,rotation:options.rotation,backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,tension:valueOrDefault$7(custom.tension,lineModel?lineModel.tension:0),hitRadius:options.hitRadius};},_resolveDatasetElementOptions:function(){var me=this;var config=me._config;var options=me.chart.options;var values=core_datasetController.prototype._resolveDatasetElementOptions.apply(me,arguments);values.spanGaps=valueOrDefault$7(config.spanGaps,options.spanGaps);values.tension=valueOrDefault$7(config.lineTension,options.elements.line.tension);return values;},updateBezierControlPoints:function(){var me=this;var meta=me.getMeta();var area=me.chart.chartArea;var points=meta.data||[];var i,ilen,model,controlPoints;if(meta.dataset._model.spanGaps){points=points.filter(function(pt){return!pt._model.skip;});}
function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min);}
for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;controlPoints=helpers$1.splineCurve(helpers$1.previousItem(points,i,true)._model,model,helpers$1.nextItem(points,i,true)._model,model.tension);model.controlPointPreviousX=capControlPoint(controlPoints.previous.x,area.left,area.right);model.controlPointPreviousY=capControlPoint(controlPoints.previous.y,area.top,area.bottom);model.controlPointNextX=capControlPoint(controlPoints.next.x,area.left,area.right);model.controlPointNextY=capControlPoint(controlPoints.next.y,area.top,area.bottom);}},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$7(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$7(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$7(options.hoverBorderWidth,options.borderWidth);model.radius=valueOrDefault$7(options.hoverRadius,options.radius);}});core_defaults._set('scatter',{hover:{mode:'single'},scales:{xAxes:[{id:'x-axis-1',type:'linear',position:'bottom'}],yAxes:[{id:'y-axis-1',type:'linear',position:'left'}]},tooltips:{callbacks:{title:function(){return'';},label:function(item){return'('+item.xLabel+', '+item.yLabel+')';}}}});core_defaults._set('global',{datasets:{scatter:{showLine:false}}});var controller_scatter=controller_line;var controllers={bar:controller_bar,bubble:controller_bubble,doughnut:controller_doughnut,horizontalBar:controller_horizontalBar,line:controller_line,polarArea:controller_polarArea,pie:controller_pie,radar:controller_radar,scatter:controller_scatter};function getRelativePosition(e,chart){if(e.native){return{x:e.x,y:e.y};}
return helpers$1.getRelativePosition(e,chart);}
function parseVisibleItems(chart,handler){var metasets=chart._getSortedVisibleDatasetMetas();var metadata,i,j,ilen,jlen,element;for(i=0,ilen=metasets.length;i<ilen;++i){metadata=metasets[i].data;for(j=0,jlen=metadata.length;j<jlen;++j){element=metadata[j];if(!element._view.skip){handler(element);}}}}
function getIntersectItems(chart,position){var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);}});return elements;}
function getNearestItems(chart,position,intersect,distanceMetric){var minDistance=Number.POSITIVE_INFINITY;var nearestItems=[];parseVisibleItems(chart,function(element){if(intersect&&!element.inRange(position.x,position.y)){return;}
var center=element.getCenterPoint();var distance=distanceMetric(position,center);if(distance<minDistance){nearestItems=[element];minDistance=distance;}else if(distance===minDistance){nearestItems.push(element);}});return nearestItems;}
function getDistanceMetricForAxis(axis){var useX=axis.indexOf('x')!==-1;var useY=axis.indexOf('y')!==-1;return function(pt1,pt2){var deltaX=useX?Math.abs(pt1.x-pt2.x):0;var deltaY=useY?Math.abs(pt1.y-pt2.y):0;return Math.sqrt(Math.pow(deltaX,2)+Math.pow(deltaY,2));};}
function indexMode(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'x';var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);var elements=[];if(!items.length){return[];}
chart._getSortedVisibleDatasetMetas().forEach(function(meta){var element=meta.data[items[0]._index];if(element&&!element._view.skip){elements.push(element);}});return elements;}
var core_interaction={modes:{single:function(chart,e){var position=getRelativePosition(e,chart);var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);return elements;}});return elements.slice(0,1);},label:indexMode,index:indexMode,dataset:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'xy';var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);if(items.length>0){items=chart.getDatasetMeta(items[0]._datasetIndex).data;}
return items;},'x-axis':function(chart,e){return indexMode(chart,e,{intersect:false});},point:function(chart,e){var position=getRelativePosition(e,chart);return getIntersectItems(chart,position);},nearest:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'xy';var distanceMetric=getDistanceMetricForAxis(options.axis);return getNearestItems(chart,position,options.intersect,distanceMetric);},x:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inXRange(position.x)){items.push(element);}
if(element.inRange(position.x,position.y)){intersectsItem=true;}});if(options.intersect&&!intersectsItem){items=[];}
return items;},y:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inYRange(position.y)){items.push(element);}
if(element.inRange(position.x,position.y)){intersectsItem=true;}});if(options.intersect&&!intersectsItem){items=[];}
return items;}}};var extend=helpers$1.extend;function filterByPosition(array,position){return helpers$1.where(array,function(v){return v.pos===position;});}
function sortByWeight(array,reverse){return array.sort(function(a,b){var v0=reverse?b:a;var v1=reverse?a:b;return v0.weight===v1.weight?v0.index-v1.index:v0.weight-v1.weight;});}
function wrapBoxes(boxes){var layoutBoxes=[];var i,ilen,box;for(i=0,ilen=(boxes||[]).length;i<ilen;++i){box=boxes[i];layoutBoxes.push({index:i,box:box,pos:box.position,horizontal:box.isHorizontal(),weight:box.weight});}
return layoutBoxes;}
function setLayoutDims(layouts,params){var i,ilen,layout;for(i=0,ilen=layouts.length;i<ilen;++i){layout=layouts[i];layout.width=layout.horizontal?layout.box.fullWidth&&params.availableWidth:params.vBoxMaxWidth;layout.height=layout.horizontal&&params.hBoxMaxHeight;}}
function buildLayoutBoxes(boxes){var layoutBoxes=wrapBoxes(boxes);var left=sortByWeight(filterByPosition(layoutBoxes,'left'),true);var right=sortByWeight(filterByPosition(layoutBoxes,'right'));var top=sortByWeight(filterByPosition(layoutBoxes,'top'),true);var bottom=sortByWeight(filterByPosition(layoutBoxes,'bottom'));return{leftAndTop:left.concat(top),rightAndBottom:right.concat(bottom),chartArea:filterByPosition(layoutBoxes,'chartArea'),vertical:left.concat(right),horizontal:top.concat(bottom)};}
function getCombinedMax(maxPadding,chartArea,a,b){return Math.max(maxPadding[a],chartArea[a])+Math.max(maxPadding[b],chartArea[b]);}
function updateDims(chartArea,params,layout){var box=layout.box;var maxPadding=chartArea.maxPadding;var newWidth,newHeight;if(layout.size){chartArea[layout.pos]-=layout.size;}
layout.size=layout.horizontal?box.height:box.width;chartArea[layout.pos]+=layout.size;if(box.getPadding){var boxPadding=box.getPadding();maxPadding.top=Math.max(maxPadding.top,boxPadding.top);maxPadding.left=Math.max(maxPadding.left,boxPadding.left);maxPadding.bottom=Math.max(maxPadding.bottom,boxPadding.bottom);maxPadding.right=Math.max(maxPadding.right,boxPadding.right);}
newWidth=params.outerWidth-getCombinedMax(maxPadding,chartArea,'left','right');newHeight=params.outerHeight-getCombinedMax(maxPadding,chartArea,'top','bottom');if(newWidth!==chartArea.w||newHeight!==chartArea.h){chartArea.w=newWidth;chartArea.h=newHeight;var sizes=layout.horizontal?[newWidth,chartArea.w]:[newHeight,chartArea.h];return sizes[0]!==sizes[1]&&(!isNaN(sizes[0])||!isNaN(sizes[1]));}}
function handleMaxPadding(chartArea){var maxPadding=chartArea.maxPadding;function updatePos(pos){var change=Math.max(maxPadding[pos]-chartArea[pos],0);chartArea[pos]+=change;return change;}
chartArea.y+=updatePos('top');chartArea.x+=updatePos('left');updatePos('right');updatePos('bottom');}
function getMargins(horizontal,chartArea){var maxPadding=chartArea.maxPadding;function marginForPositions(positions){var margin={left:0,top:0,right:0,bottom:0};positions.forEach(function(pos){margin[pos]=Math.max(chartArea[pos],maxPadding[pos]);});return margin;}
return horizontal?marginForPositions(['left','right']):marginForPositions(['top','bottom']);}
function fitBoxes(boxes,chartArea,params){var refitBoxes=[];var i,ilen,layout,box,refit,changed;for(i=0,ilen=boxes.length;i<ilen;++i){layout=boxes[i];box=layout.box;box.update(layout.width||chartArea.w,layout.height||chartArea.h,getMargins(layout.horizontal,chartArea));if(updateDims(chartArea,params,layout)){changed=true;if(refitBoxes.length){refit=true;}}
if(!box.fullWidth){refitBoxes.push(layout);}}
return refit?fitBoxes(refitBoxes,chartArea,params)||changed:changed;}
function placeBoxes(boxes,chartArea,params){var userPadding=params.padding;var x=chartArea.x;var y=chartArea.y;var i,ilen,layout,box;for(i=0,ilen=boxes.length;i<ilen;++i){layout=boxes[i];box=layout.box;if(layout.horizontal){box.left=box.fullWidth?userPadding.left:chartArea.left;box.right=box.fullWidth?params.outerWidth-userPadding.right:chartArea.left+chartArea.w;box.top=y;box.bottom=y+box.height;box.width=box.right-box.left;y=box.bottom;}else{box.left=x;box.right=x+box.width;box.top=chartArea.top;box.bottom=chartArea.top+chartArea.h;box.height=box.bottom-box.top;x=box.right;}}
chartArea.x=x;chartArea.y=y;}
core_defaults._set('global',{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var core_layouts={defaults:{},addBox:function(chart,item){if(!chart.boxes){chart.boxes=[];}
item.fullWidth=item.fullWidth||false;item.position=item.position||'top';item.weight=item.weight||0;item._layers=item._layers||function(){return[{z:0,draw:function(){item.draw.apply(item,arguments);}}];};chart.boxes.push(item);},removeBox:function(chart,layoutItem){var index=chart.boxes?chart.boxes.indexOf(layoutItem):-1;if(index!==-1){chart.boxes.splice(index,1);}},configure:function(chart,item,options){var props=['fullWidth','position','weight'];var ilen=props.length;var i=0;var prop;for(;i<ilen;++i){prop=props[i];if(options.hasOwnProperty(prop)){item[prop]=options[prop];}}},update:function(chart,width,height){if(!chart){return;}
var layoutOptions=chart.options.layout||{};var padding=helpers$1.options.toPadding(layoutOptions.padding);var availableWidth=width-padding.width;var availableHeight=height-padding.height;var boxes=buildLayoutBoxes(chart.boxes);var verticalBoxes=boxes.vertical;var horizontalBoxes=boxes.horizontal;var params=Object.freeze({outerWidth:width,outerHeight:height,padding:padding,availableWidth:availableWidth,vBoxMaxWidth:availableWidth/2/verticalBoxes.length,hBoxMaxHeight:availableHeight/2});var chartArea=extend({maxPadding:extend({},padding),w:availableWidth,h:availableHeight,x:padding.left,y:padding.top},padding);setLayoutDims(verticalBoxes.concat(horizontalBoxes),params);fitBoxes(verticalBoxes,chartArea,params);if(fitBoxes(horizontalBoxes,chartArea,params)){fitBoxes(verticalBoxes,chartArea,params);}
handleMaxPadding(chartArea);placeBoxes(boxes.leftAndTop,chartArea,params);chartArea.x+=chartArea.w;chartArea.y+=chartArea.h;placeBoxes(boxes.rightAndBottom,chartArea,params);chart.chartArea={left:chartArea.left,top:chartArea.top,right:chartArea.left+chartArea.w,bottom:chartArea.top+chartArea.h};helpers$1.each(boxes.chartArea,function(layout){var box=layout.box;extend(box,chart.chartArea);box.update(chartArea.w,chartArea.h);});}};var platform_basic={acquireContext:function(item){if(item&&item.canvas){item=item.canvas;}
return item&&item.getContext('2d')||null;}};var platform_dom="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n";var platform_dom$1=Object.freeze({__proto__:null,'default':platform_dom});var stylesheet=getCjsExportFromNamespace(platform_dom$1);var EXPANDO_KEY='$chartjs';var CSS_PREFIX='chartjs-';var CSS_SIZE_MONITOR=CSS_PREFIX+'size-monitor';var CSS_RENDER_MONITOR=CSS_PREFIX+'render-monitor';var CSS_RENDER_ANIMATION=CSS_PREFIX+'render-animation';var ANIMATION_START_EVENTS=['animationstart','webkitAnimationStart'];var EVENT_TYPES={touchstart:'mousedown',touchmove:'mousemove',touchend:'mouseup',pointerenter:'mouseenter',pointerdown:'mousedown',pointermove:'mousemove',pointerup:'mouseup',pointerleave:'mouseout',pointerout:'mouseout'};function readUsedSize(element,property){var value=helpers$1.getStyle(element,property);var matches=value&&value.match(/^(\d+)(\.\d+)?px$/);return matches?Number(matches[1]):undefined;}
function initCanvas(canvas,config){var style=canvas.style;var renderHeight=canvas.getAttribute('height');var renderWidth=canvas.getAttribute('width');canvas[EXPANDO_KEY]={initial:{height:renderHeight,width:renderWidth,style:{display:style.display,height:style.height,width:style.width}}};style.display=style.display||'block';if(renderWidth===null||renderWidth===''){var displayWidth=readUsedSize(canvas,'width');if(displayWidth!==undefined){canvas.width=displayWidth;}}
if(renderHeight===null||renderHeight===''){if(canvas.style.height===''){canvas.height=canvas.width/(config.options.aspectRatio||2);}else{var displayHeight=readUsedSize(canvas,'height');if(displayWidth!==undefined){canvas.height=displayHeight;}}}
return canvas;}
var supportsEventListenerOptions=(function(){var supports=false;try{var options=Object.defineProperty({},'passive',{get:function(){supports=true;}});window.addEventListener('e',null,options);}catch(e){}
return supports;}());var eventListenerOptions=supportsEventListenerOptions?{passive:true}:false;function addListener(node,type,listener){node.addEventListener(type,listener,eventListenerOptions);}
function removeListener(node,type,listener){node.removeEventListener(type,listener,eventListenerOptions);}
function createEvent(type,chart,x,y,nativeEvent){return{type:type,chart:chart,native:nativeEvent||null,x:x!==undefined?x:null,y:y!==undefined?y:null,};}
function fromNativeEvent(event,chart){var type=EVENT_TYPES[event.type]||event.type;var pos=helpers$1.getRelativePosition(event,chart);return createEvent(type,chart,pos.x,pos.y,event);}
function throttled(fn,thisArg){var ticking=false;var args=[];return function(){args=Array.prototype.slice.call(arguments);thisArg=thisArg||this;if(!ticking){ticking=true;helpers$1.requestAnimFrame.call(window,function(){ticking=false;fn.apply(thisArg,args);});}};}
function createDiv(cls){var el=document.createElement('div');el.className=cls||'';return el;}
function createResizer(handler){var maxSize=1000000;var resizer=createDiv(CSS_SIZE_MONITOR);var expand=createDiv(CSS_SIZE_MONITOR+'-expand');var shrink=createDiv(CSS_SIZE_MONITOR+'-shrink');expand.appendChild(createDiv());shrink.appendChild(createDiv());resizer.appendChild(expand);resizer.appendChild(shrink);resizer._reset=function(){expand.scrollLeft=maxSize;expand.scrollTop=maxSize;shrink.scrollLeft=maxSize;shrink.scrollTop=maxSize;};var onScroll=function(){resizer._reset();handler();};addListener(expand,'scroll',onScroll.bind(expand,'expand'));addListener(shrink,'scroll',onScroll.bind(shrink,'shrink'));return resizer;}
function watchForRender(node,handler){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var proxy=expando.renderProxy=function(e){if(e.animationName===CSS_RENDER_ANIMATION){handler();}};helpers$1.each(ANIMATION_START_EVENTS,function(type){addListener(node,type,proxy);});expando.reflow=!!node.offsetParent;node.classList.add(CSS_RENDER_MONITOR);}
function unwatchForRender(node){var expando=node[EXPANDO_KEY]||{};var proxy=expando.renderProxy;if(proxy){helpers$1.each(ANIMATION_START_EVENTS,function(type){removeListener(node,type,proxy);});delete expando.renderProxy;}
node.classList.remove(CSS_RENDER_MONITOR);}
function addResizeListener(node,listener,chart){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var resizer=expando.resizer=createResizer(throttled(function(){if(expando.resizer){var container=chart.options.maintainAspectRatio&&node.parentNode;var w=container?container.clientWidth:0;listener(createEvent('resize',chart));if(container&&container.clientWidth<w&&chart.canvas){listener(createEvent('resize',chart));}}}));watchForRender(node,function(){if(expando.resizer){var container=node.parentNode;if(container&&container!==resizer.parentNode){container.insertBefore(resizer,container.firstChild);}
resizer._reset();}});}
function removeResizeListener(node){var expando=node[EXPANDO_KEY]||{};var resizer=expando.resizer;delete expando.resizer;unwatchForRender(node);if(resizer&&resizer.parentNode){resizer.parentNode.removeChild(resizer);}}
function injectCSS(rootNode,css){var expando=rootNode[EXPANDO_KEY]||(rootNode[EXPANDO_KEY]={});if(!expando.containsStyles){expando.containsStyles=true;css='/* Chart.js */\n'+css;var style=document.createElement('style');style.setAttribute('type','text/css');style.appendChild(document.createTextNode(css));rootNode.appendChild(style);}}
var platform_dom$2={disableCSSInjection:false,_enabled:typeof window!=='undefined'&&typeof document!=='undefined',_ensureLoaded:function(canvas){if(!this.disableCSSInjection){var root=canvas.getRootNode?canvas.getRootNode():document;var targetNode=root.host?root:document.head;injectCSS(targetNode,stylesheet);}},acquireContext:function(item,config){if(typeof item==='string'){item=document.getElementById(item);}else if(item.length){item=item[0];}
if(item&&item.canvas){item=item.canvas;}
var context=item&&item.getContext&&item.getContext('2d');if(context&&context.canvas===item){this._ensureLoaded(item);initCanvas(item,config);return context;}
return null;},releaseContext:function(context){var canvas=context.canvas;if(!canvas[EXPANDO_KEY]){return;}
var initial=canvas[EXPANDO_KEY].initial;['height','width'].forEach(function(prop){var value=initial[prop];if(helpers$1.isNullOrUndef(value)){canvas.removeAttribute(prop);}else{canvas.setAttribute(prop,value);}});helpers$1.each(initial.style||{},function(value,key){canvas.style[key]=value;});canvas.width=canvas.width;delete canvas[EXPANDO_KEY];},addEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==='resize'){addResizeListener(canvas,listener,chart);return;}
var expando=listener[EXPANDO_KEY]||(listener[EXPANDO_KEY]={});var proxies=expando.proxies||(expando.proxies={});var proxy=proxies[chart.id+'_'+type]=function(event){listener(fromNativeEvent(event,chart));};addListener(canvas,type,proxy);},removeEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==='resize'){removeResizeListener(canvas);return;}
var expando=listener[EXPANDO_KEY]||{};var proxies=expando.proxies||{};var proxy=proxies[chart.id+'_'+type];if(!proxy){return;}
removeListener(canvas,type,proxy);}};helpers$1.addEvent=addListener;helpers$1.removeEvent=removeListener;var implementation=platform_dom$2._enabled?platform_dom$2:platform_basic;var platform=helpers$1.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},implementation);core_defaults._set('global',{plugins:{}});var core_plugins={_plugins:[],_cacheId:0,register:function(plugins){var p=this._plugins;([]).concat(plugins).forEach(function(plugin){if(p.indexOf(plugin)===-1){p.push(plugin);}});this._cacheId++;},unregister:function(plugins){var p=this._plugins;([]).concat(plugins).forEach(function(plugin){var idx=p.indexOf(plugin);if(idx!==-1){p.splice(idx,1);}});this._cacheId++;},clear:function(){this._plugins=[];this._cacheId++;},count:function(){return this._plugins.length;},getAll:function(){return this._plugins;},notify:function(chart,hook,args){var descriptors=this.descriptors(chart);var ilen=descriptors.length;var i,descriptor,plugin,params,method;for(i=0;i<ilen;++i){descriptor=descriptors[i];plugin=descriptor.plugin;method=plugin[hook];if(typeof method==='function'){params=[chart].concat(args||[]);params.push(descriptor.options);if(method.apply(plugin,params)===false){return false;}}}
return true;},descriptors:function(chart){var cache=chart.$plugins||(chart.$plugins={});if(cache.id===this._cacheId){return cache.descriptors;}
var plugins=[];var descriptors=[];var config=(chart&&chart.config)||{};var options=(config.options&&config.options.plugins)||{};this._plugins.concat(config.plugins||[]).forEach(function(plugin){var idx=plugins.indexOf(plugin);if(idx!==-1){return;}
var id=plugin.id;var opts=options[id];if(opts===false){return;}
if(opts===true){opts=helpers$1.clone(core_defaults.global.plugins[id]);}
plugins.push(plugin);descriptors.push({plugin:plugin,options:opts||{}});});cache.descriptors=descriptors;cache.id=this._cacheId;return descriptors;},_invalidate:function(chart){delete chart.$plugins;}};var core_scaleService={constructors:{},defaults:{},registerScaleType:function(type,scaleConstructor,scaleDefaults){this.constructors[type]=scaleConstructor;this.defaults[type]=helpers$1.clone(scaleDefaults);},getScaleConstructor:function(type){return this.constructors.hasOwnProperty(type)?this.constructors[type]:undefined;},getScaleDefaults:function(type){return this.defaults.hasOwnProperty(type)?helpers$1.merge(Object.create(null),[core_defaults.scale,this.defaults[type]]):{};},updateScaleDefaults:function(type,additions){var me=this;if(me.defaults.hasOwnProperty(type)){me.defaults[type]=helpers$1.extend(me.defaults[type],additions);}},addScalesToLayout:function(chart){helpers$1.each(chart.scales,function(scale){scale.fullWidth=scale.options.fullWidth;scale.position=scale.options.position;scale.weight=scale.options.weight;core_layouts.addBox(chart,scale);});}};var valueOrDefault$8=helpers$1.valueOrDefault;var getRtlHelper=helpers$1.rtl.getRtlAdapter;core_defaults._set('global',{tooltips:{enabled:true,custom:null,mode:'nearest',position:'average',intersect:true,backgroundColor:'rgba(0,0,0,0.8)',titleFontStyle:'bold',titleSpacing:2,titleMarginBottom:6,titleFontColor:'#fff',titleAlign:'left',bodySpacing:2,bodyFontColor:'#fff',bodyAlign:'left',footerFontStyle:'bold',footerSpacing:2,footerMarginTop:6,footerFontColor:'#fff',footerAlign:'left',yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:'#fff',displayColors:true,borderColor:'rgba(0,0,0,0)',borderWidth:0,callbacks:{beforeTitle:helpers$1.noop,title:function(tooltipItems,data){var title='';var labels=data.labels;var labelCount=labels?labels.length:0;if(tooltipItems.length>0){var item=tooltipItems[0];if(item.label){title=item.label;}else if(item.xLabel){title=item.xLabel;}else if(labelCount>0&&item.index<labelCount){title=labels[item.index];}}
return title;},afterTitle:helpers$1.noop,beforeBody:helpers$1.noop,beforeLabel:helpers$1.noop,label:function(tooltipItem,data){var label=data.datasets[tooltipItem.datasetIndex].label||'';if(label){label+=': ';}
if(!helpers$1.isNullOrUndef(tooltipItem.value)){label+=tooltipItem.value;}else{label+=tooltipItem.yLabel;}
return label;},labelColor:function(tooltipItem,chart){var meta=chart.getDatasetMeta(tooltipItem.datasetIndex);var activeElement=meta.data[tooltipItem.index];var view=activeElement._view;return{borderColor:view.borderColor,backgroundColor:view.backgroundColor};},labelTextColor:function(){return this._options.bodyFontColor;},afterLabel:helpers$1.noop,afterBody:helpers$1.noop,beforeFooter:helpers$1.noop,footer:helpers$1.noop,afterFooter:helpers$1.noop}}});var positioners={average:function(elements){if(!elements.length){return false;}
var i,len;var x=0;var y=0;var count=0;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var pos=el.tooltipPosition();x+=pos.x;y+=pos.y;++count;}}
return{x:x/count,y:y/count};},nearest:function(elements,eventPosition){var x=eventPosition.x;var y=eventPosition.y;var minDistance=Number.POSITIVE_INFINITY;var i,len,nearestElement;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var center=el.getCenterPoint();var d=helpers$1.distanceBetweenPoints(eventPosition,center);if(d<minDistance){minDistance=d;nearestElement=el;}}}
if(nearestElement){var tp=nearestElement.tooltipPosition();x=tp.x;y=tp.y;}
return{x:x,y:y};}};function pushOrConcat(base,toPush){if(toPush){if(helpers$1.isArray(toPush)){Array.prototype.push.apply(base,toPush);}else{base.push(toPush);}}
return base;}
function splitNewlines(str){if((typeof str==='string'||str instanceof String)&&str.indexOf('\n')>-1){return str.split('\n');}
return str;}
function createTooltipItem(element){var xScale=element._xScale;var yScale=element._yScale||element._scale;var index=element._index;var datasetIndex=element._datasetIndex;var controller=element._chart.getDatasetMeta(datasetIndex).controller;var indexScale=controller._getIndexScale();var valueScale=controller._getValueScale();return{xLabel:xScale?xScale.getLabelForIndex(index,datasetIndex):'',yLabel:yScale?yScale.getLabelForIndex(index,datasetIndex):'',label:indexScale?''+indexScale.getLabelForIndex(index,datasetIndex):'',value:valueScale?''+valueScale.getLabelForIndex(index,datasetIndex):'',index:index,datasetIndex:datasetIndex,x:element._model.x,y:element._model.y};}
function getBaseModel(tooltipOpts){var globalDefaults=core_defaults.global;return{xPadding:tooltipOpts.xPadding,yPadding:tooltipOpts.yPadding,xAlign:tooltipOpts.xAlign,yAlign:tooltipOpts.yAlign,rtl:tooltipOpts.rtl,textDirection:tooltipOpts.textDirection,bodyFontColor:tooltipOpts.bodyFontColor,_bodyFontFamily:valueOrDefault$8(tooltipOpts.bodyFontFamily,globalDefaults.defaultFontFamily),_bodyFontStyle:valueOrDefault$8(tooltipOpts.bodyFontStyle,globalDefaults.defaultFontStyle),_bodyAlign:tooltipOpts.bodyAlign,bodyFontSize:valueOrDefault$8(tooltipOpts.bodyFontSize,globalDefaults.defaultFontSize),bodySpacing:tooltipOpts.bodySpacing,titleFontColor:tooltipOpts.titleFontColor,_titleFontFamily:valueOrDefault$8(tooltipOpts.titleFontFamily,globalDefaults.defaultFontFamily),_titleFontStyle:valueOrDefault$8(tooltipOpts.titleFontStyle,globalDefaults.defaultFontStyle),titleFontSize:valueOrDefault$8(tooltipOpts.titleFontSize,globalDefaults.defaultFontSize),_titleAlign:tooltipOpts.titleAlign,titleSpacing:tooltipOpts.titleSpacing,titleMarginBottom:tooltipOpts.titleMarginBottom,footerFontColor:tooltipOpts.footerFontColor,_footerFontFamily:valueOrDefault$8(tooltipOpts.footerFontFamily,globalDefaults.defaultFontFamily),_footerFontStyle:valueOrDefault$8(tooltipOpts.footerFontStyle,globalDefaults.defaultFontStyle),footerFontSize:valueOrDefault$8(tooltipOpts.footerFontSize,globalDefaults.defaultFontSize),_footerAlign:tooltipOpts.footerAlign,footerSpacing:tooltipOpts.footerSpacing,footerMarginTop:tooltipOpts.footerMarginTop,caretSize:tooltipOpts.caretSize,cornerRadius:tooltipOpts.cornerRadius,backgroundColor:tooltipOpts.backgroundColor,opacity:0,legendColorBackground:tooltipOpts.multiKeyBackground,displayColors:tooltipOpts.displayColors,borderColor:tooltipOpts.borderColor,borderWidth:tooltipOpts.borderWidth};}
function getTooltipSize(tooltip,model){var ctx=tooltip._chart.ctx;var height=model.yPadding*2;var width=0;var body=model.body;var combinedBodyLength=body.reduce(function(count,bodyItem){return count+bodyItem.before.length+bodyItem.lines.length+bodyItem.after.length;},0);combinedBodyLength+=model.beforeBody.length+model.afterBody.length;var titleLineCount=model.title.length;var footerLineCount=model.footer.length;var titleFontSize=model.titleFontSize;var bodyFontSize=model.bodyFontSize;var footerFontSize=model.footerFontSize;height+=titleLineCount*titleFontSize;height+=titleLineCount?(titleLineCount-1)*model.titleSpacing:0;height+=titleLineCount?model.titleMarginBottom:0;height+=combinedBodyLength*bodyFontSize;height+=combinedBodyLength?(combinedBodyLength-1)*model.bodySpacing:0;height+=footerLineCount?model.footerMarginTop:0;height+=footerLineCount*(footerFontSize);height+=footerLineCount?(footerLineCount-1)*model.footerSpacing:0;var widthPadding=0;var maxLineWidth=function(line){width=Math.max(width,ctx.measureText(line).width+widthPadding);};ctx.font=helpers$1.fontString(titleFontSize,model._titleFontStyle,model._titleFontFamily);helpers$1.each(model.title,maxLineWidth);ctx.font=helpers$1.fontString(bodyFontSize,model._bodyFontStyle,model._bodyFontFamily);helpers$1.each(model.beforeBody.concat(model.afterBody),maxLineWidth);widthPadding=model.displayColors?(bodyFontSize+2):0;helpers$1.each(body,function(bodyItem){helpers$1.each(bodyItem.before,maxLineWidth);helpers$1.each(bodyItem.lines,maxLineWidth);helpers$1.each(bodyItem.after,maxLineWidth);});widthPadding=0;ctx.font=helpers$1.fontString(footerFontSize,model._footerFontStyle,model._footerFontFamily);helpers$1.each(model.footer,maxLineWidth);width+=2*model.xPadding;return{width:width,height:height};}
function determineAlignment(tooltip,size){var model=tooltip._model;var chart=tooltip._chart;var chartArea=tooltip._chart.chartArea;var xAlign='center';var yAlign='center';if(model.y<size.height){yAlign='top';}else if(model.y>(chart.height-size.height)){yAlign='bottom';}
var lf,rf;var olf,orf;var yf;var midX=(chartArea.left+chartArea.right)/2;var midY=(chartArea.top+chartArea.bottom)/2;if(yAlign==='center'){lf=function(x){return x<=midX;};rf=function(x){return x>midX;};}else{lf=function(x){return x<=(size.width/2);};rf=function(x){return x>=(chart.width-(size.width/2));};}
olf=function(x){return x+size.width+model.caretSize+model.caretPadding>chart.width;};orf=function(x){return x-size.width-model.caretSize-model.caretPadding<0;};yf=function(y){return y<=midY?'top':'bottom';};if(lf(model.x)){xAlign='left';if(olf(model.x)){xAlign='center';yAlign=yf(model.y);}}else if(rf(model.x)){xAlign='right';if(orf(model.x)){xAlign='center';yAlign=yf(model.y);}}
var opts=tooltip._options;return{xAlign:opts.xAlign?opts.xAlign:xAlign,yAlign:opts.yAlign?opts.yAlign:yAlign};}
function getBackgroundPoint(vm,size,alignment,chart){var x=vm.x;var y=vm.y;var caretSize=vm.caretSize;var caretPadding=vm.caretPadding;var cornerRadius=vm.cornerRadius;var xAlign=alignment.xAlign;var yAlign=alignment.yAlign;var paddingAndSize=caretSize+caretPadding;var radiusAndPadding=cornerRadius+caretPadding;if(xAlign==='right'){x-=size.width;}else if(xAlign==='center'){x-=(size.width/2);if(x+size.width>chart.width){x=chart.width-size.width;}
if(x<0){x=0;}}
if(yAlign==='top'){y+=paddingAndSize;}else if(yAlign==='bottom'){y-=size.height+paddingAndSize;}else{y-=(size.height/2);}
if(yAlign==='center'){if(xAlign==='left'){x+=paddingAndSize;}else if(xAlign==='right'){x-=paddingAndSize;}}else if(xAlign==='left'){x-=radiusAndPadding;}else if(xAlign==='right'){x+=radiusAndPadding;}
return{x:x,y:y};}
function getAlignedX(vm,align){return align==='center'?vm.x+vm.width/2:align==='right'?vm.x+vm.width-vm.xPadding:vm.x+vm.xPadding;}
function getBeforeAfterBodyLines(callback){return pushOrConcat([],splitNewlines(callback));}
var exports$4=core_element.extend({initialize:function(){this._model=getBaseModel(this._options);this._lastActive=[];},getTitle:function(){var me=this;var opts=me._options;var callbacks=opts.callbacks;var beforeTitle=callbacks.beforeTitle.apply(me,arguments);var title=callbacks.title.apply(me,arguments);var afterTitle=callbacks.afterTitle.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeTitle));lines=pushOrConcat(lines,splitNewlines(title));lines=pushOrConcat(lines,splitNewlines(afterTitle));return lines;},getBeforeBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this,arguments));},getBody:function(tooltipItems,data){var me=this;var callbacks=me._options.callbacks;var bodyItems=[];helpers$1.each(tooltipItems,function(tooltipItem){var bodyItem={before:[],lines:[],after:[]};pushOrConcat(bodyItem.before,splitNewlines(callbacks.beforeLabel.call(me,tooltipItem,data)));pushOrConcat(bodyItem.lines,callbacks.label.call(me,tooltipItem,data));pushOrConcat(bodyItem.after,splitNewlines(callbacks.afterLabel.call(me,tooltipItem,data)));bodyItems.push(bodyItem);});return bodyItems;},getAfterBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this,arguments));},getFooter:function(){var me=this;var callbacks=me._options.callbacks;var beforeFooter=callbacks.beforeFooter.apply(me,arguments);var footer=callbacks.footer.apply(me,arguments);var afterFooter=callbacks.afterFooter.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeFooter));lines=pushOrConcat(lines,splitNewlines(footer));lines=pushOrConcat(lines,splitNewlines(afterFooter));return lines;},update:function(changed){var me=this;var opts=me._options;var existingModel=me._model;var model=me._model=getBaseModel(opts);var active=me._active;var data=me._data;var alignment={xAlign:existingModel.xAlign,yAlign:existingModel.yAlign};var backgroundPoint={x:existingModel.x,y:existingModel.y};var tooltipSize={width:existingModel.width,height:existingModel.height};var tooltipPosition={x:existingModel.caretX,y:existingModel.caretY};var i,len;if(active.length){model.opacity=1;var labelColors=[];var labelTextColors=[];tooltipPosition=positioners[opts.position].call(me,active,me._eventPosition);var tooltipItems=[];for(i=0,len=active.length;i<len;++i){tooltipItems.push(createTooltipItem(active[i]));}
if(opts.filter){tooltipItems=tooltipItems.filter(function(a){return opts.filter(a,data);});}
if(opts.itemSort){tooltipItems=tooltipItems.sort(function(a,b){return opts.itemSort(a,b,data);});}
helpers$1.each(tooltipItems,function(tooltipItem){labelColors.push(opts.callbacks.labelColor.call(me,tooltipItem,me._chart));labelTextColors.push(opts.callbacks.labelTextColor.call(me,tooltipItem,me._chart));});model.title=me.getTitle(tooltipItems,data);model.beforeBody=me.getBeforeBody(tooltipItems,data);model.body=me.getBody(tooltipItems,data);model.afterBody=me.getAfterBody(tooltipItems,data);model.footer=me.getFooter(tooltipItems,data);model.x=tooltipPosition.x;model.y=tooltipPosition.y;model.caretPadding=opts.caretPadding;model.labelColors=labelColors;model.labelTextColors=labelTextColors;model.dataPoints=tooltipItems;tooltipSize=getTooltipSize(this,model);alignment=determineAlignment(this,tooltipSize);backgroundPoint=getBackgroundPoint(model,tooltipSize,alignment,me._chart);}else{model.opacity=0;}
model.xAlign=alignment.xAlign;model.yAlign=alignment.yAlign;model.x=backgroundPoint.x;model.y=backgroundPoint.y;model.width=tooltipSize.width;model.height=tooltipSize.height;model.caretX=tooltipPosition.x;model.caretY=tooltipPosition.y;me._model=model;if(changed&&opts.custom){opts.custom.call(me,model);}
return me;},drawCaret:function(tooltipPoint,size){var ctx=this._chart.ctx;var vm=this._view;var caretPosition=this.getCaretPosition(tooltipPoint,size,vm);ctx.lineTo(caretPosition.x1,caretPosition.y1);ctx.lineTo(caretPosition.x2,caretPosition.y2);ctx.lineTo(caretPosition.x3,caretPosition.y3);},getCaretPosition:function(tooltipPoint,size,vm){var x1,x2,x3,y1,y2,y3;var caretSize=vm.caretSize;var cornerRadius=vm.cornerRadius;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var ptX=tooltipPoint.x;var ptY=tooltipPoint.y;var width=size.width;var height=size.height;if(yAlign==='center'){y2=ptY+(height/2);if(xAlign==='left'){x1=ptX;x2=x1-caretSize;x3=x1;y1=y2+caretSize;y3=y2-caretSize;}else{x1=ptX+width;x2=x1+caretSize;x3=x1;y1=y2-caretSize;y3=y2+caretSize;}}else{if(xAlign==='left'){x2=ptX+cornerRadius+(caretSize);x1=x2-caretSize;x3=x2+caretSize;}else if(xAlign==='right'){x2=ptX+width-cornerRadius-caretSize;x1=x2-caretSize;x3=x2+caretSize;}else{x2=vm.caretX;x1=x2-caretSize;x3=x2+caretSize;}
if(yAlign==='top'){y1=ptY;y2=y1-caretSize;y3=y1;}else{y1=ptY+height;y2=y1+caretSize;y3=y1;var tmp=x3;x3=x1;x1=tmp;}}
return{x1:x1,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3};},drawTitle:function(pt,vm,ctx){var title=vm.title;var length=title.length;var titleFontSize,titleSpacing,i;if(length){var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);pt.x=getAlignedX(vm,vm._titleAlign);ctx.textAlign=rtlHelper.textAlign(vm._titleAlign);ctx.textBaseline='middle';titleFontSize=vm.titleFontSize;titleSpacing=vm.titleSpacing;ctx.fillStyle=vm.titleFontColor;ctx.font=helpers$1.fontString(titleFontSize,vm._titleFontStyle,vm._titleFontFamily);for(i=0;i<length;++i){ctx.fillText(title[i],rtlHelper.x(pt.x),pt.y+titleFontSize/2);pt.y+=titleFontSize+titleSpacing;if(i+1===length){pt.y+=vm.titleMarginBottom-titleSpacing;}}}},drawBody:function(pt,vm,ctx){var bodyFontSize=vm.bodyFontSize;var bodySpacing=vm.bodySpacing;var bodyAlign=vm._bodyAlign;var body=vm.body;var drawColorBoxes=vm.displayColors;var xLinePadding=0;var colorX=drawColorBoxes?getAlignedX(vm,'left'):0;var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);var fillLineOfText=function(line){ctx.fillText(line,rtlHelper.x(pt.x+xLinePadding),pt.y+bodyFontSize/2);pt.y+=bodyFontSize+bodySpacing;};var bodyItem,textColor,labelColors,lines,i,j,ilen,jlen;var bodyAlignForCalculation=rtlHelper.textAlign(bodyAlign);ctx.textAlign=bodyAlign;ctx.textBaseline='middle';ctx.font=helpers$1.fontString(bodyFontSize,vm._bodyFontStyle,vm._bodyFontFamily);pt.x=getAlignedX(vm,bodyAlignForCalculation);ctx.fillStyle=vm.bodyFontColor;helpers$1.each(vm.beforeBody,fillLineOfText);xLinePadding=drawColorBoxes&&bodyAlignForCalculation!=='right'?bodyAlign==='center'?(bodyFontSize/2+1):(bodyFontSize+2):0;for(i=0,ilen=body.length;i<ilen;++i){bodyItem=body[i];textColor=vm.labelTextColors[i];labelColors=vm.labelColors[i];ctx.fillStyle=textColor;helpers$1.each(bodyItem.before,fillLineOfText);lines=bodyItem.lines;for(j=0,jlen=lines.length;j<jlen;++j){if(drawColorBoxes){var rtlColorX=rtlHelper.x(colorX);ctx.fillStyle=vm.legendColorBackground;ctx.fillRect(rtlHelper.leftForLtr(rtlColorX,bodyFontSize),pt.y,bodyFontSize,bodyFontSize);ctx.lineWidth=1;ctx.strokeStyle=labelColors.borderColor;ctx.strokeRect(rtlHelper.leftForLtr(rtlColorX,bodyFontSize),pt.y,bodyFontSize,bodyFontSize);ctx.fillStyle=labelColors.backgroundColor;ctx.fillRect(rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX,1),bodyFontSize-2),pt.y+1,bodyFontSize-2,bodyFontSize-2);ctx.fillStyle=textColor;}
fillLineOfText(lines[j]);}
helpers$1.each(bodyItem.after,fillLineOfText);}
xLinePadding=0;helpers$1.each(vm.afterBody,fillLineOfText);pt.y-=bodySpacing;},drawFooter:function(pt,vm,ctx){var footer=vm.footer;var length=footer.length;var footerFontSize,i;if(length){var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);pt.x=getAlignedX(vm,vm._footerAlign);pt.y+=vm.footerMarginTop;ctx.textAlign=rtlHelper.textAlign(vm._footerAlign);ctx.textBaseline='middle';footerFontSize=vm.footerFontSize;ctx.fillStyle=vm.footerFontColor;ctx.font=helpers$1.fontString(footerFontSize,vm._footerFontStyle,vm._footerFontFamily);for(i=0;i<length;++i){ctx.fillText(footer[i],rtlHelper.x(pt.x),pt.y+footerFontSize/2);pt.y+=footerFontSize+vm.footerSpacing;}}},drawBackground:function(pt,vm,ctx,tooltipSize){ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;ctx.lineWidth=vm.borderWidth;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var x=pt.x;var y=pt.y;var width=tooltipSize.width;var height=tooltipSize.height;var radius=vm.cornerRadius;ctx.beginPath();ctx.moveTo(x+radius,y);if(yAlign==='top'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);if(yAlign==='center'&&xAlign==='right'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);if(yAlign==='bottom'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);if(yAlign==='center'&&xAlign==='left'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();ctx.fill();if(vm.borderWidth>0){ctx.stroke();}},draw:function(){var ctx=this._chart.ctx;var vm=this._view;if(vm.opacity===0){return;}
var tooltipSize={width:vm.width,height:vm.height};var pt={x:vm.x,y:vm.y};var opacity=Math.abs(vm.opacity<1e-3)?0:vm.opacity;var hasTooltipContent=vm.title.length||vm.beforeBody.length||vm.body.length||vm.afterBody.length||vm.footer.length;if(this._options.enabled&&hasTooltipContent){ctx.save();ctx.globalAlpha=opacity;this.drawBackground(pt,vm,ctx,tooltipSize);pt.y+=vm.yPadding;helpers$1.rtl.overrideTextDirection(ctx,vm.textDirection);this.drawTitle(pt,vm,ctx);this.drawBody(pt,vm,ctx);this.drawFooter(pt,vm,ctx);helpers$1.rtl.restoreTextDirection(ctx,vm.textDirection);ctx.restore();}},handleEvent:function(e){var me=this;var options=me._options;var changed=false;me._lastActive=me._lastActive||[];if(e.type==='mouseout'){me._active=[];}else{me._active=me._chart.getElementsAtEventForMode(e,options.mode,options);if(options.reverse){me._active.reverse();}}
changed=!helpers$1.arrayEquals(me._active,me._lastActive);if(changed){me._lastActive=me._active;if(options.enabled||options.custom){me._eventPosition={x:e.x,y:e.y};me.update(true);me.pivot();}}
return changed;}});var positioners_1=positioners;var core_tooltip=exports$4;core_tooltip.positioners=positioners_1;var valueOrDefault$9=helpers$1.valueOrDefault;core_defaults._set('global',{elements:{},events:['mousemove','mouseout','click','touchstart','touchmove'],hover:{onHover:null,mode:'nearest',intersect:true,animationDuration:400},onClick:null,maintainAspectRatio:true,responsive:true,responsiveAnimationDuration:0});function mergeScaleConfig(){return helpers$1.merge(Object.create(null),[].slice.call(arguments),{merger:function(key,target,source,options){if(key==='xAxes'||key==='yAxes'){var slen=source[key].length;var i,type,scale;if(!target[key]){target[key]=[];}
for(i=0;i<slen;++i){scale=source[key][i];type=valueOrDefault$9(scale.type,key==='xAxes'?'category':'linear');if(i>=target[key].length){target[key].push({});}
if(!target[key][i].type||(scale.type&&scale.type!==target[key][i].type)){helpers$1.merge(target[key][i],[core_scaleService.getScaleDefaults(type),scale]);}else{helpers$1.merge(target[key][i],scale);}}}else{helpers$1._merger(key,target,source,options);}}});}
function mergeConfig(){return helpers$1.merge(Object.create(null),[].slice.call(arguments),{merger:function(key,target,source,options){var tval=target[key]||Object.create(null);var sval=source[key];if(key==='scales'){target[key]=mergeScaleConfig(tval,sval);}else if(key==='scale'){target[key]=helpers$1.merge(tval,[core_scaleService.getScaleDefaults(sval.type),sval]);}else{helpers$1._merger(key,target,source,options);}}});}
function initConfig(config){config=config||Object.create(null);var data=config.data=config.data||{};data.datasets=data.datasets||[];data.labels=data.labels||[];config.options=mergeConfig(core_defaults.global,core_defaults[config.type],config.options||{});return config;}
function updateConfig(chart){var newOptions=chart.options;helpers$1.each(chart.scales,function(scale){core_layouts.removeBox(chart,scale);});newOptions=mergeConfig(core_defaults.global,core_defaults[chart.config.type],newOptions);chart.options=chart.config.options=newOptions;chart.ensureScalesHaveIDs();chart.buildOrUpdateScales();chart.tooltip._options=newOptions.tooltips;chart.tooltip.initialize();}
function nextAvailableScaleId(axesOpts,prefix,index){var id;var hasId=function(obj){return obj.id===id;};do{id=prefix+index++;}while(helpers$1.findIndex(axesOpts,hasId)>=0);return id;}
function positionIsHorizontal(position){return position==='top'||position==='bottom';}
function compare2Level(l1,l2){return function(a,b){return a[l1]===b[l1]?a[l2]-b[l2]:a[l1]-b[l1];};}
var Chart=function(item,config){this.construct(item,config);return this;};helpers$1.extend(Chart.prototype,{construct:function(item,config){var me=this;config=initConfig(config);var context=platform.acquireContext(item,config);var canvas=context&&context.canvas;var height=canvas&&canvas.height;var width=canvas&&canvas.width;me.id=helpers$1.uid();me.ctx=context;me.canvas=canvas;me.config=config;me.width=width;me.height=height;me.aspectRatio=height?width/height:null;me.options=config.options;me._bufferedRender=false;me._layers=[];me.chart=me;me.controller=me;Chart.instances[me.id]=me;Object.defineProperty(me,'data',{get:function(){return me.config.data;},set:function(value){me.config.data=value;}});if(!context||!canvas){console.error("Failed to create chart: can't acquire context from the given item");return;}
me.initialize();me.update();},initialize:function(){var me=this;core_plugins.notify(me,'beforeInit');helpers$1.retinaScale(me,me.options.devicePixelRatio);me.bindEvents();if(me.options.responsive){me.resize(true);}
me.initToolTip();core_plugins.notify(me,'afterInit');return me;},clear:function(){helpers$1.canvas.clear(this);return this;},stop:function(){core_animations.cancelAnimation(this);return this;},resize:function(silent){var me=this;var options=me.options;var canvas=me.canvas;var aspectRatio=(options.maintainAspectRatio&&me.aspectRatio)||null;var newWidth=Math.max(0,Math.floor(helpers$1.getMaximumWidth(canvas)));var newHeight=Math.max(0,Math.floor(aspectRatio?newWidth/aspectRatio:helpers$1.getMaximumHeight(canvas)));if(me.width===newWidth&&me.height===newHeight){return;}
canvas.width=me.width=newWidth;canvas.height=me.height=newHeight;canvas.style.width=newWidth+'px';canvas.style.height=newHeight+'px';helpers$1.retinaScale(me,options.devicePixelRatio);if(!silent){var newSize={width:newWidth,height:newHeight};core_plugins.notify(me,'resize',[newSize]);if(options.onResize){options.onResize(me,newSize);}
me.stop();me.update({duration:options.responsiveAnimationDuration});}},ensureScalesHaveIDs:function(){var options=this.options;var scalesOptions=options.scales||{};var scaleOptions=options.scale;helpers$1.each(scalesOptions.xAxes,function(xAxisOptions,index){if(!xAxisOptions.id){xAxisOptions.id=nextAvailableScaleId(scalesOptions.xAxes,'x-axis-',index);}});helpers$1.each(scalesOptions.yAxes,function(yAxisOptions,index){if(!yAxisOptions.id){yAxisOptions.id=nextAvailableScaleId(scalesOptions.yAxes,'y-axis-',index);}});if(scaleOptions){scaleOptions.id=scaleOptions.id||'scale';}},buildOrUpdateScales:function(){var me=this;var options=me.options;var scales=me.scales||{};var items=[];var updated=Object.keys(scales).reduce(function(obj,id){obj[id]=false;return obj;},{});if(options.scales){items=items.concat((options.scales.xAxes||[]).map(function(xAxisOptions){return{options:xAxisOptions,dtype:'category',dposition:'bottom'};}),(options.scales.yAxes||[]).map(function(yAxisOptions){return{options:yAxisOptions,dtype:'linear',dposition:'left'};}));}
if(options.scale){items.push({options:options.scale,dtype:'radialLinear',isDefault:true,dposition:'chartArea'});}
helpers$1.each(items,function(item){var scaleOptions=item.options;var id=scaleOptions.id;var scaleType=valueOrDefault$9(scaleOptions.type,item.dtype);if(positionIsHorizontal(scaleOptions.position)!==positionIsHorizontal(item.dposition)){scaleOptions.position=item.dposition;}
updated[id]=true;var scale=null;if(id in scales&&scales[id].type===scaleType){scale=scales[id];scale.options=scaleOptions;scale.ctx=me.ctx;scale.chart=me;}else{var scaleClass=core_scaleService.getScaleConstructor(scaleType);if(!scaleClass){return;}
scale=new scaleClass({id:id,type:scaleType,options:scaleOptions,ctx:me.ctx,chart:me});scales[scale.id]=scale;}
scale.mergeTicksOptions();if(item.isDefault){me.scale=scale;}});helpers$1.each(updated,function(hasUpdated,id){if(!hasUpdated){delete scales[id];}});me.scales=scales;core_scaleService.addScalesToLayout(this);},buildOrUpdateControllers:function(){var me=this;var newControllers=[];var datasets=me.data.datasets;var i,ilen;for(i=0,ilen=datasets.length;i<ilen;i++){var dataset=datasets[i];var meta=me.getDatasetMeta(i);var type=dataset.type||me.config.type;if(meta.type&&meta.type!==type){me.destroyDatasetMeta(i);meta=me.getDatasetMeta(i);}
meta.type=type;meta.order=dataset.order||0;meta.index=i;if(meta.controller){meta.controller.updateIndex(i);meta.controller.linkScales();}else{var ControllerClass=controllers[meta.type];if(ControllerClass===undefined){throw new Error('"'+meta.type+'" is not a chart type.');}
meta.controller=new ControllerClass(me,i);newControllers.push(meta.controller);}}
return newControllers;},resetElements:function(){var me=this;helpers$1.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.reset();},me);},reset:function(){this.resetElements();this.tooltip.initialize();},update:function(config){var me=this;var i,ilen;if(!config||typeof config!=='object'){config={duration:config,lazy:arguments[1]};}
updateConfig(me);core_plugins._invalidate(me);if(core_plugins.notify(me,'beforeUpdate')===false){return;}
me.tooltip._data=me.data;var newControllers=me.buildOrUpdateControllers();for(i=0,ilen=me.data.datasets.length;i<ilen;i++){me.getDatasetMeta(i).controller.buildOrUpdateElements();}
me.updateLayout();if(me.options.animation&&me.options.animation.duration){helpers$1.each(newControllers,function(controller){controller.reset();});}
me.updateDatasets();me.tooltip.initialize();me.lastActive=[];core_plugins.notify(me,'afterUpdate');me._layers.sort(compare2Level('z','_idx'));if(me._bufferedRender){me._bufferedRequest={duration:config.duration,easing:config.easing,lazy:config.lazy};}else{me.render(config);}},updateLayout:function(){var me=this;if(core_plugins.notify(me,'beforeLayout')===false){return;}
core_layouts.update(this,this.width,this.height);me._layers=[];helpers$1.each(me.boxes,function(box){if(box._configure){box._configure();}
me._layers.push.apply(me._layers,box._layers());},me);me._layers.forEach(function(item,index){item._idx=index;});core_plugins.notify(me,'afterScaleUpdate');core_plugins.notify(me,'afterLayout');},updateDatasets:function(){var me=this;if(core_plugins.notify(me,'beforeDatasetsUpdate')===false){return;}
for(var i=0,ilen=me.data.datasets.length;i<ilen;++i){me.updateDataset(i);}
core_plugins.notify(me,'afterDatasetsUpdate');},updateDataset:function(index){var me=this;var meta=me.getDatasetMeta(index);var args={meta:meta,index:index};if(core_plugins.notify(me,'beforeDatasetUpdate',[args])===false){return;}
meta.controller._update();core_plugins.notify(me,'afterDatasetUpdate',[args]);},render:function(config){var me=this;if(!config||typeof config!=='object'){config={duration:config,lazy:arguments[1]};}
var animationOptions=me.options.animation;var duration=valueOrDefault$9(config.duration,animationOptions&&animationOptions.duration);var lazy=config.lazy;if(core_plugins.notify(me,'beforeRender')===false){return;}
var onComplete=function(animation){core_plugins.notify(me,'afterRender');helpers$1.callback(animationOptions&&animationOptions.onComplete,[animation],me);};if(animationOptions&&duration){var animation=new core_animation({numSteps:duration/16.66,easing:config.easing||animationOptions.easing,render:function(chart,animationObject){var easingFunction=helpers$1.easing.effects[animationObject.easing];var currentStep=animationObject.currentStep;var stepDecimal=currentStep/animationObject.numSteps;chart.draw(easingFunction(stepDecimal),stepDecimal,currentStep);},onAnimationProgress:animationOptions.onProgress,onAnimationComplete:onComplete});core_animations.addAnimation(me,animation,duration,lazy);}else{me.draw();onComplete(new core_animation({numSteps:0,chart:me}));}
return me;},draw:function(easingValue){var me=this;var i,layers;me.clear();if(helpers$1.isNullOrUndef(easingValue)){easingValue=1;}
me.transition(easingValue);if(me.width<=0||me.height<=0){return;}
if(core_plugins.notify(me,'beforeDraw',[easingValue])===false){return;}
layers=me._layers;for(i=0;i<layers.length&&layers[i].z<=0;++i){layers[i].draw(me.chartArea);}
me.drawDatasets(easingValue);for(;i<layers.length;++i){layers[i].draw(me.chartArea);}
me._drawTooltip(easingValue);core_plugins.notify(me,'afterDraw',[easingValue]);},transition:function(easingValue){var me=this;for(var i=0,ilen=(me.data.datasets||[]).length;i<ilen;++i){if(me.isDatasetVisible(i)){me.getDatasetMeta(i).controller.transition(easingValue);}}
me.tooltip.transition(easingValue);},_getSortedDatasetMetas:function(filterVisible){var me=this;var datasets=me.data.datasets||[];var result=[];var i,ilen;for(i=0,ilen=datasets.length;i<ilen;++i){if(!filterVisible||me.isDatasetVisible(i)){result.push(me.getDatasetMeta(i));}}
result.sort(compare2Level('order','index'));return result;},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(true);},drawDatasets:function(easingValue){var me=this;var metasets,i;if(core_plugins.notify(me,'beforeDatasetsDraw',[easingValue])===false){return;}
metasets=me._getSortedVisibleDatasetMetas();for(i=metasets.length-1;i>=0;--i){me.drawDataset(metasets[i],easingValue);}
core_plugins.notify(me,'afterDatasetsDraw',[easingValue]);},drawDataset:function(meta,easingValue){var me=this;var args={meta:meta,index:meta.index,easingValue:easingValue};if(core_plugins.notify(me,'beforeDatasetDraw',[args])===false){return;}
meta.controller.draw(easingValue);core_plugins.notify(me,'afterDatasetDraw',[args]);},_drawTooltip:function(easingValue){var me=this;var tooltip=me.tooltip;var args={tooltip:tooltip,easingValue:easingValue};if(core_plugins.notify(me,'beforeTooltipDraw',[args])===false){return;}
tooltip.draw();core_plugins.notify(me,'afterTooltipDraw',[args]);},getElementAtEvent:function(e){return core_interaction.modes.single(this,e);},getElementsAtEvent:function(e){return core_interaction.modes.label(this,e,{intersect:true});},getElementsAtXAxis:function(e){return core_interaction.modes['x-axis'](this,e,{intersect:true});},getElementsAtEventForMode:function(e,mode,options){var method=core_interaction.modes[mode];if(typeof method==='function'){return method(this,e,options);}
return[];},getDatasetAtEvent:function(e){return core_interaction.modes.dataset(this,e,{intersect:true});},getDatasetMeta:function(datasetIndex){var me=this;var dataset=me.data.datasets[datasetIndex];if(!dataset._meta){dataset._meta={};}
var meta=dataset._meta[me.id];if(!meta){meta=dataset._meta[me.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:dataset.order||0,index:datasetIndex};}
return meta;},getVisibleDatasetCount:function(){var count=0;for(var i=0,ilen=this.data.datasets.length;i<ilen;++i){if(this.isDatasetVisible(i)){count++;}}
return count;},isDatasetVisible:function(datasetIndex){var meta=this.getDatasetMeta(datasetIndex);return typeof meta.hidden==='boolean'?!meta.hidden:!this.data.datasets[datasetIndex].hidden;},generateLegend:function(){return this.options.legendCallback(this);},destroyDatasetMeta:function(datasetIndex){var id=this.id;var dataset=this.data.datasets[datasetIndex];var meta=dataset._meta&&dataset._meta[id];if(meta){meta.controller.destroy();delete dataset._meta[id];}},destroy:function(){var me=this;var canvas=me.canvas;var i,ilen;me.stop();for(i=0,ilen=me.data.datasets.length;i<ilen;++i){me.destroyDatasetMeta(i);}
if(canvas){me.unbindEvents();helpers$1.canvas.clear(me);platform.releaseContext(me.ctx);me.canvas=null;me.ctx=null;}
core_plugins.notify(me,'destroy');delete Chart.instances[me.id];},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments);},initToolTip:function(){var me=this;me.tooltip=new core_tooltip({_chart:me,_chartInstance:me,_data:me.data,_options:me.options.tooltips},me);},bindEvents:function(){var me=this;var listeners=me._listeners={};var listener=function(){me.eventHandler.apply(me,arguments);};helpers$1.each(me.options.events,function(type){platform.addEventListener(me,type,listener);listeners[type]=listener;});if(me.options.responsive){listener=function(){me.resize();};platform.addEventListener(me,'resize',listener);listeners.resize=listener;}},unbindEvents:function(){var me=this;var listeners=me._listeners;if(!listeners){return;}
delete me._listeners;helpers$1.each(listeners,function(listener,type){platform.removeEventListener(me,type,listener);});},updateHoverStyle:function(elements,mode,enabled){var prefix=enabled?'set':'remove';var element,i,ilen;for(i=0,ilen=elements.length;i<ilen;++i){element=elements[i];if(element){this.getDatasetMeta(element._datasetIndex).controller[prefix+'HoverStyle'](element);}}
if(mode==='dataset'){this.getDatasetMeta(elements[0]._datasetIndex).controller['_'+prefix+'DatasetHoverStyle']();}},eventHandler:function(e){var me=this;var tooltip=me.tooltip;if(core_plugins.notify(me,'beforeEvent',[e])===false){return;}
me._bufferedRender=true;me._bufferedRequest=null;var changed=me.handleEvent(e);if(tooltip){changed=tooltip._start?tooltip.handleEvent(e):changed|tooltip.handleEvent(e);}
core_plugins.notify(me,'afterEvent',[e]);var bufferedRequest=me._bufferedRequest;if(bufferedRequest){me.render(bufferedRequest);}else if(changed&&!me.animating){me.stop();me.render({duration:me.options.hover.animationDuration,lazy:true});}
me._bufferedRender=false;me._bufferedRequest=null;return me;},handleEvent:function(e){var me=this;var options=me.options||{};var hoverOptions=options.hover;var changed=false;me.lastActive=me.lastActive||[];if(e.type==='mouseout'){me.active=[];}else{me.active=me.getElementsAtEventForMode(e,hoverOptions.mode,hoverOptions);}
helpers$1.callback(options.onHover||options.hover.onHover,[e.native,me.active],me);if(e.type==='mouseup'||e.type==='click'){if(options.onClick){options.onClick.call(me,e.native,me.active);}}
if(me.lastActive.length){me.updateHoverStyle(me.lastActive,hoverOptions.mode,false);}
if(me.active.length&&hoverOptions.mode){me.updateHoverStyle(me.active,hoverOptions.mode,true);}
changed=!helpers$1.arrayEquals(me.active,me.lastActive);me.lastActive=me.active;return changed;}});Chart.instances={};var core_controller=Chart;Chart.Controller=Chart;Chart.types={};helpers$1.configMerge=mergeConfig;helpers$1.scaleMerge=mergeScaleConfig;var core_helpers=function(){helpers$1.where=function(collection,filterCallback){if(helpers$1.isArray(collection)&&Array.prototype.filter){return collection.filter(filterCallback);}
var filtered=[];helpers$1.each(collection,function(item){if(filterCallback(item)){filtered.push(item);}});return filtered;};helpers$1.findIndex=Array.prototype.findIndex?function(array,callback,scope){return array.findIndex(callback,scope);}:function(array,callback,scope){scope=scope===undefined?array:scope;for(var i=0,ilen=array.length;i<ilen;++i){if(callback.call(scope,array[i],i,array)){return i;}}
return-1;};helpers$1.findNextWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers$1.isNullOrUndef(startIndex)){startIndex=-1;}
for(var i=startIndex+1;i<arrayToSearch.length;i++){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem;}}};helpers$1.findPreviousWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers$1.isNullOrUndef(startIndex)){startIndex=arrayToSearch.length;}
for(var i=startIndex-1;i>=0;i--){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem;}}};helpers$1.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n);};helpers$1.almostEquals=function(x,y,epsilon){return Math.abs(x-y)<epsilon;};helpers$1.almostWhole=function(x,epsilon){var rounded=Math.round(x);return((rounded-epsilon)<=x)&&((rounded+epsilon)>=x);};helpers$1.max=function(array){return array.reduce(function(max,value){if(!isNaN(value)){return Math.max(max,value);}
return max;},Number.NEGATIVE_INFINITY);};helpers$1.min=function(array){return array.reduce(function(min,value){if(!isNaN(value)){return Math.min(min,value);}
return min;},Number.POSITIVE_INFINITY);};helpers$1.sign=Math.sign?function(x){return Math.sign(x);}:function(x){x=+x;if(x===0||isNaN(x)){return x;}
return x>0?1:-1;};helpers$1.toRadians=function(degrees){return degrees*(Math.PI/180);};helpers$1.toDegrees=function(radians){return radians*(180/Math.PI);};helpers$1._decimalPlaces=function(x){if(!helpers$1.isFinite(x)){return;}
var e=1;var p=0;while(Math.round(x*e)/e!==x){e*=10;p++;}
return p;};helpers$1.getAngleFromPoint=function(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x;var distanceFromYCenter=anglePoint.y-centrePoint.y;var radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter);var angle=Math.atan2(distanceFromYCenter,distanceFromXCenter);if(angle<(-0.5*Math.PI)){angle+=2.0*Math.PI;}
return{angle:angle,distance:radialDistanceFromCenter};};helpers$1.distanceBetweenPoints=function(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2));};helpers$1.aliasPixel=function(pixelWidth){return(pixelWidth%2===0)?0:0.5;};helpers$1._alignPixel=function(chart,pixel,width){var devicePixelRatio=chart.currentDevicePixelRatio;var halfWidth=width/2;return Math.round((pixel-halfWidth)*devicePixelRatio)/devicePixelRatio+halfWidth;};helpers$1.splineCurve=function(firstPoint,middlePoint,afterPoint,t){var previous=firstPoint.skip?middlePoint:firstPoint;var current=middlePoint;var next=afterPoint.skip?middlePoint:afterPoint;var d01=Math.sqrt(Math.pow(current.x-previous.x,2)+Math.pow(current.y-previous.y,2));var d12=Math.sqrt(Math.pow(next.x-current.x,2)+Math.pow(next.y-current.y,2));var s01=d01/(d01+d12);var s12=d12/(d01+d12);s01=isNaN(s01)?0:s01;s12=isNaN(s12)?0:s12;var fa=t*s01;var fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}};};helpers$1.EPSILON=Number.EPSILON||1e-14;helpers$1.splineCurveMonotone=function(points){var pointsWithTangents=(points||[]).map(function(point){return{model:point._model,deltaK:0,mK:0};});var pointsLen=pointsWithTangents.length;var i,pointBefore,pointCurrent,pointAfter;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue;}
pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointAfter&&!pointAfter.model.skip){var slopeDeltaX=(pointAfter.model.x-pointCurrent.model.x);pointCurrent.deltaK=slopeDeltaX!==0?(pointAfter.model.y-pointCurrent.model.y)/slopeDeltaX:0;}
if(!pointBefore||pointBefore.model.skip){pointCurrent.mK=pointCurrent.deltaK;}else if(!pointAfter||pointAfter.model.skip){pointCurrent.mK=pointBefore.deltaK;}else if(this.sign(pointBefore.deltaK)!==this.sign(pointCurrent.deltaK)){pointCurrent.mK=0;}else{pointCurrent.mK=(pointBefore.deltaK+pointCurrent.deltaK)/2;}}
var alphaK,betaK,tauK,squaredMagnitude;for(i=0;i<pointsLen-1;++i){pointCurrent=pointsWithTangents[i];pointAfter=pointsWithTangents[i+1];if(pointCurrent.model.skip||pointAfter.model.skip){continue;}
if(helpers$1.almostEquals(pointCurrent.deltaK,0,this.EPSILON)){pointCurrent.mK=pointAfter.mK=0;continue;}
alphaK=pointCurrent.mK/pointCurrent.deltaK;betaK=pointAfter.mK/pointCurrent.deltaK;squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2);if(squaredMagnitude<=9){continue;}
tauK=3/Math.sqrt(squaredMagnitude);pointCurrent.mK=alphaK*tauK*pointCurrent.deltaK;pointAfter.mK=betaK*tauK*pointCurrent.deltaK;}
var deltaX;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue;}
pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointBefore&&!pointBefore.model.skip){deltaX=(pointCurrent.model.x-pointBefore.model.x)/3;pointCurrent.model.controlPointPreviousX=pointCurrent.model.x-deltaX;pointCurrent.model.controlPointPreviousY=pointCurrent.model.y-deltaX*pointCurrent.mK;}
if(pointAfter&&!pointAfter.model.skip){deltaX=(pointAfter.model.x-pointCurrent.model.x)/3;pointCurrent.model.controlPointNextX=pointCurrent.model.x+deltaX;pointCurrent.model.controlPointNextY=pointCurrent.model.y+deltaX*pointCurrent.mK;}}};helpers$1.nextItem=function(collection,index,loop){if(loop){return index>=collection.length-1?collection[0]:collection[index+1];}
return index>=collection.length-1?collection[collection.length-1]:collection[index+1];};helpers$1.previousItem=function(collection,index,loop){if(loop){return index<=0?collection[collection.length-1]:collection[index-1];}
return index<=0?collection[0]:collection[index-1];};helpers$1.niceNum=function(range,round){var exponent=Math.floor(helpers$1.log10(range));var fraction=range/Math.pow(10,exponent);var niceFraction;if(round){if(fraction<1.5){niceFraction=1;}else if(fraction<3){niceFraction=2;}else if(fraction<7){niceFraction=5;}else{niceFraction=10;}}else if(fraction<=1.0){niceFraction=1;}else if(fraction<=2){niceFraction=2;}else if(fraction<=5){niceFraction=5;}else{niceFraction=10;}
return niceFraction*Math.pow(10,exponent);};helpers$1.requestAnimFrame=(function(){if(typeof window==='undefined'){return function(callback){callback();};}
return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60);};}());helpers$1.getRelativePosition=function(evt,chart){var mouseX,mouseY;var e=evt.originalEvent||evt;var canvas=evt.target||evt.srcElement;var boundingRect=canvas.getBoundingClientRect();var touches=e.touches;if(touches&&touches.length>0){mouseX=touches[0].clientX;mouseY=touches[0].clientY;}else{mouseX=e.clientX;mouseY=e.clientY;}
var paddingLeft=parseFloat(helpers$1.getStyle(canvas,'padding-left'));var paddingTop=parseFloat(helpers$1.getStyle(canvas,'padding-top'));var paddingRight=parseFloat(helpers$1.getStyle(canvas,'padding-right'));var paddingBottom=parseFloat(helpers$1.getStyle(canvas,'padding-bottom'));var width=boundingRect.right-boundingRect.left-paddingLeft-paddingRight;var height=boundingRect.bottom-boundingRect.top-paddingTop-paddingBottom;mouseX=Math.round((mouseX-boundingRect.left-paddingLeft)/(width)*canvas.width/chart.currentDevicePixelRatio);mouseY=Math.round((mouseY-boundingRect.top-paddingTop)/(height)*canvas.height/chart.currentDevicePixelRatio);return{x:mouseX,y:mouseY};};function parseMaxStyle(styleValue,node,parentProperty){var valueInPixels;if(typeof styleValue==='string'){valueInPixels=parseInt(styleValue,10);if(styleValue.indexOf('%')!==-1){valueInPixels=valueInPixels/100*node.parentNode[parentProperty];}}else{valueInPixels=styleValue;}
return valueInPixels;}
function isConstrainedValue(value){return value!==undefined&&value!==null&&value!=='none';}
function getConstraintDimension(domNode,maxStyle,percentageProperty){var view=document.defaultView;var parentNode=helpers$1._getParentNode(domNode);var constrainedNode=view.getComputedStyle(domNode)[maxStyle];var constrainedContainer=view.getComputedStyle(parentNode)[maxStyle];var hasCNode=isConstrainedValue(constrainedNode);var hasCContainer=isConstrainedValue(constrainedContainer);var infinity=Number.POSITIVE_INFINITY;if(hasCNode||hasCContainer){return Math.min(hasCNode?parseMaxStyle(constrainedNode,domNode,percentageProperty):infinity,hasCContainer?parseMaxStyle(constrainedContainer,parentNode,percentageProperty):infinity);}
return'none';}
helpers$1.getConstraintWidth=function(domNode){return getConstraintDimension(domNode,'max-width','clientWidth');};helpers$1.getConstraintHeight=function(domNode){return getConstraintDimension(domNode,'max-height','clientHeight');};helpers$1._calculatePadding=function(container,padding,parentDimension){padding=helpers$1.getStyle(container,padding);return padding.indexOf('%')>-1?parentDimension*parseInt(padding,10)/100:parseInt(padding,10);};helpers$1._getParentNode=function(domNode){var parent=domNode.parentNode;if(parent&&parent.toString()==='[object ShadowRoot]'){parent=parent.host;}
return parent;};helpers$1.getMaximumWidth=function(domNode){var container=helpers$1._getParentNode(domNode);if(!container){return domNode.clientWidth;}
var clientWidth=container.clientWidth;var paddingLeft=helpers$1._calculatePadding(container,'padding-left',clientWidth);var paddingRight=helpers$1._calculatePadding(container,'padding-right',clientWidth);var w=clientWidth-paddingLeft-paddingRight;var cw=helpers$1.getConstraintWidth(domNode);return isNaN(cw)?w:Math.min(w,cw);};helpers$1.getMaximumHeight=function(domNode){var container=helpers$1._getParentNode(domNode);if(!container){return domNode.clientHeight;}
var clientHeight=container.clientHeight;var paddingTop=helpers$1._calculatePadding(container,'padding-top',clientHeight);var paddingBottom=helpers$1._calculatePadding(container,'padding-bottom',clientHeight);var h=clientHeight-paddingTop-paddingBottom;var ch=helpers$1.getConstraintHeight(domNode);return isNaN(ch)?h:Math.min(h,ch);};helpers$1.getStyle=function(el,property){return el.currentStyle?el.currentStyle[property]:document.defaultView.getComputedStyle(el,null).getPropertyValue(property);};helpers$1.retinaScale=function(chart,forceRatio){var pixelRatio=chart.currentDevicePixelRatio=forceRatio||(typeof window!=='undefined'&&window.devicePixelRatio)||1;if(pixelRatio===1){return;}
var canvas=chart.canvas;var height=chart.height;var width=chart.width;canvas.height=height*pixelRatio;canvas.width=width*pixelRatio;chart.ctx.scale(pixelRatio,pixelRatio);if(!canvas.style.height&&!canvas.style.width){canvas.style.height=height+'px';canvas.style.width=width+'px';}};helpers$1.fontString=function(pixelSize,fontStyle,fontFamily){return fontStyle+' '+pixelSize+'px '+fontFamily;};helpers$1.longestText=function(ctx,font,arrayOfThings,cache){cache=cache||{};var data=cache.data=cache.data||{};var gc=cache.garbageCollect=cache.garbageCollect||[];if(cache.font!==font){data=cache.data={};gc=cache.garbageCollect=[];cache.font=font;}
ctx.font=font;var longest=0;var ilen=arrayOfThings.length;var i,j,jlen,thing,nestedThing;for(i=0;i<ilen;i++){thing=arrayOfThings[i];if(thing!==undefined&&thing!==null&&helpers$1.isArray(thing)!==true){longest=helpers$1.measureText(ctx,data,gc,longest,thing);}else if(helpers$1.isArray(thing)){for(j=0,jlen=thing.length;j<jlen;j++){nestedThing=thing[j];if(nestedThing!==undefined&&nestedThing!==null&&!helpers$1.isArray(nestedThing)){longest=helpers$1.measureText(ctx,data,gc,longest,nestedThing);}}}}
var gcLen=gc.length/2;if(gcLen>arrayOfThings.length){for(i=0;i<gcLen;i++){delete data[gc[i]];}
gc.splice(0,gcLen);}
return longest;};helpers$1.measureText=function(ctx,data,gc,longest,string){var textWidth=data[string];if(!textWidth){textWidth=data[string]=ctx.measureText(string).width;gc.push(string);}
if(textWidth>longest){longest=textWidth;}
return longest;};helpers$1.numberOfLabelLines=function(arrayOfThings){var numberOfLines=1;helpers$1.each(arrayOfThings,function(thing){if(helpers$1.isArray(thing)){if(thing.length>numberOfLines){numberOfLines=thing.length;}}});return numberOfLines;};helpers$1.color=!chartjsColor?function(value){console.error('Color.js not found!');return value;}:function(value){if(value instanceof CanvasGradient){value=core_defaults.global.defaultColor;}
return chartjsColor(value);};helpers$1.getHoverColor=function(colorValue){return(colorValue instanceof CanvasPattern||colorValue instanceof CanvasGradient)?colorValue:helpers$1.color(colorValue).saturate(0.5).darken(0.1).rgbString();};};function abstract(){throw new Error('This method is not implemented: either no adapter can '+'be found or an incomplete integration was provided.');}
function DateAdapter(options){this.options=options||{};}
helpers$1.extend(DateAdapter.prototype,{formats:abstract,parse:abstract,format:abstract,add:abstract,diff:abstract,startOf:abstract,endOf:abstract,_create:function(value){return value;}});DateAdapter.override=function(members){helpers$1.extend(DateAdapter.prototype,members);};var _date=DateAdapter;var core_adapters={_date:_date};var core_ticks={formatters:{values:function(value){return helpers$1.isArray(value)?value:''+value;},linear:function(tickValue,index,ticks){var delta=ticks.length>3?ticks[2]-ticks[1]:ticks[1]-ticks[0];if(Math.abs(delta)>1){if(tickValue!==Math.floor(tickValue)){delta=tickValue-Math.floor(tickValue);}}
var logDelta=helpers$1.log10(Math.abs(delta));var tickString='';if(tickValue!==0){var maxTick=Math.max(Math.abs(ticks[0]),Math.abs(ticks[ticks.length-1]));if(maxTick<1e-4){var logTick=helpers$1.log10(Math.abs(tickValue));var numExponential=Math.floor(logTick)-Math.floor(logDelta);numExponential=Math.max(Math.min(numExponential,20),0);tickString=tickValue.toExponential(numExponential);}else{var numDecimal=-1*Math.floor(logDelta);numDecimal=Math.max(Math.min(numDecimal,20),0);tickString=tickValue.toFixed(numDecimal);}}else{tickString='0';}
return tickString;},logarithmic:function(tickValue,index,ticks){var remain=tickValue/(Math.pow(10,Math.floor(helpers$1.log10(tickValue))));if(tickValue===0){return'0';}else if(remain===1||remain===2||remain===5||index===0||index===ticks.length-1){return tickValue.toExponential();}
return'';}}};var isArray=helpers$1.isArray;var isNullOrUndef=helpers$1.isNullOrUndef;var valueOrDefault$a=helpers$1.valueOrDefault;var valueAtIndexOrDefault=helpers$1.valueAtIndexOrDefault;core_defaults._set('scale',{display:true,position:'left',offset:false,gridLines:{display:true,color:'rgba(0,0,0,0.1)',lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:'rgba(0,0,0,0.25)',zeroLineBorderDash:[],zeroLineBorderDashOffset:0.0,offsetGridLines:false,borderDash:[],borderDashOffset:0.0},scaleLabel:{display:false,labelString:'',padding:{top:4,bottom:4}},ticks:{beginAtZero:false,minRotation:0,maxRotation:50,mirror:false,padding:0,reverse:false,display:true,autoSkip:true,autoSkipPadding:0,labelOffset:0,callback:core_ticks.formatters.values,minor:{},major:{}}});function sample(arr,numItems){var result=[];var increment=arr.length/numItems;var i=0;var len=arr.length;for(;i<len;i+=increment){result.push(arr[Math.floor(i)]);}
return result;}
function getPixelForGridLine(scale,index,offsetGridLines){var length=scale.getTicks().length;var validIndex=Math.min(index,length-1);var lineValue=scale.getPixelForTick(validIndex);var start=scale._startPixel;var end=scale._endPixel;var epsilon=1e-6;var offset;if(offsetGridLines){if(length===1){offset=Math.max(lineValue-start,end-lineValue);}else if(index===0){offset=(scale.getPixelForTick(1)-lineValue)/2;}else{offset=(lineValue-scale.getPixelForTick(validIndex-1))/2;}
lineValue+=validIndex<index?offset:-offset;if(lineValue<start-epsilon||lineValue>end+epsilon){return;}}
return lineValue;}
function garbageCollect(caches,length){helpers$1.each(caches,function(cache){var gc=cache.gc;var gcLen=gc.length/2;var i;if(gcLen>length){for(i=0;i<gcLen;++i){delete cache.data[gc[i]];}
gc.splice(0,gcLen);}});}
function computeLabelSizes(ctx,tickFonts,ticks,caches){var length=ticks.length;var widths=[];var heights=[];var offsets=[];var widestLabelSize=0;var highestLabelSize=0;var i,j,jlen,label,tickFont,fontString,cache,lineHeight,width,height,nestedLabel,widest,highest;for(i=0;i<length;++i){label=ticks[i].label;tickFont=ticks[i].major?tickFonts.major:tickFonts.minor;ctx.font=fontString=tickFont.string;cache=caches[fontString]=caches[fontString]||{data:{},gc:[]};lineHeight=tickFont.lineHeight;width=height=0;if(!isNullOrUndef(label)&&!isArray(label)){width=helpers$1.measureText(ctx,cache.data,cache.gc,width,label);height=lineHeight;}else if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){nestedLabel=label[j];if(!isNullOrUndef(nestedLabel)&&!isArray(nestedLabel)){width=helpers$1.measureText(ctx,cache.data,cache.gc,width,nestedLabel);height+=lineHeight;}}}
widths.push(width);heights.push(height);offsets.push(lineHeight/2);widestLabelSize=Math.max(width,widestLabelSize);highestLabelSize=Math.max(height,highestLabelSize);}
garbageCollect(caches,length);widest=widths.indexOf(widestLabelSize);highest=heights.indexOf(highestLabelSize);function valueAt(idx){return{width:widths[idx]||0,height:heights[idx]||0,offset:offsets[idx]||0};}
return{first:valueAt(0),last:valueAt(length-1),widest:valueAt(widest),highest:valueAt(highest)};}
function getTickMarkLength(options){return options.drawTicks?options.tickMarkLength:0;}
function getScaleLabelHeight(options){var font,padding;if(!options.display){return 0;}
font=helpers$1.options._parseFont(options);padding=helpers$1.options.toPadding(options.padding);return font.lineHeight+padding.height;}
function parseFontOptions(options,nestedOpts){return helpers$1.extend(helpers$1.options._parseFont({fontFamily:valueOrDefault$a(nestedOpts.fontFamily,options.fontFamily),fontSize:valueOrDefault$a(nestedOpts.fontSize,options.fontSize),fontStyle:valueOrDefault$a(nestedOpts.fontStyle,options.fontStyle),lineHeight:valueOrDefault$a(nestedOpts.lineHeight,options.lineHeight)}),{color:helpers$1.options.resolve([nestedOpts.fontColor,options.fontColor,core_defaults.global.defaultFontColor])});}
function parseTickFontOptions(options){var minor=parseFontOptions(options,options.minor);var major=options.major.enabled?parseFontOptions(options,options.major):minor;return{minor:minor,major:major};}
function nonSkipped(ticksToFilter){var filtered=[];var item,index,len;for(index=0,len=ticksToFilter.length;index<len;++index){item=ticksToFilter[index];if(typeof item._index!=='undefined'){filtered.push(item);}}
return filtered;}
function getEvenSpacing(arr){var len=arr.length;var i,diff;if(len<2){return false;}
for(diff=arr[0],i=1;i<len;++i){if(arr[i]-arr[i-1]!==diff){return false;}}
return diff;}
function calculateSpacing(majorIndices,ticks,axisLength,ticksLimit){var evenMajorSpacing=getEvenSpacing(majorIndices);var spacing=(ticks.length-1)/ticksLimit;var factors,factor,i,ilen;if(!evenMajorSpacing){return Math.max(spacing,1);}
factors=helpers$1.math._factorize(evenMajorSpacing);for(i=0,ilen=factors.length-1;i<ilen;i++){factor=factors[i];if(factor>spacing){return factor;}}
return Math.max(spacing,1);}
function getMajorIndices(ticks){var result=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;i++){if(ticks[i].major){result.push(i);}}
return result;}
function skipMajors(ticks,majorIndices,spacing){var count=0;var next=majorIndices[0];var i,tick;spacing=Math.ceil(spacing);for(i=0;i<ticks.length;i++){tick=ticks[i];if(i===next){tick._index=i;count++;next=majorIndices[count*spacing];}else{delete tick.label;}}}
function skip(ticks,spacing,majorStart,majorEnd){var start=valueOrDefault$a(majorStart,0);var end=Math.min(valueOrDefault$a(majorEnd,ticks.length),ticks.length);var count=0;var length,i,tick,next;spacing=Math.ceil(spacing);if(majorEnd){length=majorEnd-majorStart;spacing=length/Math.floor(length/spacing);}
next=start;while(next<0){count++;next=Math.round(start+count*spacing);}
for(i=Math.max(start,0);i<end;i++){tick=ticks[i];if(i===next){tick._index=i;count++;next=Math.round(start+count*spacing);}else{delete tick.label;}}}
var Scale=core_element.extend({zeroLineIndex:0,getPadding:function(){var me=this;return{left:me.paddingLeft||0,top:me.paddingTop||0,right:me.paddingRight||0,bottom:me.paddingBottom||0};},getTicks:function(){return this._ticks;},_getLabels:function(){var data=this.chart.data;return this.options.labels||(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels||[];},mergeTicksOptions:function(){},beforeUpdate:function(){helpers$1.callback(this.options.beforeUpdate,[this]);},update:function(maxWidth,maxHeight,margins){var me=this;var tickOpts=me.options.ticks;var sampleSize=tickOpts.sampleSize;var i,ilen,labels,ticks,samplingEnabled;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=helpers$1.extend({left:0,right:0,top:0,bottom:0},margins);me._ticks=null;me.ticks=null;me._labelSizes=null;me._maxLabelLines=0;me.longestLabelWidth=0;me.longestTextCache=me.longestTextCache||{};me._gridLineItems=null;me._labelItems=null;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeDataLimits();me.determineDataLimits();me.afterDataLimits();me.beforeBuildTicks();ticks=me.buildTicks()||[];ticks=me.afterBuildTicks(ticks)||ticks;if((!ticks||!ticks.length)&&me.ticks){ticks=[];for(i=0,ilen=me.ticks.length;i<ilen;++i){ticks.push({value:me.ticks[i],major:false});}}
me._ticks=ticks;samplingEnabled=sampleSize<ticks.length;labels=me._convertTicksToLabels(samplingEnabled?sample(ticks,sampleSize):ticks);me._configure();me.beforeCalculateTickRotation();me.calculateTickRotation();me.afterCalculateTickRotation();me.beforeFit();me.fit();me.afterFit();me._ticksToDraw=tickOpts.display&&(tickOpts.autoSkip||tickOpts.source==='auto')?me._autoSkip(ticks):ticks;if(samplingEnabled){labels=me._convertTicksToLabels(me._ticksToDraw);}
me.ticks=labels;me.afterUpdate();return me.minSize;},_configure:function(){var me=this;var reversePixels=me.options.ticks.reverse;var startPixel,endPixel;if(me.isHorizontal()){startPixel=me.left;endPixel=me.right;}else{startPixel=me.top;endPixel=me.bottom;reversePixels=!reversePixels;}
me._startPixel=startPixel;me._endPixel=endPixel;me._reversePixels=reversePixels;me._length=endPixel-startPixel;},afterUpdate:function(){helpers$1.callback(this.options.afterUpdate,[this]);},beforeSetDimensions:function(){helpers$1.callback(this.options.beforeSetDimensions,[this]);},setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;},afterSetDimensions:function(){helpers$1.callback(this.options.afterSetDimensions,[this]);},beforeDataLimits:function(){helpers$1.callback(this.options.beforeDataLimits,[this]);},determineDataLimits:helpers$1.noop,afterDataLimits:function(){helpers$1.callback(this.options.afterDataLimits,[this]);},beforeBuildTicks:function(){helpers$1.callback(this.options.beforeBuildTicks,[this]);},buildTicks:helpers$1.noop,afterBuildTicks:function(ticks){var me=this;if(isArray(ticks)&&ticks.length){return helpers$1.callback(me.options.afterBuildTicks,[me,ticks]);}
me.ticks=helpers$1.callback(me.options.afterBuildTicks,[me,me.ticks])||me.ticks;return ticks;},beforeTickToLabelConversion:function(){helpers$1.callback(this.options.beforeTickToLabelConversion,[this]);},convertTicksToLabels:function(){var me=this;var tickOpts=me.options.ticks;me.ticks=me.ticks.map(tickOpts.userCallback||tickOpts.callback,this);},afterTickToLabelConversion:function(){helpers$1.callback(this.options.afterTickToLabelConversion,[this]);},beforeCalculateTickRotation:function(){helpers$1.callback(this.options.beforeCalculateTickRotation,[this]);},calculateTickRotation:function(){var me=this;var options=me.options;var tickOpts=options.ticks;var numTicks=me.getTicks().length;var minRotation=tickOpts.minRotation||0;var maxRotation=tickOpts.maxRotation;var labelRotation=minRotation;var labelSizes,maxLabelWidth,maxLabelHeight,maxWidth,tickWidth,maxHeight,maxLabelDiagonal;if(!me._isVisible()||!tickOpts.display||minRotation>=maxRotation||numTicks<=1||!me.isHorizontal()){me.labelRotation=minRotation;return;}
labelSizes=me._getLabelSizes();maxLabelWidth=labelSizes.widest.width;maxLabelHeight=labelSizes.highest.height-labelSizes.highest.offset;maxWidth=Math.min(me.maxWidth,me.chart.width-maxLabelWidth);tickWidth=options.offset?me.maxWidth/numTicks:maxWidth/(numTicks-1);if(maxLabelWidth+6>tickWidth){tickWidth=maxWidth/(numTicks-(options.offset?0.5:1));maxHeight=me.maxHeight-getTickMarkLength(options.gridLines)
-tickOpts.padding-getScaleLabelHeight(options.scaleLabel);maxLabelDiagonal=Math.sqrt(maxLabelWidth*maxLabelWidth+maxLabelHeight*maxLabelHeight);labelRotation=helpers$1.toDegrees(Math.min(Math.asin(Math.min((labelSizes.highest.height+6)/tickWidth,1)),Math.asin(Math.min(maxHeight/maxLabelDiagonal,1))-Math.asin(maxLabelHeight/maxLabelDiagonal)));labelRotation=Math.max(minRotation,Math.min(maxRotation,labelRotation));}
me.labelRotation=labelRotation;},afterCalculateTickRotation:function(){helpers$1.callback(this.options.afterCalculateTickRotation,[this]);},beforeFit:function(){helpers$1.callback(this.options.beforeFit,[this]);},fit:function(){var me=this;var minSize=me.minSize={width:0,height:0};var chart=me.chart;var opts=me.options;var tickOpts=opts.ticks;var scaleLabelOpts=opts.scaleLabel;var gridLineOpts=opts.gridLines;var display=me._isVisible();var isBottom=opts.position==='bottom';var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;}else if(display){minSize.width=getTickMarkLength(gridLineOpts)+getScaleLabelHeight(scaleLabelOpts);}
if(!isHorizontal){minSize.height=me.maxHeight;}else if(display){minSize.height=getTickMarkLength(gridLineOpts)+getScaleLabelHeight(scaleLabelOpts);}
if(tickOpts.display&&display){var tickFonts=parseTickFontOptions(tickOpts);var labelSizes=me._getLabelSizes();var firstLabelSize=labelSizes.first;var lastLabelSize=labelSizes.last;var widestLabelSize=labelSizes.widest;var highestLabelSize=labelSizes.highest;var lineSpace=tickFonts.minor.lineHeight*0.4;var tickPadding=tickOpts.padding;if(isHorizontal){var isRotated=me.labelRotation!==0;var angleRadians=helpers$1.toRadians(me.labelRotation);var cosRotation=Math.cos(angleRadians);var sinRotation=Math.sin(angleRadians);var labelHeight=sinRotation*widestLabelSize.width
+cosRotation*(highestLabelSize.height-(isRotated?highestLabelSize.offset:0))
+(isRotated?0:lineSpace);minSize.height=Math.min(me.maxHeight,minSize.height+labelHeight+tickPadding);var offsetLeft=me.getPixelForTick(0)-me.left;var offsetRight=me.right-me.getPixelForTick(me.getTicks().length-1);var paddingLeft,paddingRight;if(isRotated){paddingLeft=isBottom?cosRotation*firstLabelSize.width+sinRotation*firstLabelSize.offset:sinRotation*(firstLabelSize.height-firstLabelSize.offset);paddingRight=isBottom?sinRotation*(lastLabelSize.height-lastLabelSize.offset):cosRotation*lastLabelSize.width+sinRotation*lastLabelSize.offset;}else{paddingLeft=firstLabelSize.width/2;paddingRight=lastLabelSize.width/2;}
me.paddingLeft=Math.max((paddingLeft-offsetLeft)*me.width/(me.width-offsetLeft),0)+3;me.paddingRight=Math.max((paddingRight-offsetRight)*me.width/(me.width-offsetRight),0)+3;}else{var labelWidth=tickOpts.mirror?0:widestLabelSize.width+tickPadding+lineSpace;minSize.width=Math.min(me.maxWidth,minSize.width+labelWidth);me.paddingTop=firstLabelSize.height/2;me.paddingBottom=lastLabelSize.height/2;}}
me.handleMargins();if(isHorizontal){me.width=me._length=chart.width-me.margins.left-me.margins.right;me.height=minSize.height;}else{me.width=minSize.width;me.height=me._length=chart.height-me.margins.top-me.margins.bottom;}},handleMargins:function(){var me=this;if(me.margins){me.margins.left=Math.max(me.paddingLeft,me.margins.left);me.margins.top=Math.max(me.paddingTop,me.margins.top);me.margins.right=Math.max(me.paddingRight,me.margins.right);me.margins.bottom=Math.max(me.paddingBottom,me.margins.bottom);}},afterFit:function(){helpers$1.callback(this.options.afterFit,[this]);},isHorizontal:function(){var pos=this.options.position;return pos==='top'||pos==='bottom';},isFullWidth:function(){return this.options.fullWidth;},getRightValue:function(rawValue){if(isNullOrUndef(rawValue)){return NaN;}
if((typeof rawValue==='number'||rawValue instanceof Number)&&!isFinite(rawValue)){return NaN;}
if(rawValue){if(this.isHorizontal()){if(rawValue.x!==undefined){return this.getRightValue(rawValue.x);}}else if(rawValue.y!==undefined){return this.getRightValue(rawValue.y);}}
return rawValue;},_convertTicksToLabels:function(ticks){var me=this;var labels,i,ilen;me.ticks=ticks.map(function(tick){return tick.value;});me.beforeTickToLabelConversion();labels=me.convertTicksToLabels(ticks)||me.ticks;me.afterTickToLabelConversion();for(i=0,ilen=ticks.length;i<ilen;++i){ticks[i].label=labels[i];}
return labels;},_getLabelSizes:function(){var me=this;var labelSizes=me._labelSizes;if(!labelSizes){me._labelSizes=labelSizes=computeLabelSizes(me.ctx,parseTickFontOptions(me.options.ticks),me.getTicks(),me.longestTextCache);me.longestLabelWidth=labelSizes.widest.width;}
return labelSizes;},_parseValue:function(value){var start,end,min,max;if(isArray(value)){start=+this.getRightValue(value[0]);end=+this.getRightValue(value[1]);min=Math.min(start,end);max=Math.max(start,end);}else{value=+this.getRightValue(value);start=undefined;end=value;min=value;max=value;}
return{min:min,max:max,start:start,end:end};},_getScaleLabel:function(rawValue){var v=this._parseValue(rawValue);if(v.start!==undefined){return'['+v.start+', '+v.end+']';}
return+this.getRightValue(rawValue);},getLabelForIndex:helpers$1.noop,getPixelForValue:helpers$1.noop,getValueForPixel:helpers$1.noop,getPixelForTick:function(index){var me=this;var offset=me.options.offset;var numTicks=me._ticks.length;var tickWidth=1/Math.max(numTicks-(offset?0:1),1);return index<0||index>numTicks-1?null:me.getPixelForDecimal(index*tickWidth+(offset?tickWidth/2:0));},getPixelForDecimal:function(decimal){var me=this;if(me._reversePixels){decimal=1-decimal;}
return me._startPixel+decimal*me._length;},getDecimalForPixel:function(pixel){var decimal=(pixel-this._startPixel)/this._length;return this._reversePixels?1-decimal:decimal;},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue());},getBaseValue:function(){var me=this;var min=me.min;var max=me.max;return me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0;},_autoSkip:function(ticks){var me=this;var tickOpts=me.options.ticks;var axisLength=me._length;var ticksLimit=tickOpts.maxTicksLimit||axisLength/me._tickSize()+1;var majorIndices=tickOpts.major.enabled?getMajorIndices(ticks):[];var numMajorIndices=majorIndices.length;var first=majorIndices[0];var last=majorIndices[numMajorIndices-1];var i,ilen,spacing,avgMajorSpacing;if(numMajorIndices>ticksLimit){skipMajors(ticks,majorIndices,numMajorIndices/ticksLimit);return nonSkipped(ticks);}
spacing=calculateSpacing(majorIndices,ticks,axisLength,ticksLimit);if(numMajorIndices>0){for(i=0,ilen=numMajorIndices-1;i<ilen;i++){skip(ticks,spacing,majorIndices[i],majorIndices[i+1]);}
avgMajorSpacing=numMajorIndices>1?(last-first)/(numMajorIndices-1):null;skip(ticks,spacing,helpers$1.isNullOrUndef(avgMajorSpacing)?0:first-avgMajorSpacing,first);skip(ticks,spacing,last,helpers$1.isNullOrUndef(avgMajorSpacing)?ticks.length:last+avgMajorSpacing);return nonSkipped(ticks);}
skip(ticks,spacing);return nonSkipped(ticks);},_tickSize:function(){var me=this;var optionTicks=me.options.ticks;var rot=helpers$1.toRadians(me.labelRotation);var cos=Math.abs(Math.cos(rot));var sin=Math.abs(Math.sin(rot));var labelSizes=me._getLabelSizes();var padding=optionTicks.autoSkipPadding||0;var w=labelSizes?labelSizes.widest.width+padding:0;var h=labelSizes?labelSizes.highest.height+padding:0;return me.isHorizontal()?h*cos>w*sin?w/cos:h/sin:h*sin<w*cos?h/cos:w/sin;},_isVisible:function(){var me=this;var chart=me.chart;var display=me.options.display;var i,ilen,meta;if(display!=='auto'){return!!display;}
for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);if(meta.xAxisID===me.id||meta.yAxisID===me.id){return true;}}}
return false;},_computeGridLineItems:function(chartArea){var me=this;var chart=me.chart;var options=me.options;var gridLines=options.gridLines;var position=options.position;var offsetGridLines=gridLines.offsetGridLines;var isHorizontal=me.isHorizontal();var ticks=me._ticksToDraw;var ticksLength=ticks.length+(offsetGridLines?1:0);var tl=getTickMarkLength(gridLines);var items=[];var axisWidth=gridLines.drawBorder?valueAtIndexOrDefault(gridLines.lineWidth,0,0):0;var axisHalfWidth=axisWidth/2;var alignPixel=helpers$1._alignPixel;var alignBorderValue=function(pixel){return alignPixel(chart,pixel,axisWidth);};var borderValue,i,tick,lineValue,alignedLineValue;var tx1,ty1,tx2,ty2,x1,y1,x2,y2,lineWidth,lineColor,borderDash,borderDashOffset;if(position==='top'){borderValue=alignBorderValue(me.bottom);ty1=me.bottom-tl;ty2=borderValue-axisHalfWidth;y1=alignBorderValue(chartArea.top)+axisHalfWidth;y2=chartArea.bottom;}else if(position==='bottom'){borderValue=alignBorderValue(me.top);y1=chartArea.top;y2=alignBorderValue(chartArea.bottom)-axisHalfWidth;ty1=borderValue+axisHalfWidth;ty2=me.top+tl;}else if(position==='left'){borderValue=alignBorderValue(me.right);tx1=me.right-tl;tx2=borderValue-axisHalfWidth;x1=alignBorderValue(chartArea.left)+axisHalfWidth;x2=chartArea.right;}else{borderValue=alignBorderValue(me.left);x1=chartArea.left;x2=alignBorderValue(chartArea.right)-axisHalfWidth;tx1=borderValue+axisHalfWidth;tx2=me.left+tl;}
for(i=0;i<ticksLength;++i){tick=ticks[i]||{};if(isNullOrUndef(tick.label)&&i<ticks.length){continue;}
if(i===me.zeroLineIndex&&options.offset===offsetGridLines){lineWidth=gridLines.zeroLineWidth;lineColor=gridLines.zeroLineColor;borderDash=gridLines.zeroLineBorderDash||[];borderDashOffset=gridLines.zeroLineBorderDashOffset||0.0;}else{lineWidth=valueAtIndexOrDefault(gridLines.lineWidth,i,1);lineColor=valueAtIndexOrDefault(gridLines.color,i,'rgba(0,0,0,0.1)');borderDash=gridLines.borderDash||[];borderDashOffset=gridLines.borderDashOffset||0.0;}
lineValue=getPixelForGridLine(me,tick._index||i,offsetGridLines);if(lineValue===undefined){continue;}
alignedLineValue=alignPixel(chart,lineValue,lineWidth);if(isHorizontal){tx1=tx2=x1=x2=alignedLineValue;}else{ty1=ty2=y1=y2=alignedLineValue;}
items.push({tx1:tx1,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,width:lineWidth,color:lineColor,borderDash:borderDash,borderDashOffset:borderDashOffset,});}
items.ticksLength=ticksLength;items.borderValue=borderValue;return items;},_computeLabelItems:function(){var me=this;var options=me.options;var optionTicks=options.ticks;var position=options.position;var isMirrored=optionTicks.mirror;var isHorizontal=me.isHorizontal();var ticks=me._ticksToDraw;var fonts=parseTickFontOptions(optionTicks);var tickPadding=optionTicks.padding;var tl=getTickMarkLength(options.gridLines);var rotation=-helpers$1.toRadians(me.labelRotation);var items=[];var i,ilen,tick,label,x,y,textAlign,pixel,font,lineHeight,lineCount,textOffset;if(position==='top'){y=me.bottom-tl-tickPadding;textAlign=!rotation?'center':'left';}else if(position==='bottom'){y=me.top+tl+tickPadding;textAlign=!rotation?'center':'right';}else if(position==='left'){x=me.right-(isMirrored?0:tl)-tickPadding;textAlign=isMirrored?'left':'right';}else{x=me.left+(isMirrored?0:tl)+tickPadding;textAlign=isMirrored?'right':'left';}
for(i=0,ilen=ticks.length;i<ilen;++i){tick=ticks[i];label=tick.label;if(isNullOrUndef(label)){continue;}
pixel=me.getPixelForTick(tick._index||i)+optionTicks.labelOffset;font=tick.major?fonts.major:fonts.minor;lineHeight=font.lineHeight;lineCount=isArray(label)?label.length:1;if(isHorizontal){x=pixel;textOffset=position==='top'?((!rotation?0.5:1)-lineCount)*lineHeight:(!rotation?0.5:0)*lineHeight;}else{y=pixel;textOffset=(1-lineCount)*lineHeight/2;}
items.push({x:x,y:y,rotation:rotation,label:label,font:font,textOffset:textOffset,textAlign:textAlign});}
return items;},_drawGrid:function(chartArea){var me=this;var gridLines=me.options.gridLines;if(!gridLines.display){return;}
var ctx=me.ctx;var chart=me.chart;var alignPixel=helpers$1._alignPixel;var axisWidth=gridLines.drawBorder?valueAtIndexOrDefault(gridLines.lineWidth,0,0):0;var items=me._gridLineItems||(me._gridLineItems=me._computeGridLineItems(chartArea));var width,color,i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];width=item.width;color=item.color;if(width&&color){ctx.save();ctx.lineWidth=width;ctx.strokeStyle=color;if(ctx.setLineDash){ctx.setLineDash(item.borderDash);ctx.lineDashOffset=item.borderDashOffset;}
ctx.beginPath();if(gridLines.drawTicks){ctx.moveTo(item.tx1,item.ty1);ctx.lineTo(item.tx2,item.ty2);}
if(gridLines.drawOnChartArea){ctx.moveTo(item.x1,item.y1);ctx.lineTo(item.x2,item.y2);}
ctx.stroke();ctx.restore();}}
if(axisWidth){var firstLineWidth=axisWidth;var lastLineWidth=valueAtIndexOrDefault(gridLines.lineWidth,items.ticksLength-1,1);var borderValue=items.borderValue;var x1,x2,y1,y2;if(me.isHorizontal()){x1=alignPixel(chart,me.left,firstLineWidth)-firstLineWidth/2;x2=alignPixel(chart,me.right,lastLineWidth)+lastLineWidth/2;y1=y2=borderValue;}else{y1=alignPixel(chart,me.top,firstLineWidth)-firstLineWidth/2;y2=alignPixel(chart,me.bottom,lastLineWidth)+lastLineWidth/2;x1=x2=borderValue;}
ctx.lineWidth=axisWidth;ctx.strokeStyle=valueAtIndexOrDefault(gridLines.color,0);ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();}},_drawLabels:function(){var me=this;var optionTicks=me.options.ticks;if(!optionTicks.display){return;}
var ctx=me.ctx;var items=me._labelItems||(me._labelItems=me._computeLabelItems());var i,j,ilen,jlen,item,tickFont,label,y;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];tickFont=item.font;ctx.save();ctx.translate(item.x,item.y);ctx.rotate(item.rotation);ctx.font=tickFont.string;ctx.fillStyle=tickFont.color;ctx.textBaseline='middle';ctx.textAlign=item.textAlign;label=item.label;y=item.textOffset;if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){ctx.fillText(''+label[j],0,y);y+=tickFont.lineHeight;}}else{ctx.fillText(label,0,y);}
ctx.restore();}},_drawTitle:function(){var me=this;var ctx=me.ctx;var options=me.options;var scaleLabel=options.scaleLabel;if(!scaleLabel.display){return;}
var scaleLabelFontColor=valueOrDefault$a(scaleLabel.fontColor,core_defaults.global.defaultFontColor);var scaleLabelFont=helpers$1.options._parseFont(scaleLabel);var scaleLabelPadding=helpers$1.options.toPadding(scaleLabel.padding);var halfLineHeight=scaleLabelFont.lineHeight/2;var position=options.position;var rotation=0;var scaleLabelX,scaleLabelY;if(me.isHorizontal()){scaleLabelX=me.left+me.width/2;scaleLabelY=position==='bottom'?me.bottom-halfLineHeight-scaleLabelPadding.bottom:me.top+halfLineHeight+scaleLabelPadding.top;}else{var isLeft=position==='left';scaleLabelX=isLeft?me.left+halfLineHeight+scaleLabelPadding.top:me.right-halfLineHeight-scaleLabelPadding.top;scaleLabelY=me.top+me.height/2;rotation=isLeft?-0.5*Math.PI:0.5*Math.PI;}
ctx.save();ctx.translate(scaleLabelX,scaleLabelY);ctx.rotate(rotation);ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillStyle=scaleLabelFontColor;ctx.font=scaleLabelFont.string;ctx.fillText(scaleLabel.labelString,0,0);ctx.restore();},draw:function(chartArea){var me=this;if(!me._isVisible()){return;}
me._drawGrid(chartArea);me._drawTitle();me._drawLabels();},_layers:function(){var me=this;var opts=me.options;var tz=opts.ticks&&opts.ticks.z||0;var gz=opts.gridLines&&opts.gridLines.z||0;if(!me._isVisible()||tz===gz||me.draw!==me._draw){return[{z:tz,draw:function(){me.draw.apply(me,arguments);}}];}
return[{z:gz,draw:function(){me._drawGrid.apply(me,arguments);me._drawTitle.apply(me,arguments);}},{z:tz,draw:function(){me._drawLabels.apply(me,arguments);}}];},_getMatchingVisibleMetas:function(type){var me=this;var isHorizontal=me.isHorizontal();return me.chart._getSortedVisibleDatasetMetas().filter(function(meta){return(!type||meta.type===type)&&(isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id);});}});Scale.prototype._draw=Scale.prototype.draw;var core_scale=Scale;var isNullOrUndef$1=helpers$1.isNullOrUndef;var defaultConfig={position:'bottom'};var scale_category=core_scale.extend({determineDataLimits:function(){var me=this;var labels=me._getLabels();var ticksOpts=me.options.ticks;var min=ticksOpts.min;var max=ticksOpts.max;var minIndex=0;var maxIndex=labels.length-1;var findIndex;if(min!==undefined){findIndex=labels.indexOf(min);if(findIndex>=0){minIndex=findIndex;}}
if(max!==undefined){findIndex=labels.indexOf(max);if(findIndex>=0){maxIndex=findIndex;}}
me.minIndex=minIndex;me.maxIndex=maxIndex;me.min=labels[minIndex];me.max=labels[maxIndex];},buildTicks:function(){var me=this;var labels=me._getLabels();var minIndex=me.minIndex;var maxIndex=me.maxIndex;me.ticks=(minIndex===0&&maxIndex===labels.length-1)?labels:labels.slice(minIndex,maxIndex+1);},getLabelForIndex:function(index,datasetIndex){var me=this;var chart=me.chart;if(chart.getDatasetMeta(datasetIndex).controller._getValueScaleId()===me.id){return me.getRightValue(chart.data.datasets[datasetIndex].data[index]);}
return me._getLabels()[index];},_configure:function(){var me=this;var offset=me.options.offset;var ticks=me.ticks;core_scale.prototype._configure.call(me);if(!me.isHorizontal()){me._reversePixels=!me._reversePixels;}
if(!ticks){return;}
me._startValue=me.minIndex-(offset?0.5:0);me._valueRange=Math.max(ticks.length-(offset?0:1),1);},getPixelForValue:function(value,index,datasetIndex){var me=this;var valueCategory,labels,idx;if(!isNullOrUndef$1(index)&&!isNullOrUndef$1(datasetIndex)){value=me.chart.data.datasets[datasetIndex].data[index];}
if(!isNullOrUndef$1(value)){valueCategory=me.isHorizontal()?value.x:value.y;}
if(valueCategory!==undefined||(value!==undefined&&isNaN(index))){labels=me._getLabels();value=helpers$1.valueOrDefault(valueCategory,value);idx=labels.indexOf(value);index=idx!==-1?idx:index;if(isNaN(index)){index=value;}}
return me.getPixelForDecimal((index-me._startValue)/me._valueRange);},getPixelForTick:function(index){var ticks=this.ticks;return index<0||index>ticks.length-1?null:this.getPixelForValue(ticks[index],index+this.minIndex);},getValueForPixel:function(pixel){var me=this;var value=Math.round(me._startValue+me.getDecimalForPixel(pixel)*me._valueRange);return Math.min(Math.max(value,0),me.ticks.length-1);},getBasePixel:function(){return this.bottom;}});var _defaults=defaultConfig;scale_category._defaults=_defaults;var noop=helpers$1.noop;var isNullOrUndef$2=helpers$1.isNullOrUndef;function generateTicks(generationOptions,dataRange){var ticks=[];var MIN_SPACING=1e-14;var stepSize=generationOptions.stepSize;var unit=stepSize||1;var maxNumSpaces=generationOptions.maxTicks-1;var min=generationOptions.min;var max=generationOptions.max;var precision=generationOptions.precision;var rmin=dataRange.min;var rmax=dataRange.max;var spacing=helpers$1.niceNum((rmax-rmin)/maxNumSpaces/unit)*unit;var factor,niceMin,niceMax,numSpaces;if(spacing<MIN_SPACING&&isNullOrUndef$2(min)&&isNullOrUndef$2(max)){return[rmin,rmax];}
numSpaces=Math.ceil(rmax/spacing)-Math.floor(rmin/spacing);if(numSpaces>maxNumSpaces){spacing=helpers$1.niceNum(numSpaces*spacing/maxNumSpaces/unit)*unit;}
if(stepSize||isNullOrUndef$2(precision)){factor=Math.pow(10,helpers$1._decimalPlaces(spacing));}else{factor=Math.pow(10,precision);spacing=Math.ceil(spacing*factor)/factor;}
niceMin=Math.floor(rmin/spacing)*spacing;niceMax=Math.ceil(rmax/spacing)*spacing;if(stepSize){if(!isNullOrUndef$2(min)&&helpers$1.almostWhole(min/spacing,spacing/1000)){niceMin=min;}
if(!isNullOrUndef$2(max)&&helpers$1.almostWhole(max/spacing,spacing/1000)){niceMax=max;}}
numSpaces=(niceMax-niceMin)/spacing;if(helpers$1.almostEquals(numSpaces,Math.round(numSpaces),spacing/1000)){numSpaces=Math.round(numSpaces);}else{numSpaces=Math.ceil(numSpaces);}
niceMin=Math.round(niceMin*factor)/factor;niceMax=Math.round(niceMax*factor)/factor;ticks.push(isNullOrUndef$2(min)?niceMin:min);for(var j=1;j<numSpaces;++j){ticks.push(Math.round((niceMin+j*spacing)*factor)/factor);}
ticks.push(isNullOrUndef$2(max)?niceMax:max);return ticks;}
var scale_linearbase=core_scale.extend({getRightValue:function(value){if(typeof value==='string'){return+value;}
return core_scale.prototype.getRightValue.call(this,value);},handleTickRangeOptions:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;if(tickOpts.beginAtZero){var minSign=helpers$1.sign(me.min);var maxSign=helpers$1.sign(me.max);if(minSign<0&&maxSign<0){me.max=0;}else if(minSign>0&&maxSign>0){me.min=0;}}
var setMin=tickOpts.min!==undefined||tickOpts.suggestedMin!==undefined;var setMax=tickOpts.max!==undefined||tickOpts.suggestedMax!==undefined;if(tickOpts.min!==undefined){me.min=tickOpts.min;}else if(tickOpts.suggestedMin!==undefined){if(me.min===null){me.min=tickOpts.suggestedMin;}else{me.min=Math.min(me.min,tickOpts.suggestedMin);}}
if(tickOpts.max!==undefined){me.max=tickOpts.max;}else if(tickOpts.suggestedMax!==undefined){if(me.max===null){me.max=tickOpts.suggestedMax;}else{me.max=Math.max(me.max,tickOpts.suggestedMax);}}
if(setMin!==setMax){if(me.min>=me.max){if(setMin){me.max=me.min+1;}else{me.min=me.max-1;}}}
if(me.min===me.max){me.max++;if(!tickOpts.beginAtZero){me.min--;}}},getTickLimit:function(){var me=this;var tickOpts=me.options.ticks;var stepSize=tickOpts.stepSize;var maxTicksLimit=tickOpts.maxTicksLimit;var maxTicks;if(stepSize){maxTicks=Math.ceil(me.max/stepSize)-Math.floor(me.min/stepSize)+1;}else{maxTicks=me._computeTickLimit();maxTicksLimit=maxTicksLimit||11;}
if(maxTicksLimit){maxTicks=Math.min(maxTicksLimit,maxTicks);}
return maxTicks;},_computeTickLimit:function(){return Number.POSITIVE_INFINITY;},handleDirectionalChanges:noop,buildTicks:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var maxTicks=me.getTickLimit();maxTicks=Math.max(2,maxTicks);var numericGeneratorOptions={maxTicks:maxTicks,min:tickOpts.min,max:tickOpts.max,precision:tickOpts.precision,stepSize:helpers$1.valueOrDefault(tickOpts.fixedStepSize,tickOpts.stepSize)};var ticks=me.ticks=generateTicks(numericGeneratorOptions,me);me.handleDirectionalChanges();me.max=helpers$1.max(ticks);me.min=helpers$1.min(ticks);if(tickOpts.reverse){ticks.reverse();me.start=me.max;me.end=me.min;}else{me.start=me.min;me.end=me.max;}},convertTicksToLabels:function(){var me=this;me.ticksAsNumbers=me.ticks.slice();me.zeroLineIndex=me.ticks.indexOf(0);core_scale.prototype.convertTicksToLabels.call(me);},_configure:function(){var me=this;var ticks=me.getTicks();var start=me.min;var end=me.max;var offset;core_scale.prototype._configure.call(me);if(me.options.offset&&ticks.length){offset=(end-start)/Math.max(ticks.length-1,1)/2;start-=offset;end+=offset;}
me._startValue=start;me._endValue=end;me._valueRange=end-start;}});var defaultConfig$1={position:'left',ticks:{callback:core_ticks.formatters.linear}};var DEFAULT_MIN=0;var DEFAULT_MAX=1;function getOrCreateStack(stacks,stacked,meta){var key=[meta.type,stacked===undefined&&meta.stack===undefined?meta.index:'',meta.stack].join('.');if(stacks[key]===undefined){stacks[key]={pos:[],neg:[]};}
return stacks[key];}
function stackData(scale,stacks,meta,data){var opts=scale.options;var stacked=opts.stacked;var stack=getOrCreateStack(stacks,stacked,meta);var pos=stack.pos;var neg=stack.neg;var ilen=data.length;var i,value;for(i=0;i<ilen;++i){value=scale._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden){continue;}
pos[i]=pos[i]||0;neg[i]=neg[i]||0;if(opts.relativePoints){pos[i]=100;}else if(value.min<0||value.max<0){neg[i]+=value.min;}else{pos[i]+=value.max;}}}
function updateMinMax(scale,meta,data){var ilen=data.length;var i,value;for(i=0;i<ilen;++i){value=scale._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden){continue;}
scale.min=Math.min(scale.min,value.min);scale.max=Math.max(scale.max,value.max);}}
var scale_linear=scale_linearbase.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var datasets=chart.data.datasets;var metasets=me._getMatchingVisibleMetas();var hasStacks=opts.stacked;var stacks={};var ilen=metasets.length;var i,meta,data,values;me.min=Number.POSITIVE_INFINITY;me.max=Number.NEGATIVE_INFINITY;if(hasStacks===undefined){for(i=0;!hasStacks&&i<ilen;++i){meta=metasets[i];hasStacks=meta.stack!==undefined;}}
for(i=0;i<ilen;++i){meta=metasets[i];data=datasets[meta.index].data;if(hasStacks){stackData(me,stacks,meta,data);}else{updateMinMax(me,meta,data);}}
helpers$1.each(stacks,function(stackValues){values=stackValues.pos.concat(stackValues.neg);me.min=Math.min(me.min,helpers$1.min(values));me.max=Math.max(me.max,helpers$1.max(values));});me.min=helpers$1.isFinite(me.min)&&!isNaN(me.min)?me.min:DEFAULT_MIN;me.max=helpers$1.isFinite(me.max)&&!isNaN(me.max)?me.max:DEFAULT_MAX;me.handleTickRangeOptions();},_computeTickLimit:function(){var me=this;var tickFont;if(me.isHorizontal()){return Math.ceil(me.width/40);}
tickFont=helpers$1.options._parseFont(me.options.ticks);return Math.ceil(me.height/tickFont.lineHeight);},handleDirectionalChanges:function(){if(!this.isHorizontal()){this.ticks.reverse();}},getLabelForIndex:function(index,datasetIndex){return this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);},getPixelForValue:function(value){var me=this;return me.getPixelForDecimal((+me.getRightValue(value)-me._startValue)/me._valueRange);},getValueForPixel:function(pixel){return this._startValue+this.getDecimalForPixel(pixel)*this._valueRange;},getPixelForTick:function(index){var ticks=this.ticksAsNumbers;if(index<0||index>ticks.length-1){return null;}
return this.getPixelForValue(ticks[index]);}});var _defaults$1=defaultConfig$1;scale_linear._defaults=_defaults$1;var valueOrDefault$b=helpers$1.valueOrDefault;var log10=helpers$1.math.log10;function generateTicks$1(generationOptions,dataRange){var ticks=[];var tickVal=valueOrDefault$b(generationOptions.min,Math.pow(10,Math.floor(log10(dataRange.min))));var endExp=Math.floor(log10(dataRange.max));var endSignificand=Math.ceil(dataRange.max/Math.pow(10,endExp));var exp,significand;if(tickVal===0){exp=Math.floor(log10(dataRange.minNotZero));significand=Math.floor(dataRange.minNotZero/Math.pow(10,exp));ticks.push(tickVal);tickVal=significand*Math.pow(10,exp);}else{exp=Math.floor(log10(tickVal));significand=Math.floor(tickVal/Math.pow(10,exp));}
var precision=exp<0?Math.pow(10,Math.abs(exp)):1;do{ticks.push(tickVal);++significand;if(significand===10){significand=1;++exp;precision=exp>=0?1:precision;}
tickVal=Math.round(significand*Math.pow(10,exp)*precision)/precision;}while(exp<endExp||(exp===endExp&&significand<endSignificand));var lastTick=valueOrDefault$b(generationOptions.max,tickVal);ticks.push(lastTick);return ticks;}
var defaultConfig$2={position:'left',ticks:{callback:core_ticks.formatters.logarithmic}};function nonNegativeOrDefault(value,defaultValue){return helpers$1.isFinite(value)&&value>=0?value:defaultValue;}
var scale_logarithmic=core_scale.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var datasets=chart.data.datasets;var isHorizontal=me.isHorizontal();function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id;}
var datasetIndex,meta,value,data,i,ilen;me.min=Number.POSITIVE_INFINITY;me.max=Number.NEGATIVE_INFINITY;me.minNotZero=Number.POSITIVE_INFINITY;var hasStacks=opts.stacked;if(hasStacks===undefined){for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&meta.stack!==undefined){hasStacks=true;break;}}}
if(opts.stacked||hasStacks){var valuesPerStack={};for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);var key=[meta.type,((opts.stacked===undefined&&meta.stack===undefined)?datasetIndex:''),meta.stack].join('.');if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){if(valuesPerStack[key]===undefined){valuesPerStack[key]=[];}
data=datasets[datasetIndex].data;for(i=0,ilen=data.length;i<ilen;i++){var values=valuesPerStack[key];value=me._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden||value.min<0||value.max<0){continue;}
values[i]=values[i]||0;values[i]+=value.max;}}}
helpers$1.each(valuesPerStack,function(valuesForType){if(valuesForType.length>0){var minVal=helpers$1.min(valuesForType);var maxVal=helpers$1.max(valuesForType);me.min=Math.min(me.min,minVal);me.max=Math.max(me.max,maxVal);}});}else{for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){data=datasets[datasetIndex].data;for(i=0,ilen=data.length;i<ilen;i++){value=me._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden||value.min<0||value.max<0){continue;}
me.min=Math.min(value.min,me.min);me.max=Math.max(value.max,me.max);if(value.min!==0){me.minNotZero=Math.min(value.min,me.minNotZero);}}}}}
me.min=helpers$1.isFinite(me.min)?me.min:null;me.max=helpers$1.isFinite(me.max)?me.max:null;me.minNotZero=helpers$1.isFinite(me.minNotZero)?me.minNotZero:null;this.handleTickRangeOptions();},handleTickRangeOptions:function(){var me=this;var tickOpts=me.options.ticks;var DEFAULT_MIN=1;var DEFAULT_MAX=10;me.min=nonNegativeOrDefault(tickOpts.min,me.min);me.max=nonNegativeOrDefault(tickOpts.max,me.max);if(me.min===me.max){if(me.min!==0&&me.min!==null){me.min=Math.pow(10,Math.floor(log10(me.min))-1);me.max=Math.pow(10,Math.floor(log10(me.max))+1);}else{me.min=DEFAULT_MIN;me.max=DEFAULT_MAX;}}
if(me.min===null){me.min=Math.pow(10,Math.floor(log10(me.max))-1);}
if(me.max===null){me.max=me.min!==0?Math.pow(10,Math.floor(log10(me.min))+1):DEFAULT_MAX;}
if(me.minNotZero===null){if(me.min>0){me.minNotZero=me.min;}else if(me.max<1){me.minNotZero=Math.pow(10,Math.floor(log10(me.max)));}else{me.minNotZero=DEFAULT_MIN;}}},buildTicks:function(){var me=this;var tickOpts=me.options.ticks;var reverse=!me.isHorizontal();var generationOptions={min:nonNegativeOrDefault(tickOpts.min),max:nonNegativeOrDefault(tickOpts.max)};var ticks=me.ticks=generateTicks$1(generationOptions,me);me.max=helpers$1.max(ticks);me.min=helpers$1.min(ticks);if(tickOpts.reverse){reverse=!reverse;me.start=me.max;me.end=me.min;}else{me.start=me.min;me.end=me.max;}
if(reverse){ticks.reverse();}},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();core_scale.prototype.convertTicksToLabels.call(this);},getLabelForIndex:function(index,datasetIndex){return this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);},getPixelForTick:function(index){var ticks=this.tickValues;if(index<0||index>ticks.length-1){return null;}
return this.getPixelForValue(ticks[index]);},_getFirstTickValue:function(value){var exp=Math.floor(log10(value));var significand=Math.floor(value/Math.pow(10,exp));return significand*Math.pow(10,exp);},_configure:function(){var me=this;var start=me.min;var offset=0;core_scale.prototype._configure.call(me);if(start===0){start=me._getFirstTickValue(me.minNotZero);offset=valueOrDefault$b(me.options.ticks.fontSize,core_defaults.global.defaultFontSize)/me._length;}
me._startValue=log10(start);me._valueOffset=offset;me._valueRange=(log10(me.max)-log10(start))/(1-offset);},getPixelForValue:function(value){var me=this;var decimal=0;value=+me.getRightValue(value);if(value>me.min&&value>0){decimal=(log10(value)-me._startValue)/me._valueRange+me._valueOffset;}
return me.getPixelForDecimal(decimal);},getValueForPixel:function(pixel){var me=this;var decimal=me.getDecimalForPixel(pixel);return decimal===0&&me.min===0?0:Math.pow(10,me._startValue+(decimal-me._valueOffset)*me._valueRange);}});var _defaults$2=defaultConfig$2;scale_logarithmic._defaults=_defaults$2;var valueOrDefault$c=helpers$1.valueOrDefault;var valueAtIndexOrDefault$1=helpers$1.valueAtIndexOrDefault;var resolve$4=helpers$1.options.resolve;var defaultConfig$3={display:true,animate:true,position:'chartArea',angleLines:{display:true,color:'rgba(0,0,0,0.1)',lineWidth:1,borderDash:[],borderDashOffset:0.0},gridLines:{circular:false},ticks:{showLabelBackdrop:true,backdropColor:'rgba(255,255,255,0.75)',backdropPaddingY:2,backdropPaddingX:2,callback:core_ticks.formatters.linear},pointLabels:{display:true,fontSize:10,callback:function(label){return label;}}};function getTickBackdropHeight(opts){var tickOpts=opts.ticks;if(tickOpts.display&&opts.display){return valueOrDefault$c(tickOpts.fontSize,core_defaults.global.defaultFontSize)+tickOpts.backdropPaddingY*2;}
return 0;}
function measureLabelSize(ctx,lineHeight,label){if(helpers$1.isArray(label)){return{w:helpers$1.longestText(ctx,ctx.font,label),h:label.length*lineHeight};}
return{w:ctx.measureText(label).width,h:lineHeight};}
function determineLimits(angle,pos,size,min,max){if(angle===min||angle===max){return{start:pos-(size/2),end:pos+(size/2)};}else if(angle<min||angle>max){return{start:pos-size,end:pos};}
return{start:pos,end:pos+size};}
function fitWithPointLabels(scale){var plFont=helpers$1.options._parseFont(scale.options.pointLabels);var furthestLimits={l:0,r:scale.width,t:0,b:scale.height-scale.paddingTop};var furthestAngles={};var i,textSize,pointPosition;scale.ctx.font=plFont.string;scale._pointLabelSizes=[];var valueCount=scale.chart.data.labels.length;for(i=0;i<valueCount;i++){pointPosition=scale.getPointPosition(i,scale.drawingArea+5);textSize=measureLabelSize(scale.ctx,plFont.lineHeight,scale.pointLabels[i]);scale._pointLabelSizes[i]=textSize;var angleRadians=scale.getIndexAngle(i);var angle=helpers$1.toDegrees(angleRadians)%360;var hLimits=determineLimits(angle,pointPosition.x,textSize.w,0,180);var vLimits=determineLimits(angle,pointPosition.y,textSize.h,90,270);if(hLimits.start<furthestLimits.l){furthestLimits.l=hLimits.start;furthestAngles.l=angleRadians;}
if(hLimits.end>furthestLimits.r){furthestLimits.r=hLimits.end;furthestAngles.r=angleRadians;}
if(vLimits.start<furthestLimits.t){furthestLimits.t=vLimits.start;furthestAngles.t=angleRadians;}
if(vLimits.end>furthestLimits.b){furthestLimits.b=vLimits.end;furthestAngles.b=angleRadians;}}
scale.setReductions(scale.drawingArea,furthestLimits,furthestAngles);}
function getTextAlignForAngle(angle){if(angle===0||angle===180){return'center';}else if(angle<180){return'left';}
return'right';}
function fillText(ctx,text,position,lineHeight){var y=position.y+lineHeight/2;var i,ilen;if(helpers$1.isArray(text)){for(i=0,ilen=text.length;i<ilen;++i){ctx.fillText(text[i],position.x,y);y+=lineHeight;}}else{ctx.fillText(text,position.x,y);}}
function adjustPointPositionForLabelHeight(angle,textSize,position){if(angle===90||angle===270){position.y-=(textSize.h/2);}else if(angle>270||angle<90){position.y-=textSize.h;}}
function drawPointLabels(scale){var ctx=scale.ctx;var opts=scale.options;var pointLabelOpts=opts.pointLabels;var tickBackdropHeight=getTickBackdropHeight(opts);var outerDistance=scale.getDistanceFromCenterForValue(opts.ticks.reverse?scale.min:scale.max);var plFont=helpers$1.options._parseFont(pointLabelOpts);ctx.save();ctx.font=plFont.string;ctx.textBaseline='middle';for(var i=scale.chart.data.labels.length-1;i>=0;i--){var extra=(i===0?tickBackdropHeight/2:0);var pointLabelPosition=scale.getPointPosition(i,outerDistance+extra+5);var pointLabelFontColor=valueAtIndexOrDefault$1(pointLabelOpts.fontColor,i,core_defaults.global.defaultFontColor);ctx.fillStyle=pointLabelFontColor;var angleRadians=scale.getIndexAngle(i);var angle=helpers$1.toDegrees(angleRadians);ctx.textAlign=getTextAlignForAngle(angle);adjustPointPositionForLabelHeight(angle,scale._pointLabelSizes[i],pointLabelPosition);fillText(ctx,scale.pointLabels[i],pointLabelPosition,plFont.lineHeight);}
ctx.restore();}
function drawRadiusLine(scale,gridLineOpts,radius,index){var ctx=scale.ctx;var circular=gridLineOpts.circular;var valueCount=scale.chart.data.labels.length;var lineColor=valueAtIndexOrDefault$1(gridLineOpts.color,index-1);var lineWidth=valueAtIndexOrDefault$1(gridLineOpts.lineWidth,index-1);var pointPosition;if((!circular&&!valueCount)||!lineColor||!lineWidth){return;}
ctx.save();ctx.strokeStyle=lineColor;ctx.lineWidth=lineWidth;if(ctx.setLineDash){ctx.setLineDash(gridLineOpts.borderDash||[]);ctx.lineDashOffset=gridLineOpts.borderDashOffset||0.0;}
ctx.beginPath();if(circular){ctx.arc(scale.xCenter,scale.yCenter,radius,0,Math.PI*2);}else{pointPosition=scale.getPointPosition(0,radius);ctx.moveTo(pointPosition.x,pointPosition.y);for(var i=1;i<valueCount;i++){pointPosition=scale.getPointPosition(i,radius);ctx.lineTo(pointPosition.x,pointPosition.y);}}
ctx.closePath();ctx.stroke();ctx.restore();}
function numberOrZero(param){return helpers$1.isNumber(param)?param:0;}
var scale_radialLinear=scale_linearbase.extend({setDimensions:function(){var me=this;me.width=me.maxWidth;me.height=me.maxHeight;me.paddingTop=getTickBackdropHeight(me.options)/2;me.xCenter=Math.floor(me.width/2);me.yCenter=Math.floor((me.height-me.paddingTop)/2);me.drawingArea=Math.min(me.height-me.paddingTop,me.width)/2;},determineDataLimits:function(){var me=this;var chart=me.chart;var min=Number.POSITIVE_INFINITY;var max=Number.NEGATIVE_INFINITY;helpers$1.each(chart.data.datasets,function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex);helpers$1.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden){return;}
min=Math.min(value,min);max=Math.max(value,max);});}});me.min=(min===Number.POSITIVE_INFINITY?0:min);me.max=(max===Number.NEGATIVE_INFINITY?0:max);me.handleTickRangeOptions();},_computeTickLimit:function(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options));},convertTicksToLabels:function(){var me=this;scale_linearbase.prototype.convertTicksToLabels.call(me);me.pointLabels=me.chart.data.labels.map(function(){var label=helpers$1.callback(me.options.pointLabels.callback,arguments,me);return label||label===0?label:'';});},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);},fit:function(){var me=this;var opts=me.options;if(opts.display&&opts.pointLabels.display){fitWithPointLabels(me);}else{me.setCenterPoint(0,0,0,0);}},setReductions:function(largestPossibleRadius,furthestLimits,furthestAngles){var me=this;var radiusReductionLeft=furthestLimits.l/Math.sin(furthestAngles.l);var radiusReductionRight=Math.max(furthestLimits.r-me.width,0)/Math.sin(furthestAngles.r);var radiusReductionTop=-furthestLimits.t/Math.cos(furthestAngles.t);var radiusReductionBottom=-Math.max(furthestLimits.b-(me.height-me.paddingTop),0)/Math.cos(furthestAngles.b);radiusReductionLeft=numberOrZero(radiusReductionLeft);radiusReductionRight=numberOrZero(radiusReductionRight);radiusReductionTop=numberOrZero(radiusReductionTop);radiusReductionBottom=numberOrZero(radiusReductionBottom);me.drawingArea=Math.min(Math.floor(largestPossibleRadius-(radiusReductionLeft+radiusReductionRight)/2),Math.floor(largestPossibleRadius-(radiusReductionTop+radiusReductionBottom)/2));me.setCenterPoint(radiusReductionLeft,radiusReductionRight,radiusReductionTop,radiusReductionBottom);},setCenterPoint:function(leftMovement,rightMovement,topMovement,bottomMovement){var me=this;var maxRight=me.width-rightMovement-me.drawingArea;var maxLeft=leftMovement+me.drawingArea;var maxTop=topMovement+me.drawingArea;var maxBottom=(me.height-me.paddingTop)-bottomMovement-me.drawingArea;me.xCenter=Math.floor(((maxLeft+maxRight)/2)+me.left);me.yCenter=Math.floor(((maxTop+maxBottom)/2)+me.top+me.paddingTop);},getIndexAngle:function(index){var chart=this.chart;var angleMultiplier=360/chart.data.labels.length;var options=chart.options||{};var startAngle=options.startAngle||0;var angle=(index*angleMultiplier+startAngle)%360;return(angle<0?angle+360:angle)*Math.PI*2/360;},getDistanceFromCenterForValue:function(value){var me=this;if(helpers$1.isNullOrUndef(value)){return NaN;}
var scalingFactor=me.drawingArea/(me.max-me.min);if(me.options.ticks.reverse){return(me.max-value)*scalingFactor;}
return(value-me.min)*scalingFactor;},getPointPosition:function(index,distanceFromCenter){var me=this;var thisAngle=me.getIndexAngle(index)-(Math.PI/2);return{x:Math.cos(thisAngle)*distanceFromCenter+me.xCenter,y:Math.sin(thisAngle)*distanceFromCenter+me.yCenter};},getPointPositionForValue:function(index,value){return this.getPointPosition(index,this.getDistanceFromCenterForValue(value));},getBasePosition:function(index){var me=this;var min=me.min;var max=me.max;return me.getPointPositionForValue(index||0,me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0);},_drawGrid:function(){var me=this;var ctx=me.ctx;var opts=me.options;var gridLineOpts=opts.gridLines;var angleLineOpts=opts.angleLines;var lineWidth=valueOrDefault$c(angleLineOpts.lineWidth,gridLineOpts.lineWidth);var lineColor=valueOrDefault$c(angleLineOpts.color,gridLineOpts.color);var i,offset,position;if(opts.pointLabels.display){drawPointLabels(me);}
if(gridLineOpts.display){helpers$1.each(me.ticks,function(label,index){if(index!==0){offset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);drawRadiusLine(me,gridLineOpts,offset,index);}});}
if(angleLineOpts.display&&lineWidth&&lineColor){ctx.save();ctx.lineWidth=lineWidth;ctx.strokeStyle=lineColor;if(ctx.setLineDash){ctx.setLineDash(resolve$4([angleLineOpts.borderDash,gridLineOpts.borderDash,[]]));ctx.lineDashOffset=resolve$4([angleLineOpts.borderDashOffset,gridLineOpts.borderDashOffset,0.0]);}
for(i=me.chart.data.labels.length-1;i>=0;i--){offset=me.getDistanceFromCenterForValue(opts.ticks.reverse?me.min:me.max);position=me.getPointPosition(i,offset);ctx.beginPath();ctx.moveTo(me.xCenter,me.yCenter);ctx.lineTo(position.x,position.y);ctx.stroke();}
ctx.restore();}},_drawLabels:function(){var me=this;var ctx=me.ctx;var opts=me.options;var tickOpts=opts.ticks;if(!tickOpts.display){return;}
var startAngle=me.getIndexAngle(0);var tickFont=helpers$1.options._parseFont(tickOpts);var tickFontColor=valueOrDefault$c(tickOpts.fontColor,core_defaults.global.defaultFontColor);var offset,width;ctx.save();ctx.font=tickFont.string;ctx.translate(me.xCenter,me.yCenter);ctx.rotate(startAngle);ctx.textAlign='center';ctx.textBaseline='middle';helpers$1.each(me.ticks,function(label,index){if(index===0&&!tickOpts.reverse){return;}
offset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);if(tickOpts.showLabelBackdrop){width=ctx.measureText(label).width;ctx.fillStyle=tickOpts.backdropColor;ctx.fillRect(-width/2-tickOpts.backdropPaddingX,-offset-tickFont.size/2-tickOpts.backdropPaddingY,width+tickOpts.backdropPaddingX*2,tickFont.size+tickOpts.backdropPaddingY*2);}
ctx.fillStyle=tickFontColor;ctx.fillText(label,0,-offset);});ctx.restore();},_drawTitle:helpers$1.noop});var _defaults$3=defaultConfig$3;scale_radialLinear._defaults=_defaults$3;var deprecated$1=helpers$1._deprecated;var resolve$5=helpers$1.options.resolve;var valueOrDefault$d=helpers$1.valueOrDefault;var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991;var MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;var INTERVALS={millisecond:{common:true,size:1,steps:1000},second:{common:true,size:1000,steps:60},minute:{common:true,size:60000,steps:60},hour:{common:true,size:3600000,steps:24},day:{common:true,size:86400000,steps:30},week:{common:false,size:604800000,steps:4},month:{common:true,size:2.628e9,steps:12},quarter:{common:false,size:7.884e9,steps:4},year:{common:true,size:3.154e10}};var UNITS=Object.keys(INTERVALS);function sorter(a,b){return a-b;}
function arrayUnique(items){var hash={};var out=[];var i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];if(!hash[item]){hash[item]=true;out.push(item);}}
return out;}
function getMin(options){return helpers$1.valueOrDefault(options.time.min,options.ticks.min);}
function getMax(options){return helpers$1.valueOrDefault(options.time.max,options.ticks.max);}
function buildLookupTable(timestamps,min,max,distribution){if(distribution==='linear'||!timestamps.length){return[{time:min,pos:0},{time:max,pos:1}];}
var table=[];var items=[min];var i,ilen,prev,curr,next;for(i=0,ilen=timestamps.length;i<ilen;++i){curr=timestamps[i];if(curr>min&&curr<max){items.push(curr);}}
items.push(max);for(i=0,ilen=items.length;i<ilen;++i){next=items[i+1];prev=items[i-1];curr=items[i];if(prev===undefined||next===undefined||Math.round((next+prev)/2)!==curr){table.push({time:curr,pos:i/(ilen-1)});}}
return table;}
function lookup(table,key,value){var lo=0;var hi=table.length-1;var mid,i0,i1;while(lo>=0&&lo<=hi){mid=(lo+hi)>>1;i0=table[mid-1]||null;i1=table[mid];if(!i0){return{lo:null,hi:i1};}else if(i1[key]<value){lo=mid+1;}else if(i0[key]>value){hi=mid-1;}else{return{lo:i0,hi:i1};}}
return{lo:i1,hi:null};}
function interpolate$1(table,skey,sval,tkey){var range=lookup(table,skey,sval);var prev=!range.lo?table[0]:!range.hi?table[table.length-2]:range.lo;var next=!range.lo?table[1]:!range.hi?table[table.length-1]:range.hi;var span=next[skey]-prev[skey];var ratio=span?(sval-prev[skey])/span:0;var offset=(next[tkey]-prev[tkey])*ratio;return prev[tkey]+offset;}
function toTimestamp(scale,input){var adapter=scale._adapter;var options=scale.options.time;var parser=options.parser;var format=parser||options.format;var value=input;if(typeof parser==='function'){value=parser(value);}
if(!helpers$1.isFinite(value)){value=typeof format==='string'?adapter.parse(value,format):adapter.parse(value);}
if(value!==null){return+value;}
if(!parser&&typeof format==='function'){value=format(input);if(!helpers$1.isFinite(value)){value=adapter.parse(value);}}
return value;}
function parse(scale,input){if(helpers$1.isNullOrUndef(input)){return null;}
var options=scale.options.time;var value=toTimestamp(scale,scale.getRightValue(input));if(value===null){return value;}
if(options.round){value=+scale._adapter.startOf(value,options.round);}
return value;}
function determineUnitForAutoTicks(minUnit,min,max,capacity){var ilen=UNITS.length;var i,interval,factor;for(i=UNITS.indexOf(minUnit);i<ilen-1;++i){interval=INTERVALS[UNITS[i]];factor=interval.steps?interval.steps:MAX_INTEGER;if(interval.common&&Math.ceil((max-min)/(factor*interval.size))<=capacity){return UNITS[i];}}
return UNITS[ilen-1];}
function determineUnitForFormatting(scale,numTicks,minUnit,min,max){var i,unit;for(i=UNITS.length-1;i>=UNITS.indexOf(minUnit);i--){unit=UNITS[i];if(INTERVALS[unit].common&&scale._adapter.diff(max,min,unit)>=numTicks-1){return unit;}}
return UNITS[minUnit?UNITS.indexOf(minUnit):0];}
function determineMajorUnit(unit){for(var i=UNITS.indexOf(unit)+1,ilen=UNITS.length;i<ilen;++i){if(INTERVALS[UNITS[i]].common){return UNITS[i];}}}
function generate(scale,min,max,capacity){var adapter=scale._adapter;var options=scale.options;var timeOpts=options.time;var minor=timeOpts.unit||determineUnitForAutoTicks(timeOpts.minUnit,min,max,capacity);var stepSize=resolve$5([timeOpts.stepSize,timeOpts.unitStepSize,1]);var weekday=minor==='week'?timeOpts.isoWeekday:false;var first=min;var ticks=[];var time;if(weekday){first=+adapter.startOf(first,'isoWeek',weekday);}
first=+adapter.startOf(first,weekday?'day':minor);if(adapter.diff(max,min,minor)>100000*stepSize){throw min+' and '+max+' are too far apart with stepSize of '+stepSize+' '+minor;}
for(time=first;time<max;time=+adapter.add(time,stepSize,minor)){ticks.push(time);}
if(time===max||options.bounds==='ticks'){ticks.push(time);}
return ticks;}
function computeOffsets(table,ticks,min,max,options){var start=0;var end=0;var first,last;if(options.offset&&ticks.length){first=interpolate$1(table,'time',ticks[0],'pos');if(ticks.length===1){start=1-first;}else{start=(interpolate$1(table,'time',ticks[1],'pos')-first)/2;}
last=interpolate$1(table,'time',ticks[ticks.length-1],'pos');if(ticks.length===1){end=last;}else{end=(last-interpolate$1(table,'time',ticks[ticks.length-2],'pos'))/2;}}
return{start:start,end:end,factor:1/(start+1+end)};}
function setMajorTicks(scale,ticks,map,majorUnit){var adapter=scale._adapter;var first=+adapter.startOf(ticks[0].value,majorUnit);var last=ticks[ticks.length-1].value;var major,index;for(major=first;major<=last;major=+adapter.add(major,1,majorUnit)){index=map[major];if(index>=0){ticks[index].major=true;}}
return ticks;}
function ticksFromTimestamps(scale,values,majorUnit){var ticks=[];var map={};var ilen=values.length;var i,value;for(i=0;i<ilen;++i){value=values[i];map[value]=i;ticks.push({value:value,major:false});}
return(ilen===0||!majorUnit)?ticks:setMajorTicks(scale,ticks,map,majorUnit);}
var defaultConfig$4={position:'bottom',distribution:'linear',bounds:'data',adapters:{},time:{parser:false,unit:false,round:false,displayFormat:false,isoWeekday:false,minUnit:'millisecond',displayFormats:{}},ticks:{autoSkip:false,source:'auto',major:{enabled:false}}};var scale_time=core_scale.extend({initialize:function(){this.mergeTicksOptions();core_scale.prototype.initialize.call(this);},update:function(){var me=this;var options=me.options;var time=options.time||(options.time={});var adapter=me._adapter=new core_adapters._date(options.adapters.date);deprecated$1('time scale',time.format,'time.format','time.parser');deprecated$1('time scale',time.min,'time.min','ticks.min');deprecated$1('time scale',time.max,'time.max','ticks.max');helpers$1.mergeIf(time.displayFormats,adapter.formats());return core_scale.prototype.update.apply(me,arguments);},getRightValue:function(rawValue){if(rawValue&&rawValue.t!==undefined){rawValue=rawValue.t;}
return core_scale.prototype.getRightValue.call(this,rawValue);},determineDataLimits:function(){var me=this;var chart=me.chart;var adapter=me._adapter;var options=me.options;var unit=options.time.unit||'day';var min=MAX_INTEGER;var max=MIN_INTEGER;var timestamps=[];var datasets=[];var labels=[];var i,j,ilen,jlen,data,timestamp,labelsAdded;var dataLabels=me._getLabels();for(i=0,ilen=dataLabels.length;i<ilen;++i){labels.push(parse(me,dataLabels[i]));}
for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){if(chart.isDatasetVisible(i)){data=chart.data.datasets[i].data;if(helpers$1.isObject(data[0])){datasets[i]=[];for(j=0,jlen=data.length;j<jlen;++j){timestamp=parse(me,data[j]);timestamps.push(timestamp);datasets[i][j]=timestamp;}}else{datasets[i]=labels.slice(0);if(!labelsAdded){timestamps=timestamps.concat(labels);labelsAdded=true;}}}else{datasets[i]=[];}}
if(labels.length){min=Math.min(min,labels[0]);max=Math.max(max,labels[labels.length-1]);}
if(timestamps.length){timestamps=ilen>1?arrayUnique(timestamps).sort(sorter):timestamps.sort(sorter);min=Math.min(min,timestamps[0]);max=Math.max(max,timestamps[timestamps.length-1]);}
min=parse(me,getMin(options))||min;max=parse(me,getMax(options))||max;min=min===MAX_INTEGER?+adapter.startOf(Date.now(),unit):min;max=max===MIN_INTEGER?+adapter.endOf(Date.now(),unit)+1:max;me.min=Math.min(min,max);me.max=Math.max(min+1,max);me._table=[];me._timestamps={data:timestamps,datasets:datasets,labels:labels};},buildTicks:function(){var me=this;var min=me.min;var max=me.max;var options=me.options;var tickOpts=options.ticks;var timeOpts=options.time;var timestamps=me._timestamps;var ticks=[];var capacity=me.getLabelCapacity(min);var source=tickOpts.source;var distribution=options.distribution;var i,ilen,timestamp;if(source==='data'||(source==='auto'&&distribution==='series')){timestamps=timestamps.data;}else if(source==='labels'){timestamps=timestamps.labels;}else{timestamps=generate(me,min,max,capacity);}
if(options.bounds==='ticks'&&timestamps.length){min=timestamps[0];max=timestamps[timestamps.length-1];}
min=parse(me,getMin(options))||min;max=parse(me,getMax(options))||max;for(i=0,ilen=timestamps.length;i<ilen;++i){timestamp=timestamps[i];if(timestamp>=min&&timestamp<=max){ticks.push(timestamp);}}
me.min=min;me.max=max;me._unit=timeOpts.unit||(tickOpts.autoSkip?determineUnitForAutoTicks(timeOpts.minUnit,me.min,me.max,capacity):determineUnitForFormatting(me,ticks.length,timeOpts.minUnit,me.min,me.max));me._majorUnit=!tickOpts.major.enabled||me._unit==='year'?undefined:determineMajorUnit(me._unit);me._table=buildLookupTable(me._timestamps.data,min,max,distribution);me._offsets=computeOffsets(me._table,ticks,min,max,options);if(tickOpts.reverse){ticks.reverse();}
return ticksFromTimestamps(me,ticks,me._majorUnit);},getLabelForIndex:function(index,datasetIndex){var me=this;var adapter=me._adapter;var data=me.chart.data;var timeOpts=me.options.time;var label=data.labels&&index<data.labels.length?data.labels[index]:'';var value=data.datasets[datasetIndex].data[index];if(helpers$1.isObject(value)){label=me.getRightValue(value);}
if(timeOpts.tooltipFormat){return adapter.format(toTimestamp(me,label),timeOpts.tooltipFormat);}
if(typeof label==='string'){return label;}
return adapter.format(toTimestamp(me,label),timeOpts.displayFormats.datetime);},tickFormatFunction:function(time,index,ticks,format){var me=this;var adapter=me._adapter;var options=me.options;var formats=options.time.displayFormats;var minorFormat=formats[me._unit];var majorUnit=me._majorUnit;var majorFormat=formats[majorUnit];var tick=ticks[index];var tickOpts=options.ticks;var major=majorUnit&&majorFormat&&tick&&tick.major;var label=adapter.format(time,format?format:major?majorFormat:minorFormat);var nestedTickOpts=major?tickOpts.major:tickOpts.minor;var formatter=resolve$5([nestedTickOpts.callback,nestedTickOpts.userCallback,tickOpts.callback,tickOpts.userCallback]);return formatter?formatter(label,index,ticks):label;},convertTicksToLabels:function(ticks){var labels=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;++i){labels.push(this.tickFormatFunction(ticks[i].value,i,ticks));}
return labels;},getPixelForOffset:function(time){var me=this;var offsets=me._offsets;var pos=interpolate$1(me._table,'time',time,'pos');return me.getPixelForDecimal((offsets.start+pos)*offsets.factor);},getPixelForValue:function(value,index,datasetIndex){var me=this;var time=null;if(index!==undefined&&datasetIndex!==undefined){time=me._timestamps.datasets[datasetIndex][index];}
if(time===null){time=parse(me,value);}
if(time!==null){return me.getPixelForOffset(time);}},getPixelForTick:function(index){var ticks=this.getTicks();return index>=0&&index<ticks.length?this.getPixelForOffset(ticks[index].value):null;},getValueForPixel:function(pixel){var me=this;var offsets=me._offsets;var pos=me.getDecimalForPixel(pixel)/offsets.factor-offsets.end;var time=interpolate$1(me._table,'pos',pos,'time');return me._adapter._create(time);},_getLabelSize:function(label){var me=this;var ticksOpts=me.options.ticks;var tickLabelWidth=me.ctx.measureText(label).width;var angle=helpers$1.toRadians(me.isHorizontal()?ticksOpts.maxRotation:ticksOpts.minRotation);var cosRotation=Math.cos(angle);var sinRotation=Math.sin(angle);var tickFontSize=valueOrDefault$d(ticksOpts.fontSize,core_defaults.global.defaultFontSize);return{w:(tickLabelWidth*cosRotation)+(tickFontSize*sinRotation),h:(tickLabelWidth*sinRotation)+(tickFontSize*cosRotation)};},getLabelWidth:function(label){return this._getLabelSize(label).w;},getLabelCapacity:function(exampleTime){var me=this;var timeOpts=me.options.time;var displayFormats=timeOpts.displayFormats;var format=displayFormats[timeOpts.unit]||displayFormats.millisecond;var exampleLabel=me.tickFormatFunction(exampleTime,0,ticksFromTimestamps(me,[exampleTime],me._majorUnit),format);var size=me._getLabelSize(exampleLabel);var capacity=Math.floor(me.isHorizontal()?me.width/size.w:me.height/size.h);if(me.options.offset){capacity--;}
return capacity>0?capacity:1;}});var _defaults$4=defaultConfig$4;scale_time._defaults=_defaults$4;var scales={category:scale_category,linear:scale_linear,logarithmic:scale_logarithmic,radialLinear:scale_radialLinear,time:scale_time};var FORMATS={datetime:'MMM D, YYYY, h:mm:ss a',millisecond:'h:mm:ss.SSS a',second:'h:mm:ss a',minute:'h:mm a',hour:'hA',day:'MMM D',week:'ll',month:'MMM YYYY',quarter:'[Q]Q - YYYY',year:'YYYY'};core_adapters._date.override(typeof moment==='function'?{_id:'moment',formats:function(){return FORMATS;},parse:function(value,format){if(typeof value==='string'&&typeof format==='string'){value=moment(value,format);}else if(!(value instanceof moment)){value=moment(value);}
return value.isValid()?value.valueOf():null;},format:function(time,format){return moment(time).format(format);},add:function(time,amount,unit){return moment(time).add(amount,unit).valueOf();},diff:function(max,min,unit){return moment(max).diff(moment(min),unit);},startOf:function(time,unit,weekday){time=moment(time);if(unit==='isoWeek'){return time.isoWeekday(weekday).valueOf();}
return time.startOf(unit).valueOf();},endOf:function(time,unit){return moment(time).endOf(unit).valueOf();},_create:function(time){return moment(time);},}:{});core_defaults._set('global',{plugins:{filler:{propagate:true}}});var mappers={dataset:function(source){var index=source.fill;var chart=source.chart;var meta=chart.getDatasetMeta(index);var visible=meta&&chart.isDatasetVisible(index);var points=(visible&&meta.dataset._children)||[];var length=points.length||0;return!length?null:function(point,i){return(i<length&&points[i]._view)||null;};},boundary:function(source){var boundary=source.boundary;var x=boundary?boundary.x:null;var y=boundary?boundary.y:null;if(helpers$1.isArray(boundary)){return function(point,i){return boundary[i];};}
return function(point){return{x:x===null?point.x:x,y:y===null?point.y:y,};};}};function decodeFill(el,index,count){var model=el._model||{};var fill=model.fill;var target;if(fill===undefined){fill=!!model.backgroundColor;}
if(fill===false||fill===null){return false;}
if(fill===true){return'origin';}
target=parseFloat(fill,10);if(isFinite(target)&&Math.floor(target)===target){if(fill[0]==='-'||fill[0]==='+'){target=index+target;}
if(target===index||target<0||target>=count){return false;}
return target;}
switch(fill){case'bottom':return'start';case'top':return'end';case'zero':return'origin';case'origin':case'start':case'end':return fill;default:return false;}}
function computeLinearBoundary(source){var model=source.el._model||{};var scale=source.el._scale||{};var fill=source.fill;var target=null;var horizontal;if(isFinite(fill)){return null;}
if(fill==='start'){target=model.scaleBottom===undefined?scale.bottom:model.scaleBottom;}else if(fill==='end'){target=model.scaleTop===undefined?scale.top:model.scaleTop;}else if(model.scaleZero!==undefined){target=model.scaleZero;}else if(scale.getBasePixel){target=scale.getBasePixel();}
if(target!==undefined&&target!==null){if(target.x!==undefined&&target.y!==undefined){return target;}
if(helpers$1.isFinite(target)){horizontal=scale.isHorizontal();return{x:horizontal?target:null,y:horizontal?null:target};}}
return null;}
function computeCircularBoundary(source){var scale=source.el._scale;var options=scale.options;var length=scale.chart.data.labels.length;var fill=source.fill;var target=[];var start,end,center,i,point;if(!length){return null;}
start=options.ticks.reverse?scale.max:scale.min;end=options.ticks.reverse?scale.min:scale.max;center=scale.getPointPositionForValue(0,start);for(i=0;i<length;++i){point=fill==='start'||fill==='end'?scale.getPointPositionForValue(i,fill==='start'?start:end):scale.getBasePosition(i);if(options.gridLines.circular){point.cx=center.x;point.cy=center.y;point.angle=scale.getIndexAngle(i)-Math.PI/2;}
target.push(point);}
return target;}
function computeBoundary(source){var scale=source.el._scale||{};if(scale.getPointPositionForValue){return computeCircularBoundary(source);}
return computeLinearBoundary(source);}
function resolveTarget(sources,index,propagate){var source=sources[index];var fill=source.fill;var visited=[index];var target;if(!propagate){return fill;}
while(fill!==false&&visited.indexOf(fill)===-1){if(!isFinite(fill)){return fill;}
target=sources[fill];if(!target){return false;}
if(target.visible){return fill;}
visited.push(fill);fill=target.fill;}
return false;}
function createMapper(source){var fill=source.fill;var type='dataset';if(fill===false){return null;}
if(!isFinite(fill)){type='boundary';}
return mappers[type](source);}
function isDrawable(point){return point&&!point.skip;}
function drawArea(ctx,curve0,curve1,len0,len1){var i,cx,cy,r;if(!len0||!len1){return;}
ctx.moveTo(curve0[0].x,curve0[0].y);for(i=1;i<len0;++i){helpers$1.canvas.lineTo(ctx,curve0[i-1],curve0[i]);}
if(curve1[0].angle!==undefined){cx=curve1[0].cx;cy=curve1[0].cy;r=Math.sqrt(Math.pow(curve1[0].x-cx,2)+Math.pow(curve1[0].y-cy,2));for(i=len1-1;i>0;--i){ctx.arc(cx,cy,r,curve1[i].angle,curve1[i-1].angle,true);}
return;}
ctx.lineTo(curve1[len1-1].x,curve1[len1-1].y);for(i=len1-1;i>0;--i){helpers$1.canvas.lineTo(ctx,curve1[i],curve1[i-1],true);}}
function doFill(ctx,points,mapper,view,color,loop){var count=points.length;var span=view.spanGaps;var curve0=[];var curve1=[];var len0=0;var len1=0;var i,ilen,index,p0,p1,d0,d1,loopOffset;ctx.beginPath();for(i=0,ilen=count;i<ilen;++i){index=i%count;p0=points[index]._view;p1=mapper(p0,index,view);d0=isDrawable(p0);d1=isDrawable(p1);if(loop&&loopOffset===undefined&&d0){loopOffset=i+1;ilen=count+loopOffset;}
if(d0&&d1){len0=curve0.push(p0);len1=curve1.push(p1);}else if(len0&&len1){if(!span){drawArea(ctx,curve0,curve1,len0,len1);len0=len1=0;curve0=[];curve1=[];}else{if(d0){curve0.push(p0);}
if(d1){curve1.push(p1);}}}}
drawArea(ctx,curve0,curve1,len0,len1);ctx.closePath();ctx.fillStyle=color;ctx.fill();}
var plugin_filler={id:'filler',afterDatasetsUpdate:function(chart,options){var count=(chart.data.datasets||[]).length;var propagate=options.propagate;var sources=[];var meta,i,el,source;for(i=0;i<count;++i){meta=chart.getDatasetMeta(i);el=meta.dataset;source=null;if(el&&el._model&&el instanceof elements.Line){source={visible:chart.isDatasetVisible(i),fill:decodeFill(el,i,count),chart:chart,el:el};}
meta.$filler=source;sources.push(source);}
for(i=0;i<count;++i){source=sources[i];if(!source){continue;}
source.fill=resolveTarget(sources,i,propagate);source.boundary=computeBoundary(source);source.mapper=createMapper(source);}},beforeDatasetsDraw:function(chart){var metasets=chart._getSortedVisibleDatasetMetas();var ctx=chart.ctx;var meta,i,el,view,points,mapper,color;for(i=metasets.length-1;i>=0;--i){meta=metasets[i].$filler;if(!meta||!meta.visible){continue;}
el=meta.el;view=el._view;points=el._children||[];mapper=meta.mapper;color=view.backgroundColor||core_defaults.global.defaultColor;if(mapper&&color&&points.length){helpers$1.canvas.clipArea(ctx,chart.chartArea);doFill(ctx,points,mapper,view,color,el._loop);helpers$1.canvas.unclipArea(ctx);}}}};var getRtlHelper$1=helpers$1.rtl.getRtlAdapter;var noop$1=helpers$1.noop;var valueOrDefault$e=helpers$1.valueOrDefault;core_defaults._set('global',{legend:{display:true,position:'top',align:'center',fullWidth:true,reverse:false,weight:1000,onClick:function(e,legendItem){var index=legendItem.datasetIndex;var ci=this.chart;var meta=ci.getDatasetMeta(index);meta.hidden=meta.hidden===null?!ci.data.datasets[index].hidden:null;ci.update();},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(chart){var datasets=chart.data.datasets;var options=chart.options.legend||{};var usePointStyle=options.labels&&options.labels.usePointStyle;return chart._getSortedDatasetMetas().map(function(meta){var style=meta.controller.getStyle(usePointStyle?0:undefined);return{text:datasets[meta.index].label,fillStyle:style.backgroundColor,hidden:!chart.isDatasetVisible(meta.index),lineCap:style.borderCapStyle,lineDash:style.borderDash,lineDashOffset:style.borderDashOffset,lineJoin:style.borderJoinStyle,lineWidth:style.borderWidth,strokeStyle:style.borderColor,pointStyle:style.pointStyle,rotation:style.rotation,datasetIndex:meta.index};},this);}}},legendCallback:function(chart){var list=document.createElement('ul');var datasets=chart.data.datasets;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');for(i=0,ilen=datasets.length;i<ilen;i++){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[i].backgroundColor;if(datasets[i].label){listItem.appendChild(document.createTextNode(datasets[i].label));}}
return list.outerHTML;}});function getBoxWidth(labelOpts,fontSize){return labelOpts.usePointStyle&&labelOpts.boxWidth>fontSize?fontSize:labelOpts.boxWidth;}
var Legend=core_element.extend({initialize:function(config){var me=this;helpers$1.extend(me,config);me.legendHitBoxes=[];me._hoveredItem=null;me.doughnutMode=false;},beforeUpdate:noop$1,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize;},afterUpdate:noop$1,beforeSetDimensions:noop$1,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0};},afterSetDimensions:noop$1,beforeBuildLabels:noop$1,buildLabels:function(){var me=this;var labelOpts=me.options.labels||{};var legendItems=helpers$1.callback(labelOpts.generateLabels,[me.chart],me)||[];if(labelOpts.filter){legendItems=legendItems.filter(function(item){return labelOpts.filter(item,me.chart.data);});}
if(me.options.reverse){legendItems.reverse();}
me.legendItems=legendItems;},afterBuildLabels:noop$1,beforeFit:noop$1,fit:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var display=opts.display;var ctx=me.ctx;var labelFont=helpers$1.options._parseFont(labelOpts);var fontSize=labelFont.size;var hitboxes=me.legendHitBoxes=[];var minSize=me.minSize;var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;minSize.height=display?10:0;}else{minSize.width=display?10:0;minSize.height=me.maxHeight;}
if(!display){me.width=minSize.width=me.height=minSize.height=0;return;}
ctx.font=labelFont.string;if(isHorizontal){var lineWidths=me.lineWidths=[0];var totalHeight=0;ctx.textAlign='left';ctx.textBaseline='middle';helpers$1.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var width=boxWidth+(fontSize/2)+ctx.measureText(legendItem.text).width;if(i===0||lineWidths[lineWidths.length-1]+width+2*labelOpts.padding>minSize.width){totalHeight+=fontSize+labelOpts.padding;lineWidths[lineWidths.length-(i>0?0:1)]=0;}
hitboxes[i]={left:0,top:0,width:width,height:fontSize};lineWidths[lineWidths.length-1]+=width+labelOpts.padding;});minSize.height+=totalHeight;}else{var vPadding=labelOpts.padding;var columnWidths=me.columnWidths=[];var columnHeights=me.columnHeights=[];var totalWidth=labelOpts.padding;var currentColWidth=0;var currentColHeight=0;helpers$1.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var itemWidth=boxWidth+(fontSize/2)+ctx.measureText(legendItem.text).width;if(i>0&&currentColHeight+fontSize+2*vPadding>minSize.height){totalWidth+=currentColWidth+labelOpts.padding;columnWidths.push(currentColWidth);columnHeights.push(currentColHeight);currentColWidth=0;currentColHeight=0;}
currentColWidth=Math.max(currentColWidth,itemWidth);currentColHeight+=fontSize+vPadding;hitboxes[i]={left:0,top:0,width:itemWidth,height:fontSize};});totalWidth+=currentColWidth;columnWidths.push(currentColWidth);columnHeights.push(currentColHeight);minSize.width+=totalWidth;}
me.width=minSize.width;me.height=minSize.height;},afterFit:noop$1,isHorizontal:function(){return this.options.position==='top'||this.options.position==='bottom';},draw:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var globalDefaults=core_defaults.global;var defaultColor=globalDefaults.defaultColor;var lineDefault=globalDefaults.elements.line;var legendHeight=me.height;var columnHeights=me.columnHeights;var legendWidth=me.width;var lineWidths=me.lineWidths;if(!opts.display){return;}
var rtlHelper=getRtlHelper$1(opts.rtl,me.left,me.minSize.width);var ctx=me.ctx;var fontColor=valueOrDefault$e(labelOpts.fontColor,globalDefaults.defaultFontColor);var labelFont=helpers$1.options._parseFont(labelOpts);var fontSize=labelFont.size;var cursor;ctx.textAlign=rtlHelper.textAlign('left');ctx.textBaseline='middle';ctx.lineWidth=0.5;ctx.strokeStyle=fontColor;ctx.fillStyle=fontColor;ctx.font=labelFont.string;var boxWidth=getBoxWidth(labelOpts,fontSize);var hitboxes=me.legendHitBoxes;var drawLegendBox=function(x,y,legendItem){if(isNaN(boxWidth)||boxWidth<=0){return;}
ctx.save();var lineWidth=valueOrDefault$e(legendItem.lineWidth,lineDefault.borderWidth);ctx.fillStyle=valueOrDefault$e(legendItem.fillStyle,defaultColor);ctx.lineCap=valueOrDefault$e(legendItem.lineCap,lineDefault.borderCapStyle);ctx.lineDashOffset=valueOrDefault$e(legendItem.lineDashOffset,lineDefault.borderDashOffset);ctx.lineJoin=valueOrDefault$e(legendItem.lineJoin,lineDefault.borderJoinStyle);ctx.lineWidth=lineWidth;ctx.strokeStyle=valueOrDefault$e(legendItem.strokeStyle,defaultColor);if(ctx.setLineDash){ctx.setLineDash(valueOrDefault$e(legendItem.lineDash,lineDefault.borderDash));}
if(labelOpts&&labelOpts.usePointStyle){var radius=boxWidth*Math.SQRT2/2;var centerX=rtlHelper.xPlus(x,boxWidth/2);var centerY=y+fontSize/2;helpers$1.canvas.drawPoint(ctx,legendItem.pointStyle,radius,centerX,centerY,legendItem.rotation);}else{ctx.fillRect(rtlHelper.leftForLtr(x,boxWidth),y,boxWidth,fontSize);if(lineWidth!==0){ctx.strokeRect(rtlHelper.leftForLtr(x,boxWidth),y,boxWidth,fontSize);}}
ctx.restore();};var fillText=function(x,y,legendItem,textWidth){var halfFontSize=fontSize/2;var xLeft=rtlHelper.xPlus(x,boxWidth+halfFontSize);var yMiddle=y+halfFontSize;ctx.fillText(legendItem.text,xLeft,yMiddle);if(legendItem.hidden){ctx.beginPath();ctx.lineWidth=2;ctx.moveTo(xLeft,yMiddle);ctx.lineTo(rtlHelper.xPlus(xLeft,textWidth),yMiddle);ctx.stroke();}};var alignmentOffset=function(dimension,blockSize){switch(opts.align){case'start':return labelOpts.padding;case'end':return dimension-blockSize;default:return(dimension-blockSize+labelOpts.padding)/2;}};var isHorizontal=me.isHorizontal();if(isHorizontal){cursor={x:me.left+alignmentOffset(legendWidth,lineWidths[0]),y:me.top+labelOpts.padding,line:0};}else{cursor={x:me.left+labelOpts.padding,y:me.top+alignmentOffset(legendHeight,columnHeights[0]),line:0};}
helpers$1.rtl.overrideTextDirection(me.ctx,opts.textDirection);var itemHeight=fontSize+labelOpts.padding;helpers$1.each(me.legendItems,function(legendItem,i){var textWidth=ctx.measureText(legendItem.text).width;var width=boxWidth+(fontSize/2)+textWidth;var x=cursor.x;var y=cursor.y;rtlHelper.setWidth(me.minSize.width);if(isHorizontal){if(i>0&&x+width+labelOpts.padding>me.left+me.minSize.width){y=cursor.y+=itemHeight;cursor.line++;x=cursor.x=me.left+alignmentOffset(legendWidth,lineWidths[cursor.line]);}}else if(i>0&&y+itemHeight>me.top+me.minSize.height){x=cursor.x=x+me.columnWidths[cursor.line]+labelOpts.padding;cursor.line++;y=cursor.y=me.top+alignmentOffset(legendHeight,columnHeights[cursor.line]);}
var realX=rtlHelper.x(x);drawLegendBox(realX,y,legendItem);hitboxes[i].left=rtlHelper.leftForLtr(realX,hitboxes[i].width);hitboxes[i].top=y;fillText(realX,y,legendItem,textWidth);if(isHorizontal){cursor.x+=width+labelOpts.padding;}else{cursor.y+=itemHeight;}});helpers$1.rtl.restoreTextDirection(me.ctx,opts.textDirection);},_getLegendItemAt:function(x,y){var me=this;var i,hitBox,lh;if(x>=me.left&&x<=me.right&&y>=me.top&&y<=me.bottom){lh=me.legendHitBoxes;for(i=0;i<lh.length;++i){hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height){return me.legendItems[i];}}}
return null;},handleEvent:function(e){var me=this;var opts=me.options;var type=e.type==='mouseup'?'click':e.type;var hoveredItem;if(type==='mousemove'){if(!opts.onHover&&!opts.onLeave){return;}}else if(type==='click'){if(!opts.onClick){return;}}else{return;}
hoveredItem=me._getLegendItemAt(e.x,e.y);if(type==='click'){if(hoveredItem&&opts.onClick){opts.onClick.call(me,e.native,hoveredItem);}}else{if(opts.onLeave&&hoveredItem!==me._hoveredItem){if(me._hoveredItem){opts.onLeave.call(me,e.native,me._hoveredItem);}
me._hoveredItem=hoveredItem;}
if(opts.onHover&&hoveredItem){opts.onHover.call(me,e.native,hoveredItem);}}}});function createNewLegendAndAttach(chart,legendOpts){var legend=new Legend({ctx:chart.ctx,options:legendOpts,chart:chart});core_layouts.configure(chart,legend,legendOpts);core_layouts.addBox(chart,legend);chart.legend=legend;}
var plugin_legend={id:'legend',_element:Legend,beforeInit:function(chart){var legendOpts=chart.options.legend;if(legendOpts){createNewLegendAndAttach(chart,legendOpts);}},beforeUpdate:function(chart){var legendOpts=chart.options.legend;var legend=chart.legend;if(legendOpts){helpers$1.mergeIf(legendOpts,core_defaults.global.legend);if(legend){core_layouts.configure(chart,legend,legendOpts);legend.options=legendOpts;}else{createNewLegendAndAttach(chart,legendOpts);}}else if(legend){core_layouts.removeBox(chart,legend);delete chart.legend;}},afterEvent:function(chart,e){var legend=chart.legend;if(legend){legend.handleEvent(e);}}};var noop$2=helpers$1.noop;core_defaults._set('global',{title:{display:false,fontStyle:'bold',fullWidth:true,padding:10,position:'top',text:'',weight:2000}});var Title=core_element.extend({initialize:function(config){var me=this;helpers$1.extend(me,config);me.legendHitBoxes=[];},beforeUpdate:noop$2,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize;},afterUpdate:noop$2,beforeSetDimensions:noop$2,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0};},afterSetDimensions:noop$2,beforeBuildLabels:noop$2,buildLabels:noop$2,afterBuildLabels:noop$2,beforeFit:noop$2,fit:function(){var me=this;var opts=me.options;var minSize=me.minSize={};var isHorizontal=me.isHorizontal();var lineCount,textSize;if(!opts.display){me.width=minSize.width=me.height=minSize.height=0;return;}
lineCount=helpers$1.isArray(opts.text)?opts.text.length:1;textSize=lineCount*helpers$1.options._parseFont(opts).lineHeight+opts.padding*2;me.width=minSize.width=isHorizontal?me.maxWidth:textSize;me.height=minSize.height=isHorizontal?textSize:me.maxHeight;},afterFit:noop$2,isHorizontal:function(){var pos=this.options.position;return pos==='top'||pos==='bottom';},draw:function(){var me=this;var ctx=me.ctx;var opts=me.options;if(!opts.display){return;}
var fontOpts=helpers$1.options._parseFont(opts);var lineHeight=fontOpts.lineHeight;var offset=lineHeight/2+opts.padding;var rotation=0;var top=me.top;var left=me.left;var bottom=me.bottom;var right=me.right;var maxWidth,titleX,titleY;ctx.fillStyle=helpers$1.valueOrDefault(opts.fontColor,core_defaults.global.defaultFontColor);ctx.font=fontOpts.string;if(me.isHorizontal()){titleX=left+((right-left)/2);titleY=top+offset;maxWidth=right-left;}else{titleX=opts.position==='left'?left+offset:right-offset;titleY=top+((bottom-top)/2);maxWidth=bottom-top;rotation=Math.PI*(opts.position==='left'?-0.5:0.5);}
ctx.save();ctx.translate(titleX,titleY);ctx.rotate(rotation);ctx.textAlign='center';ctx.textBaseline='middle';var text=opts.text;if(helpers$1.isArray(text)){var y=0;for(var i=0;i<text.length;++i){ctx.fillText(text[i],0,y,maxWidth);y+=lineHeight;}}else{ctx.fillText(text,0,0,maxWidth);}
ctx.restore();}});function createNewTitleBlockAndAttach(chart,titleOpts){var title=new Title({ctx:chart.ctx,options:titleOpts,chart:chart});core_layouts.configure(chart,title,titleOpts);core_layouts.addBox(chart,title);chart.titleBlock=title;}
var plugin_title={id:'title',_element:Title,beforeInit:function(chart){var titleOpts=chart.options.title;if(titleOpts){createNewTitleBlockAndAttach(chart,titleOpts);}},beforeUpdate:function(chart){var titleOpts=chart.options.title;var titleBlock=chart.titleBlock;if(titleOpts){helpers$1.mergeIf(titleOpts,core_defaults.global.title);if(titleBlock){core_layouts.configure(chart,titleBlock,titleOpts);titleBlock.options=titleOpts;}else{createNewTitleBlockAndAttach(chart,titleOpts);}}else if(titleBlock){core_layouts.removeBox(chart,titleBlock);delete chart.titleBlock;}}};var plugins={};var filler=plugin_filler;var legend=plugin_legend;var title=plugin_title;plugins.filler=filler;plugins.legend=legend;plugins.title=title;core_controller.helpers=helpers$1;core_helpers();core_controller._adapters=core_adapters;core_controller.Animation=core_animation;core_controller.animationService=core_animations;core_controller.controllers=controllers;core_controller.DatasetController=core_datasetController;core_controller.defaults=core_defaults;core_controller.Element=core_element;core_controller.elements=elements;core_controller.Interaction=core_interaction;core_controller.layouts=core_layouts;core_controller.platform=platform;core_controller.plugins=core_plugins;core_controller.Scale=core_scale;core_controller.scaleService=core_scaleService;core_controller.Ticks=core_ticks;core_controller.Tooltip=core_tooltip;core_controller.helpers.each(scales,function(scale,type){core_controller.scaleService.registerScaleType(type,scale,scale._defaults);});for(var k in plugins){if(plugins.hasOwnProperty(k)){core_controller.plugins.register(plugins[k]);}}
core_controller.platform.initialize();var src=core_controller;if(typeof window!=='undefined'){window.Chart=core_controller;}
core_controller.Chart=core_controller;core_controller.Legend=plugins.legend._element;core_controller.Title=plugins.title._element;core_controller.pluginService=core_controller.plugins;core_controller.PluginBase=core_controller.Element.extend({});core_controller.canvasHelpers=core_controller.helpers.canvas;core_controller.layoutService=core_controller.layouts;core_controller.LinearScaleBase=scale_linearbase;core_controller.helpers.each(['Bar','Bubble','Doughnut','Line','PolarArea','Radar','Scatter'],function(klass){core_controller[klass]=function(ctx,cfg){return new core_controller(ctx,core_controller.helpers.merge(cfg||{},{type:klass.charAt(0).toLowerCase()+klass.slice(1)}));};});return src;})));function filterTable(){var filters=$("#filterSelect").serializeArray()
if(filters.length==0){$("tbody > tr").show()
return}
$("tbody > tr").hide()
var filteredObjects=[]
var lastFilter=""
var result;for(var i=0;i<filters.length;i++){var filterName=filters[i]["value"]
if(filters[i]["name"]!=lastFilter){filteredObjects.push(result)
result=[]}
result=result.concat($("tbody > tr:contains('"+filterName+"')").toArray())
lastFilter=filters[i]["name"]}
filteredObjects.push(result)
var endResult=filteredObjects[1]
for(var i=2;i<filteredObjects.length;i++){endResult=endResult.filter(function(v){return filteredObjects[i].indexOf(v)!=-1})}
endResult.forEach(function(v){$(v).show()})}
$(function(){$('select.dropdown').dropdown()
$("#applyButton").click(filterTable)
$("#resetButton").click(function(){$(".dropdown").dropdown('clear')
$("tbody > tr").show()})})
(function(global,factory){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document");}
return factory(w);};}else{factory(global);}})(typeof window!=="undefined"?window:this,function(window,noGlobal){"use strict";var arr=[];var getProto=Object.getPrototypeOf;var slice=arr.slice;var flat=arr.flat?function(array){return arr.flat.call(array);}:function(array){return arr.concat.apply([],array);};var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var fnToString=hasOwn.toString;var ObjectFunctionString=fnToString.call(Object);var support={};var isFunction=function isFunction(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};var isWindow=function isWindow(obj){return obj!=null&&obj===obj.window;};var document=window.document;var preservedScriptAttributes={type:true,src:true,nonce:true,noModule:true};function DOMEval(code,node,doc){doc=doc||document;var i,val,script=doc.createElement("script");script.text=code;if(node){for(i in preservedScriptAttributes){val=node[i]||node.getAttribute&&node.getAttribute(i);if(val){script.setAttribute(i,val);}}}
doc.head.appendChild(script).parentNode.removeChild(script);}
function toType(obj){if(obj==null){return obj+"";}
return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj;}
var
version="3.5.1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context);};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,length:0,toArray:function(){return slice.call(this);},get:function(num){if(num==null){return slice.call(this);}
return num<0?this[num+this.length]:this[num];},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;return ret;},each:function(callback){return jQuery.each(this,callback);},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},slice:function(){return this.pushStack(slice.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},even:function(){return this.pushStack(jQuery.grep(this,function(_elem,i){return(i+1)%2;}));},odd:function(){return this.pushStack(jQuery.grep(this,function(_elem,i){return i%2;}));},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[]);},end:function(){return this.prevObject||this.constructor();},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++;}
if(typeof target!=="object"&&!isFunction(target)){target={};}
if(i===length){target=this;i--;}
for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){copy=options[name];if(name==="__proto__"||target===copy){continue;}
if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=Array.isArray(copy)))){src=target[name];if(copyIsArray&&!Array.isArray(src)){clone=[];}else if(!copyIsArray&&!jQuery.isPlainObject(src)){clone={};}else{clone=src;}
copyIsArray=false;target[name]=jQuery.extend(deep,clone,copy);}else if(copy!==undefined){target[name]=copy;}}}}
return target;};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg);},noop:function(){},isPlainObject:function(obj){var proto,Ctor;if(!obj||toString.call(obj)!=="[object Object]"){return false;}
proto=getProto(obj);if(!proto){return true;}
Ctor=hasOwn.call(proto,"constructor")&&proto.constructor;return typeof Ctor==="function"&&fnToString.call(Ctor)===ObjectFunctionString;},isEmptyObject:function(obj){var name;for(name in obj){return false;}
return true;},globalEval:function(code,options,doc){DOMEval(code,{nonce:options&&options.nonce},doc);},each:function(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++){if(callback.call(obj[i],i,obj[i])===false){break;}}}else{for(i in obj){if(callback.call(obj[i],i,obj[i])===false){break;}}}
return obj;},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArrayLike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr);}else{push.call(ret,arr);}}
return ret;},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i);},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j];}
first.length=i;return first;},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i]);}}
return matches;},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems)){length=elems.length;for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}
return flat(ret);},guid:1,support:support});if(typeof Symbol==="function"){jQuery.fn[Symbol.iterator]=arr[Symbol.iterator];}
jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_i,name){class2type["[object "+name+"]"]=name.toLowerCase();});function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=toType(obj);if(isFunction(obj)||isWindow(obj)){return false;}
return type==="array"||length===0||typeof length==="number"&&length>0&&(length-1)in obj;}
var Sizzle=(function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date(),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),nonnativeSelectorCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true;}
return 0;},hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,pushNative=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i;}}
return-1;},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|"+"ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+
whitespace+"*\\]",pseudos=":("+identifier+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+
whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rdescend=new RegExp(whitespace+"|>"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+identifier+")"),"CLASS":new RegExp("^\\.("+identifier+")"),"TAG":new RegExp("^("+identifier+"|[*])"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+
whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+
whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rhtml=/HTML$/i,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,runescape=new RegExp("\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(escape,nonHex){var high="0x"+escape.slice(1)-0x10000;return nonHex?nonHex:high<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00);},rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fcssescape=function(ch,asCodePoint){if(asCodePoint){if(ch==="\0"){return"\uFFFD";}
return ch.slice(0,-1)+"\\"+
ch.charCodeAt(ch.length-1).toString(16)+" ";}
return"\\"+ch;},unloadHandler=function(){setDocument();},inDisabledFieldset=addCombinator(function(elem){return elem.disabled===true&&elem.nodeName.toLowerCase()==="fieldset";},{dir:"parentNode",next:"legend"});try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType;}catch(e){push={apply:arr.length?function(target,els){pushNative.apply(target,slice.call(els));}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}
target.length=j-1;}};}
function Sizzle(selector,context,results,seed){var m,i,elem,nid,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results;}
if(!seed){setDocument(context);context=context||document;if(documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){if((elem=context.getElementById(m))){if(elem.id===m){results.push(elem);return results;}}else{return results;}}else{if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results;}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results;}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results;}}
if(support.qsa&&!nonnativeSelectorCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))&&(nodeType!==1||context.nodeName.toLowerCase()!=="object")){newSelector=selector;newContext=context;if(nodeType===1&&(rdescend.test(selector)||rcombinators.test(selector))){newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;if(newContext!==context||!support.scope){if((nid=context.getAttribute("id"))){nid=nid.replace(rcssescape,fcssescape);}else{context.setAttribute("id",(nid=expando));}}
groups=tokenize(selector);i=groups.length;while(i--){groups[i]=(nid?"#"+nid:":scope")+" "+
toSelector(groups[i]);}
newSelector=groups.join(",");}
try{push.apply(results,newContext.querySelectorAll(newSelector));return results;}catch(qsaError){nonnativeSelectorCache(selector,true);}finally{if(nid===expando){context.removeAttribute("id");}}}}}
return select(selector.replace(rtrim,"$1"),context,results,seed);}
function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()];}
return(cache[key+" "]=value);}
return cache;}
function markFunction(fn){fn[expando]=true;return fn;}
function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el);}catch(e){return false;}finally{if(el.parentNode){el.parentNode.removeChild(el);}
el=null;}}
function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler;}}
function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&a.sourceIndex-b.sourceIndex;if(diff){return diff;}
if(cur){while((cur=cur.nextSibling)){if(cur===b){return-1;}}}
return a?1:-1;}
function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};}
function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type;};}
function createDisabledPseudo(disabled){return function(elem){if("form"in elem){if(elem.parentNode&&elem.disabled===false){if("label"in elem){if("label"in elem.parentNode){return elem.parentNode.disabled===disabled;}else{return elem.disabled===disabled;}}
return elem.isDisabled===disabled||elem.isDisabled!==!disabled&&inDisabledFieldset(elem)===disabled;}
return elem.disabled===disabled;}else if("label"in elem){return elem.disabled===disabled;}
return false;};}
function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j]);}}});});}
function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context;}
support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var namespace=elem.namespaceURI,docElem=(elem.ownerDocument||elem).documentElement;return!rhtml.test(namespace||docElem&&docElem.nodeName||"HTML");};setDocument=Sizzle.setDocument=function(node){var hasCompare,subWindow,doc=node?node.ownerDocument||node:preferredDoc;if(doc==document||doc.nodeType!==9||!doc.documentElement){return document;}
document=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);if(preferredDoc!=document&&(subWindow=document.defaultView)&&subWindow.top!==subWindow){if(subWindow.addEventListener){subWindow.addEventListener("unload",unloadHandler,false);}else if(subWindow.attachEvent){subWindow.attachEvent("onunload",unloadHandler);}}
support.scope=assert(function(el){docElem.appendChild(el).appendChild(document.createElement("div"));return typeof el.querySelectorAll!=="undefined"&&!el.querySelectorAll(":scope fieldset div").length;});support.attributes=assert(function(el){el.className="i";return!el.getAttribute("className");});support.getElementsByTagName=assert(function(el){el.appendChild(document.createComment(""));return!el.getElementsByTagName("*").length;});support.getElementsByClassName=rnative.test(document.getElementsByClassName);support.getById=assert(function(el){docElem.appendChild(el).id=expando;return!document.getElementsByName||!document.getElementsByName(expando).length;});if(support.getById){Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId;};};Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var elem=context.getElementById(id);return elem?[elem]:[];}};}else{Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId;};};Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var node,i,elems,elem=context.getElementById(id);if(elem){node=elem.getAttributeNode("id");if(node&&node.value===id){return[elem];}
elems=context.getElementsByName(id);i=0;while((elem=elems[i++])){node=elem.getAttributeNode("id");if(node&&node.value===id){return[elem];}}}
return[];}};}
Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag);}else if(support.qsa){return context.querySelectorAll(tag);}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem);}}
return tmp;}
return results;};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!=="undefined"&&documentIsHTML){return context.getElementsByClassName(className);}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(document.querySelectorAll))){assert(function(el){var input;docElem.appendChild(el).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(el.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")");}
if(!el.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")");}
if(!el.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=");}
input=document.createElement("input");input.setAttribute("name","");el.appendChild(input);if(!el.querySelectorAll("[name='']").length){rbuggyQSA.push("\\["+whitespace+"*name"+whitespace+"*="+
whitespace+"*(?:''|\"\")");}
if(!el.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");}
if(!el.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]");}
el.querySelectorAll("\\\f");rbuggyQSA.push("[\\r\\n\\f]");});assert(function(el){el.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var input=document.createElement("input");input.setAttribute("type","hidden");el.appendChild(input).setAttribute("name","D");if(el.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=");}
if(el.querySelectorAll(":enabled").length!==2){rbuggyQSA.push(":enabled",":disabled");}
docElem.appendChild(el).disabled=true;if(el.querySelectorAll(":disabled").length!==2){rbuggyQSA.push(":enabled",":disabled");}
el.querySelectorAll("*,:x");rbuggyQSA.push(",.*:");});}
if((support.matchesSelector=rnative.test((matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(el){support.disconnectedMatch=matches.call(el,"*");matches.call(el,"[s!='']:x");rbuggyMatches.push("!=",pseudos);});}
rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true;}}}
return false;};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0;}
var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare;}
compare=(a.ownerDocument||a)==(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a==document||a.ownerDocument==preferredDoc&&contains(preferredDoc,a)){return-1;}
if(b==document||b.ownerDocument==preferredDoc&&contains(preferredDoc,b)){return 1;}
return sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0;}
return compare&4?-1:1;}:function(a,b){if(a===b){hasDuplicate=true;return 0;}
var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a==document?-1:b==document?1:aup?-1:bup?1:sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0;}else if(aup===bup){return siblingCheck(a,b);}
cur=a;while((cur=cur.parentNode)){ap.unshift(cur);}
cur=b;while((cur=cur.parentNode)){bp.unshift(cur);}
while(ap[i]===bp[i]){i++;}
return i?siblingCheck(ap[i],bp[i]):ap[i]==preferredDoc?-1:bp[i]==preferredDoc?1:0;};return document;};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){setDocument(elem);if(support.matchesSelector&&documentIsHTML&&!nonnativeSelectorCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){nonnativeSelectorCache(expr,true);}}
return Sizzle(expr,document,null,[elem]).length>0;};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!=document){setDocument(context);}
return contains(context,elem);};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!=document){setDocument(elem);}
var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null;};Sizzle.escape=function(sel){return(sel+"").replace(rcssescape,fcssescape);};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i);}}
while(j--){results.splice(duplicates[j],1);}}
sortInput=null;return results;};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while((node=elem[i++])){ret+=getText(node);}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}
return ret;};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" ";}
return match.slice(0,4);},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0]);}
match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd");}else if(match[3]){Sizzle.error(match[0]);}
return match;},"PSEUDO":function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null;}
if(match[3]){match[2]=match[4]||match[5]||"";}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess);}
return match.slice(0,3);}},filter:{"TAG":function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true;}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"");});},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!=";}
if(!operator){return true;}
result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false;};},"CHILD":function(type,what,_argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode;}:function(elem,_context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=false;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false;}}
start=dir=type==="only"&&!start&&"nextSibling";}
return true;}
start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break;}}}else{if(useCache){node=elem;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex;}
if(diff===false){while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff];}
if(node===elem){break;}}}}}
diff-=last;return diff===first||(diff%first===0&&diff/first>=0);}};},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument);}
if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}
return fn;}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,_context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem);}}}):function(elem,_context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop();};}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),"contains":markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||getText(elem)).indexOf(text)>-1;};}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang);}
lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id;},"root":function(elem){return elem===docElem;},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},"enabled":createDisabledPseudo(false),"disabled":createDisabledPseudo(true),"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected);},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}
return elem.selected===true;},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false;}}
return true;},"parent":function(elem){return!Expr.pseudos["empty"](elem);},"header":function(elem){return rheader.test(elem.nodeName);},"input":function(elem){return rinputs.test(elem.nodeName);},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text");},"first":createPositionalPseudo(function(){return[0];}),"last":createPositionalPseudo(function(_matchIndexes,length){return[length-1];}),"eq":createPositionalPseudo(function(_matchIndexes,length,argument){return[argument<0?argument+length:argument];}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument>length?length:argument;for(;--i>=0;){matchIndexes.push(i);}
return matchIndexes;}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i);}
return matchIndexes;})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i);}
for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i);}
function setFilters(){}
setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0);}
soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar;}
groups.push((tokens=[]));}
matched=false;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length);}
for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length);}}
if(!matched){break;}}
return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value;}
return selector;}
function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&key==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml);}}
return false;}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true;}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if(skip&&skip===elem.nodeName.toLowerCase()){elem=elem[dir]||elem;}else if((oldCache=uniqueCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return(newCache[2]=oldCache[2]);}else{uniqueCache[key]=newCache;if((newCache[2]=matcher(elem,context,xml))){return true;}}}}}
return false;};}
function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}
return true;}:matchers[0];}
function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}
return results;}
function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}
return newUnmatched;}
function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}
if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}
return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml);}
if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}
if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem));}}
postFinder(null,(matcherOut=[]),temp,xml);}
i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push.apply(results,matcherOut);}}});}
function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){var ret=(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret;}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}
return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens));}
matchers.push(matcher);}}
return elementMatcher(matchers);}
function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1),len=elems.length;if(outermost){outermostContext=context==document||context||outermost;}
for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;if(!context&&elem.ownerDocument!=document){setDocument(elem);xml=!documentIsHTML;}
while((matcher=elementMatchers[j++])){if(matcher(elem,context||document,xml)){results.push(elem);break;}}
if(outermost){dirruns=dirrunsUnique;}}
if(bySet){if((elem=!matcher&&elem)){matchedCount--;}
if(seed){unmatched.push(elem);}}}
matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml);}
if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}
setMatched=condense(setMatched);}
push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results);}}
if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}
return unmatched;};return bySet?markFunction(superMatcher):superMatcher;}
compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector);}
i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}
cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector;}
return cached;};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize((selector=compiled.selector||selector));results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results;}else if(compiled){context=context.parentNode;}
selector=selector.slice(tokens.shift().value.length);}
i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break;}
if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results;}
break;}}}}
(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results;};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(el){return el.compareDocumentPosition(document.createElement("fieldset"))&1;});if(!assert(function(el){el.innerHTML="<a href='#'></a>";return el.firstChild.getAttribute("href")==="#";})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2);}});}
if(!support.attributes||!assert(function(el){el.innerHTML="<input/>";el.firstChild.setAttribute("value","");return el.firstChild.getAttribute("value")==="";})){addHandle("value",function(elem,_name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue;}});}
if(!assert(function(el){return el.getAttribute("disabled")==null;})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null;}});}
return Sizzle;})(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;jQuery.escapeSelector=Sizzle.escape;var dir=function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break;}
matched.push(elem);}}
return matched;};var siblings=function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n);}}
return matched;};var rneedsContext=jQuery.expr.match.needsContext;function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();};var rsingleTag=(/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i);function winnow(elements,qualifier,not){if(isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not;});}
if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)!==not;});}
if(typeof qualifier!=="string"){return jQuery.grep(elements,function(elem){return(indexOf.call(qualifier,elem)>-1)!==not;});}
return jQuery.filter(qualifier,elements,not);}
jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")";}
if(elems.length===1&&elem.nodeType===1){return jQuery.find.matchesSelector(elem,expr)?[elem]:[];}
return jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1;}));};jQuery.fn.extend({find:function(selector){var i,ret,len=this.length,self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true;}}}));}
ret=this.pushStack([]);for(i=0;i<len;i++){jQuery.find(selector,self[i],ret);}
return len>1?jQuery.uniqueSort(ret):ret;},filter:function(selector){return this.pushStack(winnow(this,selector||[],false));},not:function(selector){return this.pushStack(winnow(this,selector||[],true));},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length;}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector){return this;}
root=root||rootjQuery;if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null];}else{match=rquickExpr.exec(selector);}
if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(isFunction(this[match])){this[match](context[match]);}else{this.attr(match,context[match]);}}}
return this;}else{elem=document.getElementById(match[2]);if(elem){this[0]=elem;this.length=1;}
return this;}}else if(!context||context.jquery){return(context||root).find(selector);}else{return this.constructor(context).find(selector);}}else if(selector.nodeType){this[0]=selector;this.length=1;return this;}else if(isFunction(selector)){return root.ready!==undefined?root.ready(selector):selector(jQuery);}
return jQuery.makeArray(selector,this);};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true;}}});},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],targets=typeof selectors!=="string"&&jQuery(selectors);if(!rneedsContext.test(selectors)){for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(targets?targets.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break;}}}}
return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched);},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1;}
if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0]);}
return indexOf.call(this,elem.jquery?elem[0]:elem);},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))));},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}
return cur;}
jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function(elem){return dir(elem,"parentNode");},parentsUntil:function(elem,_i,until){return dir(elem,"parentNode",until);},next:function(elem){return sibling(elem,"nextSibling");},prev:function(elem){return sibling(elem,"previousSibling");},nextAll:function(elem){return dir(elem,"nextSibling");},prevAll:function(elem){return dir(elem,"previousSibling");},nextUntil:function(elem,_i,until){return dir(elem,"nextSibling",until);},prevUntil:function(elem,_i,until){return dir(elem,"previousSibling",until);},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem);},children:function(elem){return siblings(elem.firstChild);},contents:function(elem){if(elem.contentDocument!=null&&getProto(elem.contentDocument)){return elem.contentDocument;}
if(nodeName(elem,"template")){elem=elem.content||elem;}
return jQuery.merge([],elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until;}
if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched);}
if(this.length>1){if(!guaranteedUnique[name]){jQuery.uniqueSort(matched);}
if(rparentsprev.test(name)){matched.reverse();}}
return this.pushStack(matched);};});var rnothtmlwhite=(/[^\x20\t\r\n\f]+/g);function createOptions(options){var object={};jQuery.each(options.match(rnothtmlwhite)||[],function(_,flag){object[flag]=true;});return object;}
jQuery.Callbacks=function(options){options=typeof options==="string"?createOptions(options):jQuery.extend({},options);var
firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){locked=locked||options.once;fired=firing=true;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length){if(list[firingIndex].apply(memory[0],memory[1])===false&&options.stopOnFalse){firingIndex=list.length;memory=false;}}}
if(!options.memory){memory=false;}
firing=false;if(locked){if(memory){list=[];}else{list="";}}},self={add:function(){if(list){if(memory&&!firing){firingIndex=list.length-1;queue.push(memory);}
(function add(args){jQuery.each(args,function(_,arg){if(isFunction(arg)){if(!options.unique||!self.has(arg)){list.push(arg);}}else if(arg&&arg.length&&toType(arg)!=="string"){add(arg);}});})(arguments);if(memory&&!firing){fire();}}
return this;},remove:function(){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(index<=firingIndex){firingIndex--;}}});return this;},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0;},empty:function(){if(list){list=[];}
return this;},disable:function(){locked=queue=[];list=memory="";return this;},disabled:function(){return!list;},lock:function(){locked=queue=[];if(!memory&&!firing){list=memory="";}
return this;},locked:function(){return!!locked;},fireWith:function(context,args){if(!locked){args=args||[];args=[context,args.slice?args.slice():args];queue.push(args);if(!firing){fire();}}
return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return!!fired;}};return self;};function Identity(v){return v;}
function Thrower(ex){throw ex;}
function adoptValue(value,resolve,reject,noValue){var method;try{if(value&&isFunction((method=value.promise))){method.call(value).done(resolve).fail(reject);}else if(value&&isFunction((method=value.then))){method.call(value,resolve,reject);}else{resolve.apply(undefined,[value].slice(noValue));}}catch(value){reject.apply(undefined,[value]);}}
jQuery.extend({Deferred:function(func){var tuples=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],state="pending",promise={state:function(){return state;},always:function(){deferred.done(arguments).fail(arguments);return this;},"catch":function(fn){return promise.then(null,fn);},pipe:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(_i,tuple){var fn=isFunction(fns[tuple[4]])&&fns[tuple[4]];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&isFunction(returned.promise)){returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject);}else{newDefer[tuple[0]+"With"](this,fn?[returned]:arguments);}});});fns=null;}).promise();},then:function(onFulfilled,onRejected,onProgress){var maxDepth=0;function resolve(depth,deferred,handler,special){return function(){var that=this,args=arguments,mightThrow=function(){var returned,then;if(depth<maxDepth){return;}
returned=handler.apply(that,args);if(returned===deferred.promise()){throw new TypeError("Thenable self-resolution");}
then=returned&&(typeof returned==="object"||typeof returned==="function")&&returned.then;if(isFunction(then)){if(special){then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special));}else{maxDepth++;then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special),resolve(maxDepth,deferred,Identity,deferred.notifyWith));}}else{if(handler!==Identity){that=undefined;args=[returned];}
(special||deferred.resolveWith)(that,args);}},process=special?mightThrow:function(){try{mightThrow();}catch(e){if(jQuery.Deferred.exceptionHook){jQuery.Deferred.exceptionHook(e,process.stackTrace);}
if(depth+1>=maxDepth){if(handler!==Thrower){that=undefined;args=[e];}
deferred.rejectWith(that,args);}}};if(depth){process();}else{if(jQuery.Deferred.getStackHook){process.stackTrace=jQuery.Deferred.getStackHook();}
window.setTimeout(process);}};}
return jQuery.Deferred(function(newDefer){tuples[0][3].add(resolve(0,newDefer,isFunction(onProgress)?onProgress:Identity,newDefer.notifyWith));tuples[1][3].add(resolve(0,newDefer,isFunction(onFulfilled)?onFulfilled:Identity));tuples[2][3].add(resolve(0,newDefer,isFunction(onRejected)?onRejected:Thrower));}).promise();},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise;}},deferred={};jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[5];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString;},tuples[3-i][2].disable,tuples[3-i][3].disable,tuples[0][2].lock,tuples[0][3].lock);}
list.add(tuple[3].fire);deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?undefined:this,arguments);return this;};deferred[tuple[0]+"With"]=list.fireWith;});promise.promise(deferred);if(func){func.call(deferred,deferred);}
return deferred;},when:function(singleValue){var
remaining=arguments.length,i=remaining,resolveContexts=Array(i),resolveValues=slice.call(arguments),master=jQuery.Deferred(),updateFunc=function(i){return function(value){resolveContexts[i]=this;resolveValues[i]=arguments.length>1?slice.call(arguments):value;if(!(--remaining)){master.resolveWith(resolveContexts,resolveValues);}};};if(remaining<=1){adoptValue(singleValue,master.done(updateFunc(i)).resolve,master.reject,!remaining);if(master.state()==="pending"||isFunction(resolveValues[i]&&resolveValues[i].then)){return master.then();}}
while(i--){adoptValue(resolveValues[i],updateFunc(i),master.reject);}
return master.promise();}});var rerrorNames=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(error,stack){if(window.console&&window.console.warn&&error&&rerrorNames.test(error.name)){window.console.warn("jQuery.Deferred exception: "+error.message,error.stack,stack);}};jQuery.readyException=function(error){window.setTimeout(function(){throw error;});};var readyList=jQuery.Deferred();jQuery.fn.ready=function(fn){readyList.then(fn).catch(function(error){jQuery.readyException(error);});return this;};jQuery.extend({isReady:false,readyWait:1,ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return;}
jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}
readyList.resolveWith(document,[jQuery]);}});jQuery.ready.then=readyList.then;function completed(){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed);jQuery.ready();}
if(document.readyState==="complete"||(document.readyState!=="loading"&&!document.documentElement.doScroll)){window.setTimeout(jQuery.ready);}else{document.addEventListener("DOMContentLoaded",completed);window.addEventListener("load",completed);}
var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(toType(key)==="object"){chainable=true;for(i in key){access(elems,fn,i,key[i],true,emptyGet,raw);}}else if(value!==undefined){chainable=true;if(!isFunction(value)){raw=true;}
if(bulk){if(raw){fn.call(elems,value);fn=null;}else{bulk=fn;fn=function(elem,_key,value){return bulk.call(jQuery(elem),value);};}}
if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));}}}
if(chainable){return elems;}
if(bulk){return fn.call(elems);}
return len?fn(elems[0],key):emptyGet;};var rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g;function fcamelCase(_all,letter){return letter.toUpperCase();}
function camelCase(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);}
var acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!(+owner.nodeType);};function Data(){this.expando=jQuery.expando+Data.uid++;}
Data.uid=1;Data.prototype={cache:function(owner){var value=owner[this.expando];if(!value){value={};if(acceptData(owner)){if(owner.nodeType){owner[this.expando]=value;}else{Object.defineProperty(owner,this.expando,{value:value,configurable:true});}}}
return value;},set:function(owner,data,value){var prop,cache=this.cache(owner);if(typeof data==="string"){cache[camelCase(data)]=value;}else{for(prop in data){cache[camelCase(prop)]=data[prop];}}
return cache;},get:function(owner,key){return key===undefined?this.cache(owner):owner[this.expando]&&owner[this.expando][camelCase(key)];},access:function(owner,key,value){if(key===undefined||((key&&typeof key==="string")&&value===undefined)){return this.get(owner,key);}
this.set(owner,key,value);return value!==undefined?value:key;},remove:function(owner,key){var i,cache=owner[this.expando];if(cache===undefined){return;}
if(key!==undefined){if(Array.isArray(key)){key=key.map(camelCase);}else{key=camelCase(key);key=key in cache?[key]:(key.match(rnothtmlwhite)||[]);}
i=key.length;while(i--){delete cache[key[i]];}}
if(key===undefined||jQuery.isEmptyObject(cache)){if(owner.nodeType){owner[this.expando]=undefined;}else{delete owner[this.expando];}}},hasData:function(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache);}};var dataPriv=new Data();var dataUser=new Data();var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function getData(data){if(data==="true"){return true;}
if(data==="false"){return false;}
if(data==="null"){return null;}
if(data===+data+""){return+data;}
if(rbrace.test(data)){return JSON.parse(data);}
return data;}
function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$&").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=getData(data);}catch(e){}
dataUser.set(elem,key,data);}else{data=undefined;}}
return data;}
jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem);},data:function(elem,name,data){return dataUser.access(elem,name,data);},removeData:function(elem,name){dataUser.remove(elem,name);},_data:function(elem,name,data){return dataPriv.access(elem,name,data);},_removeData:function(elem,name){dataPriv.remove(elem,name);}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=dataUser.get(elem);if(elem.nodeType===1&&!dataPriv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=camelCase(name.slice(5));dataAttr(elem,name,data[name]);}}}
dataPriv.set(elem,"hasDataAttrs",true);}}
return data;}
if(typeof key==="object"){return this.each(function(){dataUser.set(this,key);});}
return access(this,function(value){var data;if(elem&&value===undefined){data=dataUser.get(elem,key);if(data!==undefined){return data;}
data=dataAttr(elem,key);if(data!==undefined){return data;}
return;}
this.each(function(){dataUser.set(this,key,value);});},null,value,arguments.length>1,null,true);},removeData:function(key){return this.each(function(){dataUser.remove(this,key);});}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=dataPriv.get(elem,type);if(data){if(!queue||Array.isArray(data)){queue=dataPriv.access(elem,type,jQuery.makeArray(data));}else{queue.push(data);}}
return queue||[];}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type);};if(fn==="inprogress"){fn=queue.shift();startLength--;}
if(fn){if(type==="fx"){queue.unshift("inprogress");}
delete hooks.stop;fn.call(elem,next,hooks);}
if(!startLength&&hooks){hooks.empty.fire();}},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key]);})});}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}
if(arguments.length<setter){return jQuery.queue(this[0],type);}
return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements]);}};if(typeof type!=="string"){obj=type;type=undefined;}
type=type||"fx";while(i--){tmp=dataPriv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve);}}
resolve();return defer.promise(obj);}});var pnum=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i");var cssExpand=["Top","Right","Bottom","Left"];var documentElement=document.documentElement;var isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem);},composed={composed:true};if(documentElement.getRootNode){isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)||elem.getRootNode(composed)===elem.ownerDocument;};}
var isHiddenWithinTree=function(elem,el){elem=el||elem;return elem.style.display==="none"||elem.style.display===""&&isAttached(elem)&&jQuery.css(elem,"display")==="none";};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale,maxIterations=20,currentValue=tween?function(){return tween.cur();}:function(){return jQuery.css(elem,prop,"");},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=elem.nodeType&&(jQuery.cssNumber[prop]||unit!=="px"&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){initial=initial/2;unit=unit||initialInUnit[3];initialInUnit=+initial||1;while(maxIterations--){jQuery.style(elem,prop,initialInUnit+unit);if((1-scale)*(1-(scale=currentValue()/initial||0.5))<=0){maxIterations=0;}
initialInUnit=initialInUnit/scale;}
initialInUnit=initialInUnit*2;jQuery.style(elem,prop,initialInUnit+unit);valueParts=valueParts||[];}
if(valueParts){initialInUnit=+initialInUnit||+initial||0;adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2];if(tween){tween.unit=unit;tween.start=initialInUnit;tween.end=adjusted;}}
return adjusted;}
var defaultDisplayMap={};function getDefaultDisplay(elem){var temp,doc=elem.ownerDocument,nodeName=elem.nodeName,display=defaultDisplayMap[nodeName];if(display){return display;}
temp=doc.body.appendChild(doc.createElement(nodeName));display=jQuery.css(temp,"display");temp.parentNode.removeChild(temp);if(display==="none"){display="block";}
defaultDisplayMap[nodeName]=display;return display;}
function showHide(elements,show){var display,elem,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue;}
display=elem.style.display;if(show){if(display==="none"){values[index]=dataPriv.get(elem,"display")||null;if(!values[index]){elem.style.display="";}}
if(elem.style.display===""&&isHiddenWithinTree(elem)){values[index]=getDefaultDisplay(elem);}}else{if(display!=="none"){values[index]="none";dataPriv.set(elem,"display",display);}}}
for(index=0;index<length;index++){if(values[index]!=null){elements[index].style.display=values[index];}}
return elements;}
jQuery.fn.extend({show:function(){return showHide(this,true);},hide:function(){return showHide(this);},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide();}
return this.each(function(){if(isHiddenWithinTree(this)){jQuery(this).show();}else{jQuery(this).hide();}});}});var rcheckableType=(/^(?:checkbox|radio)$/i);var rtagName=(/<([a-z][^\/\0>\x20\t\r\n\f]*)/i);var rscriptType=(/^$|^module$|\/(?:java|ecma)script/i);(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue;div.innerHTML="<option></option>";support.option=!!div.lastChild;})();var wrapMap={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!support.option){wrapMap.optgroup=wrapMap.option=[1,"<select multiple='multiple'>","</select>"];}
function getAll(context,tag){var ret;if(typeof context.getElementsByTagName!=="undefined"){ret=context.getElementsByTagName(tag||"*");}else if(typeof context.querySelectorAll!=="undefined"){ret=context.querySelectorAll(tag||"*");}else{ret=[];}
if(tag===undefined||tag&&nodeName(context,tag)){return jQuery.merge([context],ret);}
return ret;}
function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"));}}
var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,attached,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(toType(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem);}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem));}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild;}
jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent="";}}}
fragment.textContent="";i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)>-1){if(ignored){ignored.push(elem);}
continue;}
attached=isAttached(elem);tmp=getAll(fragment.appendChild(elem),"script");if(attached){setGlobalEval(tmp);}
if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem);}}}}
return fragment;}
var
rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return true;}
function returnFalse(){return false;}
function expectSync(elem,type){return(elem===safeActiveElement())===(type==="focus");}
function safeActiveElement(){try{return document.activeElement;}catch(err){}}
function on(elem,types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined;}
for(type in types){on(elem,type,selector,data,types[type],one);}
return elem;}
if(data==null&&fn==null){fn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}
if(fn===false){fn=returnFalse;}else if(!fn){return elem;}
if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}
return elem.each(function(){jQuery.event.add(this,types,fn,data,selector);});}
jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(!acceptData(elem)){return;}
if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}
if(selector){jQuery.find.matchesSelector(documentElement,selector);}
if(!handler.guid){handler.guid=jQuery.guid++;}
if(!(events=elemData.events)){events=elemData.events=Object.create(null);}
if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!=="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined;};}
types=(types||"").match(rnothtmlwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle);}}}
if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}
if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}
jQuery.event.global[type]=true;}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events)){return;}
types=(types||"").match(rnothtmlwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}
continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--;}
if(special.remove){special.remove.call(elem,handleObj);}}}
if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);}
delete events[type];}}
if(jQuery.isEmptyObject(events)){dataPriv.remove(elem,"handle events");}},dispatch:function(nativeEvent){var i,j,ret,matched,handleObj,handlerQueue,args=new Array(arguments.length),event=jQuery.event.fix(nativeEvent),handlers=(dataPriv.get(this,"events")||Object.create(null))[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;for(i=1;i<arguments.length;i++){args[i]=arguments[i];}
event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}
handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.rnamespace||handleObj.namespace===false||event.rnamespace.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation();}}}}}
if(special.postDispatch){special.postDispatch.call(this,event);}
return event.result;},handlers:function(event,handlers){var i,handleObj,sel,matchedHandlers,matchedSelectors,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&!(event.type==="click"&&event.button>=1)){for(;cur!==this;cur=cur.parentNode||this){if(cur.nodeType===1&&!(event.type==="click"&&cur.disabled===true)){matchedHandlers=[];matchedSelectors={};for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matchedSelectors[sel]===undefined){matchedSelectors[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length;}
if(matchedSelectors[sel]){matchedHandlers.push(handleObj);}}
if(matchedHandlers.length){handlerQueue.push({elem:cur,handlers:matchedHandlers});}}}}
cur=this;if(delegateCount<handlers.length){handlerQueue.push({elem:cur,handlers:handlers.slice(delegateCount)});}
return handlerQueue;},addProp:function(name,hook){Object.defineProperty(jQuery.Event.prototype,name,{enumerable:true,configurable:true,get:isFunction(hook)?function(){if(this.originalEvent){return hook(this.originalEvent);}}:function(){if(this.originalEvent){return this.originalEvent[name];}},set:function(value){Object.defineProperty(this,name,{enumerable:true,configurable:true,writable:true,value:value});}});},fix:function(originalEvent){return originalEvent[jQuery.expando]?originalEvent:new jQuery.Event(originalEvent);},special:{load:{noBubble:true},click:{setup:function(data){var el=this||data;if(rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")){leverageNative(el,"click",returnTrue);}
return false;},trigger:function(data){var el=this||data;if(rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")){leverageNative(el,"click");}
return true;},_default:function(event){var target=event.target;return rcheckableType.test(target.type)&&target.click&&nodeName(target,"input")&&dataPriv.get(target,"click")||nodeName(target,"a");}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result;}}}}};function leverageNative(el,type,expectSync){if(!expectSync){if(dataPriv.get(el,type)===undefined){jQuery.event.add(el,type,returnTrue);}
return;}
dataPriv.set(el,type,false);jQuery.event.add(el,type,{namespace:false,handler:function(event){var notAsync,result,saved=dataPriv.get(this,type);if((event.isTrigger&1)&&this[type]){if(!saved.length){saved=slice.call(arguments);dataPriv.set(this,type,saved);notAsync=expectSync(this,type);this[type]();result=dataPriv.get(this,type);if(saved!==result||notAsync){dataPriv.set(this,type,false);}else{result={};}
if(saved!==result){event.stopImmediatePropagation();event.preventDefault();return result.value;}}else if((jQuery.event.special[type]||{}).delegateType){event.stopPropagation();}}else if(saved.length){dataPriv.set(this,type,{value:jQuery.event.trigger(jQuery.extend(saved[0],jQuery.Event.prototype),saved.slice(1),this)});event.stopImmediatePropagation();}}});}
jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}
if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse;this.target=(src.target&&src.target.nodeType===3)?src.target.parentNode:src.target;this.currentTarget=src.currentTarget;this.relatedTarget=src.relatedTarget;}else{this.type=src;}
if(props){jQuery.extend(this,props);}
this.timeStamp=src&&src.timeStamp||Date.now();this[jQuery.expando]=true;};jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&!this.isSimulated){e.preventDefault();}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopPropagation();}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopImmediatePropagation();}
this.stopPropagation();}};jQuery.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,"char":true,code:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(event){var button=event.button;if(event.which==null&&rkeyEvent.test(event.type)){return event.charCode!=null?event.charCode:event.keyCode;}
if(!event.which&&button!==undefined&&rmouseEvent.test(event.type)){if(button&1){return 1;}
if(button&2){return 3;}
if(button&4){return 2;}
return 0;}
return event.which;}},jQuery.event.addProp);jQuery.each({focus:"focusin",blur:"focusout"},function(type,delegateType){jQuery.event.special[type]={setup:function(){leverageNative(this,type,expectSync);return false;},trigger:function(){leverageNative(this,type);return true;},delegateType:delegateType};});jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}
return ret;}};});jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn);},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1);},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}
if(typeof types==="object"){for(type in types){this.off(type,selector,types[type]);}
return this;}
if(selector===false||typeof selector==="function"){fn=selector;selector=undefined;}
if(fn===false){fn=returnFalse;}
return this.each(function(){jQuery.event.remove(this,types,fn,selector);});}});var
rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){if(nodeName(elem,"table")&&nodeName(content.nodeType!==11?content:content.firstChild,"tr")){return jQuery(elem).children("tbody")[0]||elem;}
return elem;}
function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem;}
function restoreScript(elem){if((elem.type||"").slice(0,5)==="true/"){elem.type=elem.type.slice(5);}else{elem.removeAttribute("type");}
return elem;}
function cloneCopyEvent(src,dest){var i,l,type,pdataOld,udataOld,udataCur,events;if(dest.nodeType!==1){return;}
if(dataPriv.hasData(src)){pdataOld=dataPriv.get(src);events=pdataOld.events;if(events){dataPriv.remove(dest,"handle events");for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}}
if(dataUser.hasData(src)){udataOld=dataUser.access(src);udataCur=jQuery.extend({},udataOld);dataUser.set(dest,udataCur);}}
function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked;}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}}
function domManip(collection,args,callback,ignored){args=flat(args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],valueIsFunction=isFunction(value);if(valueIsFunction||(l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value))){return collection.each(function(index){var self=collection.eq(index);if(valueIsFunction){args[0]=value.call(this,index,self.html());}
domManip(self,args,callback,ignored);});}
if(l){fragment=buildFragment(args,collection[0].ownerDocument,false,collection,ignored);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first;}
if(first||ignored){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"));}}
callback.call(collection[i],node,i);}
if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src&&(node.type||"").toLowerCase()!=="module"){if(jQuery._evalUrl&&!node.noModule){jQuery._evalUrl(node.src,{nonce:node.nonce||node.getAttribute("nonce")},doc);}}else{DOMEval(node.textContent.replace(rcleanScript,""),node,doc);}}}}}}
return collection;}
function remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;(node=nodes[i])!=null;i++){if(!keepData&&node.nodeType===1){jQuery.cleanData(getAll(node));}
if(node.parentNode){if(keepData&&isAttached(node)){setGlobalEval(getAll(node,"script"));}
node.parentNode.removeChild(node);}}
return elem;}
jQuery.extend({htmlPrefilter:function(html){return html;},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=isAttached(elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i]);}}
if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i]);}}else{cloneCopyEvent(elem,clone);}}
destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"));}
return clone;},cleanData:function(elems){var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(acceptData(elem)){if((data=elem[dataPriv.expando])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}}
elem[dataPriv.expando]=undefined;}
if(elem[dataUser.expando]){elem[dataUser.expando]=undefined;}}}}});jQuery.fn.extend({detach:function(selector){return remove(this,selector,true);},remove:function(selector){return remove(this,selector);},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value;}});},null,value,arguments.length);},append:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem);}});},prepend:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild);}});},before:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this);}});},after:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling);}});},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent="";}}
return this;},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML;}
if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value;}}
elem=0;}catch(e){}}
if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;if(jQuery.inArray(this,ignored)<0){jQuery.cleanData(getAll(this));if(parent){parent.replaceChild(elem,this);}}},ignored);}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get());}
return this.pushStack(ret);};});var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){var view=elem.ownerDocument.defaultView;if(!view||!view.opener){view=window;}
return view.getComputedStyle(elem);};var swap=function(elem,options,callback){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}
ret=callback.call(elem);for(name in options){elem.style[name]=old[name];}
return ret;};var rboxStyle=new RegExp(cssExpand.join("|"),"i");(function(){function computeStyleTests(){if(!div){return;}
container.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";div.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";documentElement.appendChild(container).appendChild(div);var divStyle=window.getComputedStyle(div);pixelPositionVal=divStyle.top!=="1%";reliableMarginLeftVal=roundPixelMeasures(divStyle.marginLeft)===12;div.style.right="60%";pixelBoxStylesVal=roundPixelMeasures(divStyle.right)===36;boxSizingReliableVal=roundPixelMeasures(divStyle.width)===36;div.style.position="absolute";scrollboxSizeVal=roundPixelMeasures(div.offsetWidth/3)===12;documentElement.removeChild(container);div=null;}
function roundPixelMeasures(measure){return Math.round(parseFloat(measure));}
var pixelPositionVal,boxSizingReliableVal,scrollboxSizeVal,pixelBoxStylesVal,reliableTrDimensionsVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return;}
div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";jQuery.extend(support,{boxSizingReliable:function(){computeStyleTests();return boxSizingReliableVal;},pixelBoxStyles:function(){computeStyleTests();return pixelBoxStylesVal;},pixelPosition:function(){computeStyleTests();return pixelPositionVal;},reliableMarginLeft:function(){computeStyleTests();return reliableMarginLeftVal;},scrollboxSize:function(){computeStyleTests();return scrollboxSizeVal;},reliableTrDimensions:function(){var table,tr,trChild,trStyle;if(reliableTrDimensionsVal==null){table=document.createElement("table");tr=document.createElement("tr");trChild=document.createElement("div");table.style.cssText="position:absolute;left:-11111px";tr.style.height="1px";trChild.style.height="9px";documentElement.appendChild(table).appendChild(tr).appendChild(trChild);trStyle=window.getComputedStyle(tr);reliableTrDimensionsVal=parseInt(trStyle.height)>3;documentElement.removeChild(table);}
return reliableTrDimensionsVal;}});})();function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);if(computed){ret=computed.getPropertyValue(name)||computed[name];if(ret===""&&!isAttached(elem)){ret=jQuery.style(elem,name);}
if(!support.pixelBoxStyles()&&rnumnonpx.test(ret)&&rboxStyle.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth;}}
return ret!==undefined?ret+"":ret;}
function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return;}
return(this.get=hookFn).apply(this,arguments);}};}
var cssPrefixes=["Webkit","Moz","ms"],emptyStyle=document.createElement("div").style,vendorProps={};function vendorPropName(name){var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle){return name;}}}
function finalPropName(name){var final=jQuery.cssProps[name]||vendorProps[name];if(final){return final;}
if(name in emptyStyle){return name;}
return vendorProps[name]=vendorPropName(name)||name;}
var
rdisplayswap=/^(none|table(?!-c[ea]).+)/,rcustomProp=/^--/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(_elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value;}
function boxModelAdjustment(elem,dimension,box,isBorderBox,styles,computedVal){var i=dimension==="width"?1:0,extra=0,delta=0;if(box===(isBorderBox?"border":"content")){return 0;}
for(;i<4;i+=2){if(box==="margin"){delta+=jQuery.css(elem,box+cssExpand[i],true,styles);}
if(!isBorderBox){delta+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(box!=="padding"){delta+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}else{extra+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}else{if(box==="content"){delta-=jQuery.css(elem,"padding"+cssExpand[i],true,styles);}
if(box!=="margin"){delta-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}}
if(!isBorderBox&&computedVal>=0){delta+=Math.max(0,Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-
computedVal-
delta-
extra-
0.5))||0;}
return delta;}
function getWidthOrHeight(elem,dimension,extra){var styles=getStyles(elem),boxSizingNeeded=!support.boxSizingReliable()||extra,isBorderBox=boxSizingNeeded&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",valueIsBorderBox=isBorderBox,val=curCSS(elem,dimension,styles),offsetProp="offset"+dimension[0].toUpperCase()+dimension.slice(1);if(rnumnonpx.test(val)){if(!extra){return val;}
val="auto";}
if((!support.boxSizingReliable()&&isBorderBox||!support.reliableTrDimensions()&&nodeName(elem,"tr")||val==="auto"||!parseFloat(val)&&jQuery.css(elem,"display",false,styles)==="inline")&&elem.getClientRects().length){isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";valueIsBorderBox=offsetProp in elem;if(valueIsBorderBox){val=elem[offsetProp];}}
val=parseFloat(val)||0;return(val+
boxModelAdjustment(elem,dimension,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles,val))+"px";}
jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret;}}}},cssNumber:{"animationIterationCount":true,"columnCount":true,"fillOpacity":true,"flexGrow":true,"flexShrink":true,"fontWeight":true,"gridArea":true,"gridColumn":true,"gridColumnEnd":true,"gridColumnStart":true,"gridRow":true,"gridRowEnd":true,"gridRowStart":true,"lineHeight":true,"opacity":true,"order":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}
var ret,type,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name),style=elem.style;if(!isCustomProp){name=finalPropName(origName);}
hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rcssNum.exec(value))&&ret[1]){value=adjustCSS(elem,name,ret);type="number";}
if(value==null||value!==value){return;}
if(type==="number"&&!isCustomProp){value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px");}
if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit";}
if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){if(isCustomProp){style.setProperty(name,value);}else{style[name]=value;}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}
return style[name];}},css:function(elem,name,extra,styles){var val,num,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name);if(!isCustomProp){name=finalPropName(origName);}
hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra);}
if(val===undefined){val=curCSS(elem,name,styles);}
if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];}
if(extra===""||extra){num=parseFloat(val);return extra===true||isFinite(num)?num||0:val;}
return val;}});jQuery.each(["height","width"],function(_i,dimension){jQuery.cssHooks[dimension]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&(!elem.getClientRects().length||!elem.getBoundingClientRect().width)?swap(elem,cssShow,function(){return getWidthOrHeight(elem,dimension,extra);}):getWidthOrHeight(elem,dimension,extra);}},set:function(elem,value,extra){var matches,styles=getStyles(elem),scrollboxSizeBuggy=!support.scrollboxSize()&&styles.position==="absolute",boxSizingNeeded=scrollboxSizeBuggy||extra,isBorderBox=boxSizingNeeded&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",subtract=extra?boxModelAdjustment(elem,dimension,extra,isBorderBox,styles):0;if(isBorderBox&&scrollboxSizeBuggy){subtract-=Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-
parseFloat(styles[dimension])-
boxModelAdjustment(elem,dimension,"border",false,styles)-
0.5);}
if(subtract&&(matches=rcssNum.exec(value))&&(matches[3]||"px")!=="px"){elem.style[dimension]=value;value=jQuery.css(elem,dimension);}
return setPositiveNumber(elem,value,subtract);}};});jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed){return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-
swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left;}))+"px";}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}
return expanded;}};if(prefix!=="margin"){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(Array.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles);}
return map;}
return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);}
jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||jQuery.easing._default;this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px");},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);}else{this.pos=eased=percent;}
this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}
if(hooks&&hooks.set){hooks.set(this);}else{Tween.propHooks._default.set(this);}
return this;}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem.nodeType!==1||tween.elem[tween.prop]!=null&&tween.elem.style[tween.prop]==null){return tween.elem[tween.prop];}
result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result;},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);}else if(tween.elem.nodeType===1&&(jQuery.cssHooks[tween.prop]||tween.elem.style[finalPropName(tween.prop)]!=null)){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);}else{tween.elem[tween.prop]=tween.now;}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;}}};jQuery.easing={linear:function(p){return p;},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2;},_default:"swing"};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var
fxNow,inProgress,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function schedule(){if(inProgress){if(document.hidden===false&&window.requestAnimationFrame){window.requestAnimationFrame(schedule);}else{window.setTimeout(schedule,jQuery.fx.interval);}
jQuery.fx.tick();}}
function createFxNow(){window.setTimeout(function(){fxNow=undefined;});return(fxNow=Date.now());}
function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type;}
if(includeWidth){attrs.opacity=attrs.width=type;}
return attrs;}
function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if((tween=collection[index].call(animation,prop,value))){return tween;}}}
function defaultPrefilter(elem,props,opts){var prop,value,toggle,hooks,oldfire,propTween,restoreDisplay,display,isBox="width"in props||"height"in props,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHiddenWithinTree(elem),dataShow=dataPriv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();}};}
hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();}});});}
for(prop in props){value=props[prop];if(rfxtypes.test(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true;}else{continue;}}
orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop);}}
propTween=!jQuery.isEmptyObject(props);if(!propTween&&jQuery.isEmptyObject(orig)){return;}
if(isBox&&elem.nodeType===1){opts.overflow=[style.overflow,style.overflowX,style.overflowY];restoreDisplay=dataShow&&dataShow.display;if(restoreDisplay==null){restoreDisplay=dataPriv.get(elem,"display");}
display=jQuery.css(elem,"display");if(display==="none"){if(restoreDisplay){display=restoreDisplay;}else{showHide([elem],true);restoreDisplay=elem.style.display||restoreDisplay;display=jQuery.css(elem,"display");showHide([elem]);}}
if(display==="inline"||display==="inline-block"&&restoreDisplay!=null){if(jQuery.css(elem,"float")==="none"){if(!propTween){anim.done(function(){style.display=restoreDisplay;});if(restoreDisplay==null){display=style.display;restoreDisplay=display==="none"?"":display;}}
style.display="inline-block";}}}
if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2];});}
propTween=false;for(prop in orig){if(!propTween){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden;}}else{dataShow=dataPriv.access(elem,"fxshow",{display:restoreDisplay});}
if(toggle){dataShow.hidden=!hidden;}
if(hidden){showHide([elem],true);}
anim.done(function(){if(!hidden){showHide([elem]);}
dataPriv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop]);}});}
propTween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=propTween.start;if(hidden){propTween.end=propTween.start;propTween.start=0;}}}}
function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=camelCase(index);easing=specialEasing[name];value=props[index];if(Array.isArray(value)){easing=value[1];value=props[index]=value[0];}
if(index!==name){props[name]=value;delete props[index];}
hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing;}}}else{specialEasing[name]=easing;}}}
function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem;}),tick=function(){if(stopped){return false;}
var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent);}
deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining;}
if(!length){deferred.notifyWith(elem,[animation,1,0]);}
deferred.resolveWith(elem,[animation]);return false;},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween;},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this;}
stopped=true;for(;index<length;index++){animation.tweens[index].run(1);}
if(gotoEnd){deferred.notifyWith(elem,[animation,1,0]);deferred.resolveWith(elem,[animation,gotoEnd]);}else{deferred.rejectWith(elem,[animation,gotoEnd]);}
return this;}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result){if(isFunction(result.stop)){jQuery._queueHooks(animation.elem,animation.opts.queue).stop=result.stop.bind(result);}
return result;}}
jQuery.map(props,createTween,animation);if(isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);}
animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation;}
jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);adjustCSS(tween.elem,prop,rcssNum.exec(value),tween);return tween;}]},tweener:function(props,callback){if(isFunction(props)){callback=props;props=["*"];}else{props=props.match(rnothtmlwhite);}
var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];Animation.tweeners[prop]=Animation.tweeners[prop]||[];Animation.tweeners[prop].unshift(callback);}},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){if(prepend){Animation.prefilters.unshift(callback);}else{Animation.prefilters.push(callback);}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!isFunction(easing)&&easing};if(jQuery.fx.off){opt.duration=0;}else{if(typeof opt.duration!=="number"){if(opt.duration in jQuery.fx.speeds){opt.duration=jQuery.fx.speeds[opt.duration];}else{opt.duration=jQuery.fx.speeds._default;}}}
if(opt.queue==null||opt.queue===true){opt.queue="fx";}
opt.old=opt.complete;opt.complete=function(){if(isFunction(opt.old)){opt.old.call(this);}
if(opt.queue){jQuery.dequeue(this,opt.queue);}};return opt;};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback);},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||dataPriv.get(this,"finish")){anim.stop(true);}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd);};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}
if(clearQueue){this.queue(type||"fx",[]);}
return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);}}}
for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1);}}
if(dequeue||!gotoEnd){jQuery.dequeue(this,type);}});},finish:function(type){if(type!==false){type=type||"fx";}
return this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true);}
for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1);}}
for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this);}}
delete data.finish;});}});jQuery.each(["toggle","show","hide"],function(_i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);};});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=Date.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}
if(!timers.length){jQuery.fx.stop();}
fxNow=undefined;};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);jQuery.fx.start();};jQuery.fx.interval=13;jQuery.fx.start=function(){if(inProgress){return;}
inProgress=true;schedule();};jQuery.fx.stop=function(){inProgress=null;};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout);};});};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t";})();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);});}});jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return;}
if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value);}
if(nType!==1||!jQuery.isXMLDoc(elem)){hooks=jQuery.attrHooks[name.toLowerCase()]||(jQuery.expr.match.bool.test(name)?boolHook:undefined);}
if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return;}
if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}
elem.setAttribute(name,value+"");return value;}
if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}
ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret;},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}
return value;}}}},removeAttr:function(elem,value){var name,i=0,attrNames=value&&value.match(rnothtmlwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){elem.removeAttribute(name);}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name);}else{elem.setAttribute(name,name);}
return name;}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(_i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle,lowercaseName=name.toLowerCase();if(!isXML){handle=attrHandle[lowercaseName];attrHandle[lowercaseName]=ret;ret=getter(elem,name,isXML)!=null?lowercaseName:null;attrHandle[lowercaseName]=handle;}
return ret;};});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name];});}});jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return;}
if(nType!==1||!jQuery.isXMLDoc(elem)){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}
if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}
return(elem[name]=value);}
if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}
return elem[name];},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");if(tabindex){return parseInt(tabindex,10);}
if(rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href){return 0;}
return-1;}}},propFix:{"for":"htmlFor","class":"className"}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex;}
return null;},set:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}}};}
jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this;});function stripAndCollapse(value){var tokens=value.match(rnothtmlwhite)||[];return tokens.join(" ");}
function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||"";}
function classesToArray(value){if(Array.isArray(value)){return value;}
if(typeof value==="string"){return value.match(rnothtmlwhite)||[];}
return[];}
jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)));});}
classes=classesToArray(value);if(classes.length){while((elem=this[i++])){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+stripAndCollapse(curValue)+" ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" ";}}
finalValue=stripAndCollapse(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue);}}}}
return this;},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)));});}
if(!arguments.length){return this.attr("class","");}
classes=classesToArray(value);if(classes.length){while((elem=this[i++])){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+stripAndCollapse(curValue)+" ");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>-1){cur=cur.replace(" "+clazz+" "," ");}}
finalValue=stripAndCollapse(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue);}}}}
return this;},toggleClass:function(value,stateVal){var type=typeof value,isValidValue=type==="string"||Array.isArray(value);if(typeof stateVal==="boolean"&&isValidValue){return stateVal?this.addClass(value):this.removeClass(value);}
if(isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal);});}
return this.each(function(){var className,i,self,classNames;if(isValidValue){i=0;self=jQuery(this);classNames=classesToArray(value);while((className=classNames[i++])){if(self.hasClass(className)){self.removeClass(className);}else{self.addClass(className);}}}else if(value===undefined||type==="boolean"){className=getClass(this);if(className){dataPriv.set(this,"__className__",className);}
if(this.setAttribute){this.setAttribute("class",className||value===false?"":dataPriv.get(this,"__className__")||"");}}});},hasClass:function(selector){var className,elem,i=0;className=" "+selector+" ";while((elem=this[i++])){if(elem.nodeType===1&&(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className)>-1){return true;}}
return false;}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,valueIsFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}
ret=elem.value;if(typeof ret==="string"){return ret.replace(rreturn,"");}
return ret==null?"":ret;}
return;}
valueIsFunction=isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return;}
if(valueIsFunction){val=value.call(this,i,jQuery(this).val());}else{val=value;}
if(val==null){val="";}else if(typeof val==="number"){val+="";}else if(Array.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}
hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:stripAndCollapse(jQuery.text(elem));}},select:{get:function(elem){var value,option,i,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one",values=one?null:[],max=one?index+1:options.length;if(index<0){i=max;}else{i=one?index:0;}
for(;i<max;i++){option=options[i];if((option.selected||i===index)&&!option.disabled&&(!option.parentNode.disabled||!nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value;}
values.push(value);}}
return values;},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1){optionSet=true;}}
if(!optionSet){elem.selectedIndex=-1;}
return values;}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(Array.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1);}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value;};}});support.focusin="onfocusin"in window;var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(e){e.stopPropagation();};jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,lastElement,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=lastElement=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return;}
if(rfocusMorph.test(type+jQuery.event.triggered)){return;}
if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();namespaces.sort();}
ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem;}
data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return;}
if(!onlyHandlers&&!special.noBubble&&!isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode;}
for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur;}
if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window);}}
i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){lastElement=cur;event.type=i>1?bubbleType:special.bindType||type;handle=(dataPriv.get(cur,"events")||Object.create(null))[event.type]&&dataPriv.get(cur,"handle");if(handle){handle.apply(cur,data);}
handle=ontype&&cur[ontype];if(handle&&handle.apply&&acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault();}}}
event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&acceptData(elem)){if(ontype&&isFunction(elem[type])&&!isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null;}
jQuery.event.triggered=type;if(event.isPropagationStopped()){lastElement.addEventListener(type,stopPropagationCallback);}
elem[type]();if(event.isPropagationStopped()){lastElement.removeEventListener(type,stopPropagationCallback);}
jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp;}}}}
return event.result;},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true});jQuery.event.trigger(e,null,elem);}});jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true);}}});if(!support.focusin){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event));};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true);}
dataPriv.access(doc,fix,(attaches||0)+1);},teardown:function(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);dataPriv.remove(doc,fix);}else{dataPriv.access(doc,fix,attaches);}}};});}
var location=window.location;var nonce={guid:Date.now()};var rquery=(/\?/);jQuery.parseXML=function(data){var xml;if(!data||typeof data!=="string"){return null;}
try{xml=(new window.DOMParser()).parseFromString(data,"text/xml");}catch(e){xml=undefined;}
if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}
return xml;};var
rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(Array.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+"["+(typeof v==="object"&&v!=null?i:"")+"]",v,traditional,add);}});}else if(!traditional&&toType(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{add(prefix,obj);}}
jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,valueOrFunction){var value=isFunction(valueOrFunction)?valueOrFunction():valueOrFunction;s[s.length]=encodeURIComponent(key)+"="+
encodeURIComponent(value==null?"":value);};if(a==null){return"";}
if(Array.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);});}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add);}}
return s.join("&");};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this;}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type));}).map(function(_i,elem){var val=jQuery(this).val();if(val==null){return null;}
if(Array.isArray(val)){return jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};});}
return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});var
r20=/%20/g,rhash=/#.*$/,rantiCache=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href;function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}
var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnothtmlwhite)||[];if(isFunction(func)){while((dataType=dataTypes[i++])){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func);}else{(structure[dataType]=structure[dataType]||[]).push(func);}}}};}
function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false;}else if(seekingTransport){return!(selected=dataTypeOrTransport);}});return selected;}
return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*");}
function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];}}
if(deep){jQuery.extend(true,target,deep);}
return target;}
function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type");}}
if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}
if(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}
if(!firstDataType){firstDataType=type;}}
finalDataType=finalDataType||firstDataType;}
if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}
return responses[finalDataType];}}
function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];}}
current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response;}
if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType);}
prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev;}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2];}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1]);}
break;}}}}
if(conv!==true){if(conv&&s.throws){response=conv(response);}else{try{response=conv(response);}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};}}}}}}
return{state:"success",data:response};}
jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target);},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined;}
options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,completed,fireGlobals,i,uncached,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(completed){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()+" "]=(responseHeaders[match[1].toLowerCase()+" "]||[]).concat(match[2]);}}
match=responseHeaders[key.toLowerCase()+" "];}
return match==null?null:match.join(", ");},getAllResponseHeaders:function(){return completed?responseHeadersString:null;},setRequestHeader:function(name,value){if(completed==null){name=requestHeadersNames[name.toLowerCase()]=requestHeadersNames[name.toLowerCase()]||name;requestHeaders[name]=value;}
return this;},overrideMimeType:function(type){if(completed==null){s.mimeType=type;}
return this;},statusCode:function(map){var code;if(map){if(completed){jqXHR.always(map[jqXHR.status]);}else{for(code in map){statusCode[code]=[statusCode[code],map[code]];}}}
return this;},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText);}
done(0,finalText);return this;}};deferred.promise(jqXHR);s.url=((url||s.url||location.href)+"").replace(rprotocol,location.protocol+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=(s.dataType||"*").toLowerCase().match(rnothtmlwhite)||[""];if(s.crossDomain==null){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url;urlAnchor.href=urlAnchor.href;s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!==urlAnchor.protocol+"//"+urlAnchor.host;}catch(e){s.crossDomain=true;}}
if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}
inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(completed){return jqXHR;}
fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}
s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url.replace(rhash,"");if(!s.hasContent){uncached=s.url.slice(cacheURL.length);if(s.data&&(s.processData||typeof s.data==="string")){cacheURL+=(rquery.test(cacheURL)?"&":"?")+s.data;delete s.data;}
if(s.cache===false){cacheURL=cacheURL.replace(rantiCache,"$1");uncached=(rquery.test(cacheURL)?"&":"?")+"_="+(nonce.guid++)+
uncached;}
s.url=cacheURL+uncached;}else if(s.data&&s.processData&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0){s.data=s.data.replace(r20,"+");}
if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]);}
if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL]);}}
if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}
jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+
(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}
if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||completed)){return jqXHR.abort();}
strAbort="abort";completeDeferred.add(s.complete);jqXHR.done(s.success);jqXHR.fail(s.error);transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}
if(completed){return jqXHR;}
if(s.async&&s.timeout>0){timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}
try{completed=false;transport.send(requestHeaders,done);}catch(e){if(completed){throw e;}
done(-1,e);}}
function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(completed){return;}
completed=true;if(timeoutTimer){window.clearTimeout(timeoutTimer);}
transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses);}
if(!isSuccess&&jQuery.inArray("script",s.dataTypes)>-1){s.converters["text script"]=function(){};}
response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified;}
modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified;}}
if(status===204||s.type==="HEAD"){statusText="nocontent";}else if(status===304){statusText="notmodified";}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error;}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0;}}}
jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}
jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]);}
completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");}}}
return jqXHR;},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");}});jQuery.each(["get","post"],function(_i,method){jQuery[method]=function(url,data,callback,type){if(isFunction(data)){type=type||callback;callback=data;data=undefined;}
return jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url));};});jQuery.ajaxPrefilter(function(s){var i;for(i in s.headers){if(i.toLowerCase()==="content-type"){s.contentType=s.headers[i]||"";}}});jQuery._evalUrl=function(url,options,doc){return jQuery.ajax({url:url,type:"GET",dataType:"script",cache:true,async:false,global:false,converters:{"text script":function(){}},dataFilter:function(response){jQuery.globalEval(response,options,doc);}});};jQuery.fn.extend({wrapAll:function(html){var wrap;if(this[0]){if(isFunction(html)){html=html.call(this[0]);}
wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}
wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild;}
return elem;}).append(this);}
return this;},wrapInner:function(html){if(isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}
return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var htmlIsFunction=isFunction(html);return this.each(function(i){jQuery(this).wrapAll(htmlIsFunction?html.call(this,i):html);});},unwrap:function(selector){this.parent(selector).not("body").each(function(){jQuery(this).replaceWith(this.childNodes);});return this;}});jQuery.expr.pseudos.hidden=function(elem){return!jQuery.expr.pseudos.visible(elem);};jQuery.expr.pseudos.visible=function(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length);};jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest();}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&("withCredentials"in xhrSupported);support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i];}}
if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType);}
if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}
for(i in headers){xhr.setRequestHeader(i,headers[i]);}
callback=function(type){return function(){if(callback){callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.ontimeout=xhr.onreadystatechange=null;if(type==="abort"){xhr.abort();}else if(type==="error"){if(typeof xhr.status!=="number"){complete(0,"error");}else{complete(xhr.status,xhr.statusText);}}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,(xhr.responseType||"text")!=="text"||typeof xhr.responseText!=="string"?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders());}}};};xhr.onload=callback();errorCallback=xhr.onerror=xhr.ontimeout=callback("error");if(xhr.onabort!==undefined){xhr.onabort=errorCallback;}else{xhr.onreadystatechange=function(){if(xhr.readyState===4){window.setTimeout(function(){if(callback){errorCallback();}});}};}
callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null);}catch(e){if(callback){throw e;}}},abort:function(){if(callback){callback();}}};}});jQuery.ajaxPrefilter(function(s){if(s.crossDomain){s.contents.script=false;}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}
if(s.crossDomain){s.type="GET";}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain||s.scriptAttrs){var script,callback;return{send:function(_,complete){script=jQuery("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type);}});document.head.appendChild(script[0]);},abort:function(){if(callback){callback();}}};}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce.guid++));this[callback]=true;return callback;}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName);}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName;}
s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");}
return responseContainer[0];};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments;};jqXHR.always(function(){if(overwritten===undefined){jQuery(window).removeProp(callbackName);}else{window[callbackName]=overwritten;}
if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName);}
if(responseContainer&&isFunction(overwritten)){overwritten(responseContainer[0]);}
responseContainer=overwritten=undefined;});return"script";}});support.createHTMLDocument=(function(){var body=document.implementation.createHTMLDocument("").body;body.innerHTML="<form></form><form></form>";return body.childNodes.length===2;})();jQuery.parseHTML=function(data,context,keepScripts){if(typeof data!=="string"){return[];}
if(typeof context==="boolean"){keepScripts=context;context=false;}
var base,parsed,scripts;if(!context){if(support.createHTMLDocument){context=document.implementation.createHTMLDocument("");base=context.createElement("base");base.href=document.location.href;context.head.appendChild(base);}else{context=document;}}
parsed=rsingleTag.exec(data);scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])];}
parsed=buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove();}
return jQuery.merge([],parsed.childNodes);};jQuery.fn.load=function(url,params,callback){var selector,type,response,self=this,off=url.indexOf(" ");if(off>-1){selector=stripAndCollapse(url.slice(off));url=url.slice(0,off);}
if(isFunction(params)){callback=params;params=undefined;}else if(params&&typeof params==="object"){type="POST";}
if(self.length>0){jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText);}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR]);});});}
return this;};jQuery.expr.pseudos.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative";}
curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}
if(isFunction(options)){options=options.call(elem,i,jQuery.extend({},curOffset));}
if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;}
if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;}
if("using"in options){options.using.call(elem,props);}else{if(typeof props.top==="number"){props.top+="px";}
if(typeof props.left==="number"){props.left+="px";}
curElem.css(props);}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}
var rect,win,elem=this[0];if(!elem){return;}
if(!elem.getClientRects().length){return{top:0,left:0};}
rect=elem.getBoundingClientRect();win=elem.ownerDocument.defaultView;return{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset};},position:function(){if(!this[0]){return;}
var offsetParent,offset,doc,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect();}else{offset=this.offset();doc=elem.ownerDocument;offsetParent=elem.offsetParent||doc.documentElement;while(offsetParent&&(offsetParent===doc.body||offsetParent===doc.documentElement)&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.parentNode;}
if(offsetParent&&offsetParent!==elem&&offsetParent.nodeType===1){parentOffset=jQuery(offsetParent).offset();parentOffset.top+=jQuery.css(offsetParent,"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent,"borderLeftWidth",true);}}
return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)};},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.offsetParent;}
return offsetParent||documentElement;});}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win;if(isWindow(elem)){win=elem;}else if(elem.nodeType===9){win=elem.defaultView;}
if(val===undefined){return win?win[prop]:elem[method];}
if(win){win.scrollTo(!top?val:win.pageXOffset,top?val:win.pageYOffset);}else{elem[method]=val;}},method,val,arguments.length);};});jQuery.each(["top","left"],function(_i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed;}});});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(isWindow(elem)){return funcName.indexOf("outer")===0?elem["inner"+name]:elem.document.documentElement["client"+name];}
if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}
return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra);},type,chainable?margin:undefined,chainable);};});});jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_i,type){jQuery.fn[type]=function(fn){return this.on(type,fn);};});jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn);},unbind:function(types,fn){return this.off(types,null,fn);},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn);},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);}});jQuery.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(_i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};});var rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp;}
if(!isFunction(fn)){return undefined;}
args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy;};jQuery.holdReady=function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}};jQuery.isArray=Array.isArray;jQuery.parseJSON=JSON.parse;jQuery.nodeName=nodeName;jQuery.isFunction=isFunction;jQuery.isWindow=isWindow;jQuery.camelCase=camelCase;jQuery.type=toType;jQuery.now=Date.now;jQuery.isNumeric=function(obj){var type=jQuery.type(obj);return(type==="number"||type==="string")&&!isNaN(obj-parseFloat(obj));};jQuery.trim=function(text){return text==null?"":(text+"").replace(rtrim,"");};if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery;});}
var
_jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$;}
if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}
return jQuery;};if(typeof noGlobal==="undefined"){window.jQuery=window.$=jQuery;}
return jQuery;});function getRandomColor(){var letters='0123456789ABCDEF';var color='#';for(var i=0;i<6;i++){color+=letters[Math.floor(Math.random()*16)];}
return color;}
const colors=["#83724e","#d4aa5c","#28a75c","#5773dc","#5c9dbe","#8440ed","#e67157","#19e399","#d231e0","#e0315a","#42bdff","#45e342","#b0e342","#e69743"]
function getColors(n){return colors.slice(0,n)}
function createPieChart(ctx,labels,data){new Chart(ctx,{type:"doughnut",data:{labels:labels,datasets:[{data:data,backgroundColor:getColors(data.length)}]},options:{responsive:true,maintainAspectRatio:false,legend:{labels:{fontColor:"#fff"}}}});}
function createBarChart(ctx,labels,datas,show_legend){var datasets=[]
for(let i=0;i<datas.length;i++){const element=datas[i];if(typeof(element[0])==="number"){datasets.push({data:element,backgroundColor:getColors(6),})}else{datasets.push({label:element[0],data:element[1],backgroundColor:getColors(6),})}}
console.log(datasets)
new Chart(ctx,{type:"bar",data:{labels:labels,datasets:datasets},options:{responsive:true,scales:{xAxes:[{ticks:{fontColor:"#fff"}}]},legend:{display:show_legend,},elements:{rectangle:{borderColor:"#fff",borderWidth:1}}}});}
function createLineChart(ctx,labels,data){new Chart(ctx,{type:"line",data:{labels:labels,datasets:[{backgroundColor:"#8b5dc2",borderColor:"#8b5dc2",data:data,fill:false,lineTension:0,}]},options:{responsive:true,legend:{display:false,},tooltips:{mode:'index',intersect:false,},hover:{mode:'nearest',intersect:true},scales:{xAxes:[{display:true,scaleLabel:{display:true,labelString:'Month/Year',fontColor:"#fff"},ticks:{fontColor:"#fff"}}],yAxes:[{display:true,scaleLabel:{display:true,labelString:'Nominations',fontColor:"#fff"},ticks:{fontColor:"#fff"}}]}}})}
$(function(){$('select.dropdown').dropdown()
$("form").change(function(){$(this).submit()})});(function($,window,document,undefined){$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};$.site=$.fn.site=function(parameters){var
time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),settings=($.isPlainObject(parameters))?$.extend(true,{},$.site.settings,parameters):$.extend({},$.site.settings),namespace=settings.namespace,error=settings.error,moduleNamespace='module-'+namespace,$document=$(document),$module=$document,element=this,instance=$module.data(moduleNamespace),module,returnedValue;module={initialize:function(){module.instantiate();},instantiate:function(){module.verbose('Storing instance of site',module);instance=module;$module.data(moduleNamespace,module);},normalize:function(){module.fix.console();module.fix.requestAnimationFrame();},fix:{console:function(){module.debug('Normalizing window.console');if(console===undefined||console.log===undefined){module.verbose('Console not available, normalizing events');module.disable.console();}
if(typeof console.group=='undefined'||typeof console.groupEnd=='undefined'||typeof console.groupCollapsed=='undefined'){module.verbose('Console group not available, normalizing events');window.console.group=function(){};window.console.groupEnd=function(){};window.console.groupCollapsed=function(){};}
if(typeof console.markTimeline=='undefined'){module.verbose('Mark timeline not available, normalizing events');window.console.markTimeline=function(){};}},consoleClear:function(){module.debug('Disabling programmatic console clearing');window.console.clear=function(){};},requestAnimationFrame:function(){module.debug('Normalizing requestAnimationFrame');if(window.requestAnimationFrame===undefined){module.debug('RequestAnimationFrame not available, normalizing event');window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0);};}}},moduleExists:function(name){return($.fn[name]!==undefined&&$.fn[name].settings!==undefined);},enabled:{modules:function(modules){var
enabledModules=[];modules=modules||settings.modules;$.each(modules,function(index,name){if(module.moduleExists(name)){enabledModules.push(name);}});return enabledModules;}},disabled:{modules:function(modules){var
disabledModules=[];modules=modules||settings.modules;$.each(modules,function(index,name){if(!module.moduleExists(name)){disabledModules.push(name);}});return disabledModules;}},change:{setting:function(setting,value,modules,modifyExisting){modules=(typeof modules==='string')?(modules==='all')?settings.modules:[modules]:modules||settings.modules;modifyExisting=(modifyExisting!==undefined)?modifyExisting:true;$.each(modules,function(index,name){var
namespace=(module.moduleExists(name))?$.fn[name].settings.namespace||false:true,$existingModules;if(module.moduleExists(name)){module.verbose('Changing default setting',setting,value,name);$.fn[name].settings[setting]=value;if(modifyExisting&&namespace){$existingModules=$(':data(module-'+namespace+')');if($existingModules.length>0){module.verbose('Modifying existing settings',$existingModules);$existingModules[name]('setting',setting,value);}}}});},settings:function(newSettings,modules,modifyExisting){modules=(typeof modules==='string')?[modules]:modules||settings.modules;modifyExisting=(modifyExisting!==undefined)?modifyExisting:true;$.each(modules,function(index,name){var
$existingModules;if(module.moduleExists(name)){module.verbose('Changing default setting',newSettings,name);$.extend(true,$.fn[name].settings,newSettings);if(modifyExisting&&namespace){$existingModules=$(':data(module-'+namespace+')');if($existingModules.length>0){module.verbose('Modifying existing settings',$existingModules);$existingModules[name]('setting',newSettings);}}}});}},enable:{console:function(){module.console(true);},debug:function(modules,modifyExisting){modules=modules||settings.modules;module.debug('Enabling debug for modules',modules);module.change.setting('debug',true,modules,modifyExisting);},verbose:function(modules,modifyExisting){modules=modules||settings.modules;module.debug('Enabling verbose debug for modules',modules);module.change.setting('verbose',true,modules,modifyExisting);}},disable:{console:function(){module.console(false);},debug:function(modules,modifyExisting){modules=modules||settings.modules;module.debug('Disabling debug for modules',modules);module.change.setting('debug',false,modules,modifyExisting);},verbose:function(modules,modifyExisting){modules=modules||settings.modules;module.debug('Disabling verbose debug for modules',modules);module.change.setting('verbose',false,modules,modifyExisting);}},console:function(enable){if(enable){if(instance.cache.console===undefined){module.error(error.console);return;}
module.debug('Restoring console function');window.console=instance.cache.console;}
else{module.debug('Disabling console function');instance.cache.console=window.console;window.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}};}},destroy:function(){module.verbose('Destroying previous site for',$module);$module.removeData(moduleNamespace);},cache:{},setting:function(name,value){if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){settings[name]=value;}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Element':element,'Name':message[0],'Arguments':[].slice.call(message,1)||'','Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){module.destroy();}
module.initialize();}
return(returnedValue!==undefined)?returnedValue:this;};$.site.settings={name:'Site',namespace:'site',error:{console:'Console cannot be restored, most likely it was overwritten outside of module',method:'The method you called is not defined.'},debug:false,verbose:false,performance:true,modules:['accordion','api','calendar','checkbox','dimmer','dropdown','embed','form','modal','nag','popup','slider','rating','shape','sidebar','state','sticky','tab','toast','transition','visibility','visit'],siteNamespace:'site',namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}};$.extend($.expr[":"],{data:($.expr.createPseudo)?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);}});})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.form=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],legacyParameters=arguments[1],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
$module=$(this),element=this,formErrors=[],keyHeldDown=false,$field,$group,$message,$prompt,$submit,$clear,$reset,settings,validation,metadata,selector,className,regExp,error,namespace,moduleNamespace,eventNamespace,submitting=false,dirty=false,history=['clean','clean'],instance,module;module={initialize:function(){module.get.settings();if(methodInvoked){if(instance===undefined){module.instantiate();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.verbose('Initializing form validation',$module,settings);module.bindEvents();module.set.defaults();if(settings.autoCheckRequired){module.set.autoCheck();}
module.instantiate();}},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying previous module',instance);module.removeEvents();$module.removeData(moduleNamespace);},refresh:function(){module.verbose('Refreshing selector cache');$field=$module.find(selector.field);$group=$module.find(selector.group);$message=$module.find(selector.message);$prompt=$module.find(selector.prompt);$submit=$module.find(selector.submit);$clear=$module.find(selector.clear);$reset=$module.find(selector.reset);},submit:function(){module.verbose('Submitting form',$module);submitting=true;$module.submit();},attachEvents:function(selector,action){action=action||'submit';$(selector).on('click'+eventNamespace,function(event){module[action]();event.preventDefault();});},bindEvents:function(){module.verbose('Attaching form events');$module.on('submit'+eventNamespace,module.validate.form).on('blur'+eventNamespace,selector.field,module.event.field.blur).on('click'+eventNamespace,selector.submit,module.submit).on('click'+eventNamespace,selector.reset,module.reset).on('click'+eventNamespace,selector.clear,module.clear);if(settings.keyboardShortcuts){$module.on('keydown'+eventNamespace,selector.field,module.event.field.keydown);}
$field.each(function(index,el){var
$input=$(el),type=$input.prop('type'),inputEvent=module.get.changeEvent(type,$input);$input.on(inputEvent+eventNamespace,module.event.field.change);});if(settings.preventLeaving){$(window).on('beforeunload'+eventNamespace,module.event.beforeUnload);}
$field.on('change click keyup keydown blur',function(e){$(this).triggerHandler(e.type+".dirty");});$field.on('change.dirty click.dirty keyup.dirty keydown.dirty blur.dirty',module.determine.isDirty);$module.on('dirty'+eventNamespace,function(e){settings.onDirty.call();});$module.on('clean'+eventNamespace,function(e){settings.onClean.call();})},clear:function(){$field.each(function(index,el){var
$field=$(el),$element=$field.parent(),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.find(selector.prompt),$calendar=$field.closest(selector.uiCalendar),defaultValue=$field.data(metadata.defaultValue)||'',isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown)&&module.can.useElement('dropdown'),isCalendar=($calendar.length>0&&module.can.useElement('calendar')),isErrored=$fieldGroup.hasClass(className.error);if(isErrored){module.verbose('Resetting error on field',$fieldGroup);$fieldGroup.removeClass(className.error);$prompt.remove();}
if(isDropdown){module.verbose('Resetting dropdown value',$element,defaultValue);$element.dropdown('clear',true);}
else if(isCheckbox){$field.prop('checked',false);}
else if(isCalendar){$calendar.calendar('clear');}
else{module.verbose('Resetting field value',$field,defaultValue);$field.val('');}});module.remove.states();},reset:function(){$field.each(function(index,el){var
$field=$(el),$element=$field.parent(),$fieldGroup=$field.closest($group),$calendar=$field.closest(selector.uiCalendar),$prompt=$fieldGroup.find(selector.prompt),defaultValue=$field.data(metadata.defaultValue),isCheckbox=$element.is(selector.uiCheckbox),isDropdown=$element.is(selector.uiDropdown)&&module.can.useElement('dropdown'),isCalendar=($calendar.length>0&&module.can.useElement('calendar')),isErrored=$fieldGroup.hasClass(className.error);if(defaultValue===undefined){return;}
if(isErrored){module.verbose('Resetting error on field',$fieldGroup);$fieldGroup.removeClass(className.error);$prompt.remove();}
if(isDropdown){module.verbose('Resetting dropdown value',$element,defaultValue);$element.dropdown('restore defaults',true);}
else if(isCheckbox){module.verbose('Resetting checkbox value',$element,defaultValue);$field.prop('checked',defaultValue);}
else if(isCalendar){$calendar.calendar('set date',defaultValue);}
else{module.verbose('Resetting field value',$field,defaultValue);$field.val(defaultValue);}});module.remove.states();},determine:{isValid:function(){var
allValid=true;$.each(validation,function(fieldName,field){if(!(module.validate.field(field,fieldName,true))){allValid=false;}});return allValid;},isDirty:function(e){var formIsDirty=false;$field.each(function(index,el){var
$el=$(el),isCheckbox=($el.filter(selector.checkbox).length>0),isDirty;if(isCheckbox){isDirty=module.is.checkboxDirty($el);}else{isDirty=module.is.fieldDirty($el);}
$el.data(settings.metadata.isDirty,isDirty);formIsDirty|=isDirty;});if(formIsDirty){module.set.dirty();}else{module.set.clean();}
if(e&&e.namespace==='dirty'){e.stopImmediatePropagation();e.preventDefault();}}},is:{bracketedRule:function(rule){return(rule.type&&rule.type.match(settings.regExp.bracket));},shorthandFields:function(fields){var
fieldKeys=Object.keys(fields),firstRule=fields[fieldKeys[0]];return module.is.shorthandRules(firstRule);},shorthandRules:function(rules){return(typeof rules=='string'||Array.isArray(rules));},empty:function($field){if(!$field||$field.length===0){return true;}
else if($field.is(selector.checkbox)){return!$field.is(':checked');}
else{return module.is.blank($field);}},blank:function($field){return String($field.val()).trim()==='';},valid:function(field,showErrors){var
allValid=true;if(field){module.verbose('Checking if field is valid',field);return module.validate.field(validation[field],field,!!showErrors);}
else{module.verbose('Checking if form is valid');$.each(validation,function(fieldName,field){if(!module.is.valid(fieldName,showErrors)){allValid=false;}});return allValid;}},dirty:function(){return dirty;},clean:function(){return!dirty;},fieldDirty:function($el){var initialValue=$el.data(metadata.defaultValue);if(initialValue==null){initialValue='';}
else if(Array.isArray(initialValue)){initialValue=initialValue.toString();}
var currentValue=$el.val();if(currentValue==null){currentValue='';}
else if(Array.isArray(currentValue)){currentValue=currentValue.toString();}
var boolRegex=/^(true|false)$/i;var isBoolValue=boolRegex.test(initialValue)&&boolRegex.test(currentValue);if(isBoolValue){var regex=new RegExp("^"+initialValue+"$","i");return!regex.test(currentValue);}
return currentValue!==initialValue;},checkboxDirty:function($el){var initialValue=$el.data(metadata.defaultValue);var currentValue=$el.is(":checked");return initialValue!==currentValue;},justDirty:function(){return(history[0]==='dirty');},justClean:function(){return(history[0]==='clean');}},removeEvents:function(){$module.off(eventNamespace);$field.off(eventNamespace);$submit.off(eventNamespace);$field.off(eventNamespace);},event:{field:{keydown:function(event){var
$field=$(this),key=event.which,isInput=$field.is(selector.input),isCheckbox=$field.is(selector.checkbox),isInDropdown=($field.closest(selector.uiDropdown).length>0),keyCode={enter:13,escape:27};if(key==keyCode.escape){module.verbose('Escape key pressed blurring field');$field.blur();}
if(!event.ctrlKey&&key==keyCode.enter&&isInput&&!isInDropdown&&!isCheckbox){if(!keyHeldDown){$field.one('keyup'+eventNamespace,module.event.field.keyup);module.submit();module.debug('Enter pressed on input submitting form');}
keyHeldDown=true;}},keyup:function(){keyHeldDown=false;},blur:function(event){var
$field=$(this),$fieldGroup=$field.closest($group),validationRules=module.get.validation($field);if($fieldGroup.hasClass(className.error)){module.debug('Revalidating field',$field,validationRules);if(validationRules){module.validate.field(validationRules);}}
else if(settings.on=='blur'){if(validationRules){module.validate.field(validationRules);}}},change:function(event){var
$field=$(this),$fieldGroup=$field.closest($group),validationRules=module.get.validation($field);if(validationRules&&(settings.on=='change'||($fieldGroup.hasClass(className.error)&&settings.revalidate))){clearTimeout(module.timer);module.timer=setTimeout(function(){module.debug('Revalidating field',$field,module.get.validation($field));module.validate.field(validationRules);if(!settings.inline){module.validate.form(false,true);}},settings.delay);}}},beforeUnload:function(event){if(module.is.dirty()&&!submitting){var event=event||window.event;if(event){event.returnValue=settings.text.leavingMessage;}
return settings.text.leavingMessage;}}},get:{ancillaryValue:function(rule){if(!rule.type||(!rule.value&&!module.is.bracketedRule(rule))){return false;}
return(rule.value!==undefined)?rule.value:rule.type.match(settings.regExp.bracket)[1]+'';},ruleName:function(rule){if(module.is.bracketedRule(rule)){return rule.type.replace(rule.type.match(settings.regExp.bracket)[0],'');}
return rule.type;},changeEvent:function(type,$input){if(type=='checkbox'||type=='radio'||type=='hidden'||$input.is('select')){return'change';}
else{return module.get.inputEvent();}},inputEvent:function(){return(document.createElement('input').oninput!==undefined)?'input':(document.createElement('input').onpropertychange!==undefined)?'propertychange':'keyup';},fieldsFromShorthand:function(fields){var
fullFields={};$.each(fields,function(name,rules){if(typeof rules=='string'){rules=[rules];}
fullFields[name]={rules:[]};$.each(rules,function(index,rule){fullFields[name].rules.push({type:rule});});});return fullFields;},prompt:function(rule,field){var
ruleName=module.get.ruleName(rule),ancillary=module.get.ancillaryValue(rule),$field=module.get.field(field.identifier),value=$field.val(),prompt=$.isFunction(rule.prompt)?rule.prompt(value):rule.prompt||settings.prompt[ruleName]||settings.text.unspecifiedRule,requiresValue=(prompt.search('{value}')!==-1),requiresName=(prompt.search('{name}')!==-1),$label,name;if(requiresValue){prompt=prompt.replace(/\{value\}/g,$field.val());}
if(requiresName){$label=$field.closest(selector.group).find('label').eq(0);name=($label.length==1)?$label.text():$field.prop('placeholder')||settings.text.unspecifiedField;prompt=prompt.replace(/\{name\}/g,name);}
prompt=prompt.replace(/\{identifier\}/g,field.identifier);prompt=prompt.replace(/\{ruleValue\}/g,ancillary);if(!rule.prompt){module.verbose('Using default validation prompt for type',prompt,ruleName);}
return prompt;},settings:function(){if($.isPlainObject(parameters)){var
keys=Object.keys(parameters),isLegacySettings=(keys.length>0)?(parameters[keys[0]].identifier!==undefined&&parameters[keys[0]].rules!==undefined):false;if(isLegacySettings){settings=$.extend(true,{},$.fn.form.settings,legacyParameters);validation=$.extend({},$.fn.form.settings.defaults,parameters);module.error(settings.error.oldSyntax,element);module.verbose('Extending settings from legacy parameters',validation,settings);}
else{if(parameters.fields&&module.is.shorthandFields(parameters.fields)){parameters.fields=module.get.fieldsFromShorthand(parameters.fields);}
settings=$.extend(true,{},$.fn.form.settings,parameters);validation=$.extend({},$.fn.form.settings.defaults,settings.fields);module.verbose('Extending settings',validation,settings);}}
else{settings=$.fn.form.settings;validation=$.fn.form.settings.defaults;module.verbose('Using default form validation',validation,settings);}
namespace=settings.namespace;metadata=settings.metadata;selector=settings.selector;className=settings.className;regExp=settings.regExp;error=settings.error;moduleNamespace='module-'+namespace;eventNamespace='.'+namespace;instance=$module.data(moduleNamespace);module.refresh();},field:function(identifier){module.verbose('Finding field with identifier',identifier);identifier=module.escape.string(identifier);var t;if((t=$field.filter('#'+identifier)).length>0){return t;}
if((t=$field.filter('[name="'+identifier+'"]')).length>0){return t;}
if((t=$field.filter('[name="'+identifier+'[]"]')).length>0){return t;}
if((t=$field.filter('[data-'+metadata.validate+'="'+identifier+'"]')).length>0){return t;}
return $('<input/>');},fields:function(fields){var
$fields=$();$.each(fields,function(index,name){$fields=$fields.add(module.get.field(name));});return $fields;},validation:function($field){var
fieldValidation,identifier;if(!validation){return false;}
$.each(validation,function(fieldName,field){identifier=field.identifier||fieldName;$.each(module.get.field(identifier),function(index,groupField){if(groupField==$field[0]){field.identifier=identifier;fieldValidation=field;return false;}});});return fieldValidation||false;},value:function(field){var
fields=[],results;fields.push(field);results=module.get.values.call(element,fields);return results[field];},values:function(fields){var
$fields=Array.isArray(fields)?module.get.fields(fields):$field,values={};$fields.each(function(index,field){var
$field=$(field),$calendar=$field.closest(selector.uiCalendar),name=$field.prop('name'),value=$field.val(),isCheckbox=$field.is(selector.checkbox),isRadio=$field.is(selector.radio),isMultiple=(name.indexOf('[]')!==-1),isCalendar=($calendar.length>0&&module.can.useElement('calendar')),isChecked=(isCheckbox)?$field.is(':checked'):false;if(name){if(isMultiple){name=name.replace('[]','');if(!values[name]){values[name]=[];}
if(isCheckbox){if(isChecked){values[name].push(value||true);}
else{values[name].push(false);}}
else{values[name].push(value);}}
else{if(isRadio){if(values[name]===undefined||values[name]===false){values[name]=(isChecked)?value||true:false;}}
else if(isCheckbox){if(isChecked){values[name]=value||true;}
else{values[name]=false;}}
else if(isCalendar){var date=$calendar.calendar('get date');if(date!==null){if(settings.dateHandling=='date'){values[name]=date;}else if(settings.dateHandling=='input'){values[name]=$calendar.calendar('get input date')}else if(settings.dateHandling=='formatter'){var type=$calendar.calendar('setting','type');switch(type){case'date':values[name]=settings.formatter.date(date);break;case'datetime':values[name]=settings.formatter.datetime(date);break;case'time':values[name]=settings.formatter.time(date);break;case'month':values[name]=settings.formatter.month(date);break;case'year':values[name]=settings.formatter.year(date);break;default:module.debug('Wrong calendar mode',$calendar,type);values[name]='';}}}else{values[name]='';}}else{values[name]=value;}}}});return values;},dirtyFields:function(){return $field.filter(function(index,e){return $(e).data(metadata.isDirty);});}},has:{field:function(identifier){module.verbose('Checking for existence of a field with identifier',identifier);identifier=module.escape.string(identifier);if(typeof identifier!=='string'){module.error(error.identifier,identifier);}
if($field.filter('#'+identifier).length>0){return true;}
else if($field.filter('[name="'+identifier+'"]').length>0){return true;}
else if($field.filter('[data-'+metadata.validate+'="'+identifier+'"]').length>0){return true;}
return false;}},can:{useElement:function(element){if($.fn[element]!==undefined){return true;}
module.error(error.noElement.replace('{element}',element));return false;}},escape:{string:function(text){text=String(text);return text.replace(regExp.escape,'\\$&');}},add:{rule:function(name,rules){module.add.field(name,rules);},field:function(name,rules){if(validation[name]===undefined||validation[name].rules===undefined){validation[name]={rules:[]};}
var
newValidation={rules:[]};if(module.is.shorthandRules(rules)){rules=Array.isArray(rules)?rules:[rules];$.each(rules,function(_index,rule){newValidation.rules.push({type:rule});});}
else{newValidation.rules=rules.rules;}
$.each(newValidation.rules,function(_index,rule){if($.grep(validation[name].rules,function(item){return item.type==rule.type;}).length==0){validation[name].rules.push(rule);}});module.debug('Adding rules',newValidation.rules,validation);},fields:function(fields){var
newValidation;if(fields&&module.is.shorthandFields(fields)){newValidation=module.get.fieldsFromShorthand(fields);}
else{newValidation=fields;}
validation=$.extend({},validation,newValidation);},prompt:function(identifier,errors,internal){var
$field=module.get.field(identifier),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.children(selector.prompt),promptExists=($prompt.length!==0);errors=(typeof errors=='string')?[errors]:errors;module.verbose('Adding field error state',identifier);if(!internal){$fieldGroup.addClass(className.error);}
if(settings.inline){if(!promptExists){$prompt=settings.templates.prompt(errors,className.label);$prompt.appendTo($fieldGroup);}
$prompt.html(errors[0]);if(!promptExists){if(settings.transition&&module.can.useElement('transition')&&$module.transition('is supported')){module.verbose('Displaying error with css transition',settings.transition);$prompt.transition(settings.transition+' in',settings.duration);}
else{module.verbose('Displaying error with fallback javascript animation');$prompt.fadeIn(settings.duration);}}
else{module.verbose('Inline errors are disabled, no inline error added',identifier);}}},errors:function(errors){module.debug('Adding form error messages',errors);module.set.error();$message.html(settings.templates.error(errors));}},remove:{errors:function(){module.debug('Removing form error messages');$message.empty();},states:function(){$module.removeClass(className.error).removeClass(className.success);if(!settings.inline){module.remove.errors();}
module.determine.isDirty();},rule:function(field,rule){var
rules=Array.isArray(rule)?rule:[rule];if(validation[field]===undefined||!Array.isArray(validation[field].rules)){return;}
if(rule===undefined){module.debug('Removed all rules');validation[field].rules=[];return;}
$.each(validation[field].rules,function(index,rule){if(rule&&rules.indexOf(rule.type)!==-1){module.debug('Removed rule',rule.type);validation[field].rules.splice(index,1);}});},field:function(field){var
fields=Array.isArray(field)?field:[field];$.each(fields,function(index,field){module.remove.rule(field);});},rules:function(field,rules){if(Array.isArray(field)){$.each(field,function(index,field){module.remove.rule(field,rules);});}
else{module.remove.rule(field,rules);}},fields:function(fields){module.remove.field(fields);},prompt:function(identifier){var
$field=module.get.field(identifier),$fieldGroup=$field.closest($group),$prompt=$fieldGroup.children(selector.prompt);$fieldGroup.removeClass(className.error);if(settings.inline&&$prompt.is(':visible')){module.verbose('Removing prompt for field',identifier);if(settings.transition&&module.can.useElement('transition')&&$module.transition('is supported')){$prompt.transition(settings.transition+' out',settings.duration,function(){$prompt.remove();});}
else{$prompt.fadeOut(settings.duration,function(){$prompt.remove();});}}}},set:{success:function(){$module.removeClass(className.error).addClass(className.success);},defaults:function(){$field.each(function(index,el){var
$el=$(el),$parent=$el.parent(),isCheckbox=($el.filter(selector.checkbox).length>0),isDropdown=$parent.is(selector.uiDropdown)&&module.can.useElement('dropdown'),$calendar=$el.closest(selector.uiCalendar),isCalendar=($calendar.length>0&&module.can.useElement('calendar')),value=(isCheckbox)?$el.is(':checked'):$el.val();if(isDropdown){$parent.dropdown('save defaults');}
else if(isCalendar){$calendar.calendar('refresh');}
$el.data(metadata.defaultValue,value);$el.data(metadata.isDirty,false);});},error:function(){$module.removeClass(className.success).addClass(className.error);},value:function(field,value){var
fields={};fields[field]=value;return module.set.values.call(element,fields);},values:function(fields){if($.isEmptyObject(fields)){return;}
$.each(fields,function(key,value){var
$field=module.get.field(key),$element=$field.parent(),$calendar=$field.closest(selector.uiCalendar),isMultiple=Array.isArray(value),isCheckbox=$element.is(selector.uiCheckbox)&&module.can.useElement('checkbox'),isDropdown=$element.is(selector.uiDropdown)&&module.can.useElement('dropdown'),isRadio=($field.is(selector.radio)&&isCheckbox),isCalendar=($calendar.length>0&&module.can.useElement('calendar')),fieldExists=($field.length>0),$multipleField;if(fieldExists){if(isMultiple&&isCheckbox){module.verbose('Selecting multiple',value,$field);$element.checkbox('uncheck');$.each(value,function(index,value){$multipleField=$field.filter('[value="'+value+'"]');$element=$multipleField.parent();if($multipleField.length>0){$element.checkbox('check');}});}
else if(isRadio){module.verbose('Selecting radio value',value,$field);$field.filter('[value="'+value+'"]').parent(selector.uiCheckbox).checkbox('check');}
else if(isCheckbox){module.verbose('Setting checkbox value',value,$element);if(value===true||value===1){$element.checkbox('check');}
else{$element.checkbox('uncheck');}}
else if(isDropdown){module.verbose('Setting dropdown value',value,$element);$element.dropdown('set selected',value);}
else if(isCalendar){$calendar.calendar('set date',value);}
else{module.verbose('Setting field value',value,$field);$field.val(value);}}});},dirty:function(){module.verbose('Setting state dirty');dirty=true;history[0]=history[1];history[1]='dirty';if(module.is.justClean()){$module.trigger('dirty');}},clean:function(){module.verbose('Setting state clean');dirty=false;history[0]=history[1];history[1]='clean';if(module.is.justDirty()){$module.trigger('clean');}},asClean:function(){module.set.defaults();module.set.clean();},asDirty:function(){module.set.defaults();module.set.dirty();},autoCheck:function(){module.debug('Enabling auto check on required fields');$field.each(function(_index,el){var
$el=$(el),$elGroup=$(el).closest($group),isCheckbox=($el.filter(selector.checkbox).length>0),isRequired=$el.prop('required')||$elGroup.hasClass(className.required)||$elGroup.parent().hasClass(className.required),isDisabled=$el.is(':disabled')||$elGroup.hasClass(className.disabled)||$elGroup.parent().hasClass(className.disabled),validation=module.get.validation($el),hasEmptyRule=validation?$.grep(validation.rules,function(rule){return rule.type=="empty"})!==0:false,identifier=validation.identifier||$el.attr('id')||$el.attr('name')||$el.data(metadata.validate);if(isRequired&&!isDisabled&&!hasEmptyRule&&identifier!==undefined){if(isCheckbox){module.verbose("Adding 'checked' rule on field",identifier);module.add.rule(identifier,"checked");}else{module.verbose("Adding 'empty' rule on field",identifier);module.add.rule(identifier,"empty");}}});}},validate:{form:function(event,ignoreCallbacks){var values=module.get.values();if(keyHeldDown){return false;}
formErrors=[];if(module.determine.isValid()){module.debug('Form has no validation errors, submitting');module.set.success();if(!settings.inline){module.remove.errors();}
if(ignoreCallbacks!==true){return settings.onSuccess.call(element,event,values);}}
else{module.debug('Form has errors');submitting=false;module.set.error();if(!settings.inline){module.add.errors(formErrors);}
if(event&&$module.data('moduleApi')!==undefined){event.stopImmediatePropagation();}
if(ignoreCallbacks!==true){return settings.onFailure.call(element,formErrors,values);}}},field:function(field,fieldName,showErrors){showErrors=(showErrors!==undefined)?showErrors:true;if(typeof field=='string'){module.verbose('Validating field',field);fieldName=field;field=validation[field];}
var
identifier=field.identifier||fieldName,$field=module.get.field(identifier),$dependsField=(field.depends)?module.get.field(field.depends):false,fieldValid=true,fieldErrors=[];if(!field.identifier){module.debug('Using field name as identifier',identifier);field.identifier=identifier;}
var isDisabled=!$field.filter(':not(:disabled)').length;if(isDisabled){module.debug('Field is disabled. Skipping',identifier);}
else if(field.optional&&module.is.blank($field)){module.debug('Field is optional and blank. Skipping',identifier);}
else if(field.depends&&module.is.empty($dependsField)){module.debug('Field depends on another value that is not present or empty. Skipping',$dependsField);}
else if(field.rules!==undefined){if(showErrors){$field.closest($group).removeClass(className.error);}
$.each(field.rules,function(index,rule){if(module.has.field(identifier)){var invalidFields=module.validate.rule(field,rule,true)||[];if(invalidFields.length>0){module.debug('Field is invalid',identifier,rule.type);fieldErrors.push(module.get.prompt(rule,field));fieldValid=false;if(showErrors){$(invalidFields).closest($group).addClass(className.error);}}}});}
if(fieldValid){if(showErrors){module.remove.prompt(identifier,fieldErrors);settings.onValid.call($field);}}
else{if(showErrors){formErrors=formErrors.concat(fieldErrors);module.add.prompt(identifier,fieldErrors,true);settings.onInvalid.call($field,fieldErrors);}
return false;}
return true;},rule:function(field,rule,internal){var
$field=module.get.field(field.identifier),ancillary=module.get.ancillaryValue(rule),ruleName=module.get.ruleName(rule),ruleFunction=settings.rules[ruleName],invalidFields=[],isCheckbox=$field.is(selector.checkbox),isValid=function(field){var value=(isCheckbox?$(field).filter(':checked').val():$(field).val());value=(value===undefined||value===''||value===null)?'':(settings.shouldTrim)?String(value+'').trim():String(value+'');return ruleFunction.call(field,value,ancillary,$module);};if(!$.isFunction(ruleFunction)){module.error(error.noRule,ruleName);return;}
if(isCheckbox){if(!isValid($field)){invalidFields=$field;}}else{$.each($field,function(index,field){if(!isValid(field)){invalidFields.push(field);}});}
return internal?invalidFields:!(invalidFields.length>0);}},setting:function(name,value){if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){settings[name]=value;}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if($allModules.length>1){title+=' '+'('+$allModules.length+')';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};module.initialize();});return(returnedValue!==undefined)?returnedValue:this;};$.fn.form.settings={name:'Form',namespace:'form',debug:false,verbose:false,performance:true,fields:false,keyboardShortcuts:true,on:'submit',inline:false,delay:200,revalidate:true,shouldTrim:true,transition:'scale',duration:200,autoCheckRequired:false,preventLeaving:false,dateHandling:'date',onValid:function(){},onInvalid:function(){},onSuccess:function(){return true;},onFailure:function(){return false;},onDirty:function(){},onClean:function(){},metadata:{defaultValue:'default',validate:'validate',isDirty:'isDirty'},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|:,=@]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:'Please enter a valid value',unspecifiedField:'This field',leavingMessage:'There are unsaved changes on this page which will be discarded if you continue.'},prompt:{empty:'{name} must have a value',checked:'{name} must be checked',email:'{name} must be a valid e-mail',url:'{name} must be a valid url',regExp:'{name} is not formatted correctly',integer:'{name} must be an integer',decimal:'{name} must be a decimal number',number:'{name} must be set to a number',is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} must contain "{ruleValue}"',containExactly:'{name} must contain exactly "{ruleValue}"',doesntContain:'{name} cannot contain  "{ruleValue}"',doesntContainExactly:'{name} cannot contain exactly "{ruleValue}"',minLength:'{name} must be at least {ruleValue} characters',length:'{name} must be at least {ruleValue} characters',exactLength:'{name} must be exactly {ruleValue} characters',maxLength:'{name} cannot be longer than {ruleValue} characters',match:'{name} must match {ruleValue} field',different:'{name} must have a different value than {ruleValue} field',creditCard:'{name} must be a valid credit card number',minCount:'{name} must have at least {ruleValue} choices',exactCount:'{name} must have exactly {ruleValue} choices',maxCount:'{name} must have {ruleValue} or less choices'},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:'.clear',field:'input:not(.search), textarea, select',group:'.field',input:'input',message:'.error.message',prompt:'.prompt.label',radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:'.ui.checkbox',uiDropdown:'.ui.dropdown',uiCalendar:'.ui.calendar'},className:{error:'error',label:'ui basic red pointing prompt label',pressed:'down',success:'success',required:'required',disabled:'disabled'},error:{identifier:'You must specify a string identifier for each field',method:'The method you called is not defined.',noRule:'There is no rule matching the one you specified',oldSyntax:'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.',noElement:'This module requires ui {element}'},templates:{error:function(errors){var
html='<ul class="list">';$.each(errors,function(index,value){html+='<li>'+value+'</li>';});html+='</ul>';return $(html);},prompt:function(errors,labelClasses){return $('<div/>').addClass(labelClasses).html(errors[0]);}},formatter:{date:function(date){return Intl.DateTimeFormat('en-GB').format(date);},datetime:function(date){return Intl.DateTimeFormat('en-GB',{year:"numeric",month:"2-digit",day:"2-digit",hour:'2-digit',minute:'2-digit',second:'2-digit'}).format(date);},time:function(date){return Intl.DateTimeFormat('en-GB',{hour:'2-digit',minute:'2-digit',second:'2-digit'}).format(date);},month:function(date){return Intl.DateTimeFormat('en-GB',{month:'2-digit',year:'numeric'}).format(date);},year:function(date){return Intl.DateTimeFormat('en-GB',{year:'numeric'}).format(date);}},rules:{empty:function(value){return!(value===undefined||''===value||Array.isArray(value)&&value.length===0);},checked:function(){return($(this).filter(':checked').length>0);},email:function(value){return $.fn.form.settings.regExp.email.test(value);},url:function(value){return $.fn.form.settings.regExp.url.test(value);},regExp:function(value,regExp){if(regExp instanceof RegExp){return value.match(regExp);}
var
regExpParts=regExp.match($.fn.form.settings.regExp.flags),flags;if(regExpParts){regExp=(regExpParts.length>=2)?regExpParts[1]:regExp;flags=(regExpParts.length>=3)?regExpParts[2]:'';}
return value.match(new RegExp(regExp,flags));},integer:function(value,range){var
intRegExp=$.fn.form.settings.regExp.integer,min,max,parts;if(!range||['','..'].indexOf(range)!==-1){}
else if(range.indexOf('..')==-1){if(intRegExp.test(range)){min=max=range-0;}}
else{parts=range.split('..',2);if(intRegExp.test(parts[0])){min=parts[0]-0;}
if(intRegExp.test(parts[1])){max=parts[1]-0;}}
return(intRegExp.test(value)&&(min===undefined||value>=min)&&(max===undefined||value<=max));},decimal:function(value){return $.fn.form.settings.regExp.decimal.test(value);},number:function(value){return $.fn.form.settings.regExp.number.test(value);},is:function(value,text){text=(typeof text=='string')?text.toLowerCase():text;value=(typeof value=='string')?value.toLowerCase():value;return(value==text);},isExactly:function(value,text){return(value==text);},not:function(value,notValue){value=(typeof value=='string')?value.toLowerCase():value;notValue=(typeof notValue=='string')?notValue.toLowerCase():notValue;return(value!=notValue);},notExactly:function(value,notValue){return(value!=notValue);},contains:function(value,text){text=text.replace($.fn.form.settings.regExp.escape,"\\$&");return(value.search(new RegExp(text,'i'))!==-1);},containsExactly:function(value,text){text=text.replace($.fn.form.settings.regExp.escape,"\\$&");return(value.search(new RegExp(text))!==-1);},doesntContain:function(value,text){text=text.replace($.fn.form.settings.regExp.escape,"\\$&");return(value.search(new RegExp(text,'i'))===-1);},doesntContainExactly:function(value,text){text=text.replace($.fn.form.settings.regExp.escape,"\\$&");return(value.search(new RegExp(text))===-1);},minLength:function(value,requiredLength){return(value!==undefined)?(value.length>=requiredLength):false;},length:function(value,requiredLength){return(value!==undefined)?(value.length>=requiredLength):false;},exactLength:function(value,requiredLength){return(value!==undefined)?(value.length==requiredLength):false;},maxLength:function(value,maxLength){return(value!==undefined)?(value.length<=maxLength):false;},match:function(value,identifier,$module){var
matchingValue,matchingElement;if((matchingElement=$module.find('[data-validate="'+identifier+'"]')).length>0){matchingValue=matchingElement.val();}
else if((matchingElement=$module.find('#'+identifier)).length>0){matchingValue=matchingElement.val();}
else if((matchingElement=$module.find('[name="'+identifier+'"]')).length>0){matchingValue=matchingElement.val();}
else if((matchingElement=$module.find('[name="'+identifier+'[]"]')).length>0){matchingValue=matchingElement;}
return(matchingValue!==undefined)?(value.toString()==matchingValue.toString()):false;},different:function(value,identifier,$module){var
matchingValue,matchingElement;if((matchingElement=$module.find('[data-validate="'+identifier+'"]')).length>0){matchingValue=matchingElement.val();}
else if((matchingElement=$module.find('#'+identifier)).length>0){matchingValue=matchingElement.val();}
else if((matchingElement=$module.find('[name="'+identifier+'"]')).length>0){matchingValue=matchingElement.val();}
else if((matchingElement=$module.find('[name="'+identifier+'[]"]')).length>0){matchingValue=matchingElement;}
return(matchingValue!==undefined)?(value.toString()!==matchingValue.toString()):false;},creditCard:function(cardNumber,cardTypes){var
cards={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},valid={},validCard=false,requiredTypes=(typeof cardTypes=='string')?cardTypes.split(','):false,unionPay,validation;if(typeof cardNumber!=='string'||cardNumber.length===0){return;}
cardNumber=cardNumber.replace(/[\-]/g,'');if(requiredTypes){$.each(requiredTypes,function(index,type){validation=cards[type];if(validation){valid={length:($.inArray(cardNumber.length,validation.length)!==-1),pattern:(cardNumber.search(validation.pattern)!==-1)};if(valid.length&&valid.pattern){validCard=true;}}});if(!validCard){return false;}}
unionPay={number:($.inArray(cardNumber.length,cards.unionPay.length)!==-1),pattern:(cardNumber.search(cards.unionPay.pattern)!==-1)};if(unionPay.number&&unionPay.pattern){return true;}
var
length=cardNumber.length,multiple=0,producedValue=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],sum=0;while(length--){sum+=producedValue[multiple][parseInt(cardNumber.charAt(length),10)];multiple^=1;}
return(sum%10===0&&sum>0);},minCount:function(value,minCount){if(minCount==0){return true;}
if(minCount==1){return(value!=='');}
return(value.split(',').length>=minCount);},exactCount:function(value,exactCount){if(exactCount==0){return(value==='');}
if(exactCount==1){return(value!==''&&value.search(',')===-1);}
return(value.split(',').length==exactCount);},maxCount:function(value,maxCount){if(maxCount==0){return false;}
if(maxCount==1){return(value.search(',')===-1);}
return(value.split(',').length<=maxCount);}}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.accordion=function(parameters){var
$allModules=$(this),time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.accordion.settings,parameters):$.extend({},$.fn.accordion.settings),className=settings.className,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,moduleSelector=$allModules.selector||'',$module=$(this),$title=$module.find(selector.title),$content=$module.find(selector.content),element=this,instance=$module.data(moduleNamespace),observer,module;module={initialize:function(){module.debug('Initializing',$module);module.bind.events();if(settings.observeChanges){module.observeChanges();}
module.instantiate();},instantiate:function(){instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.debug('Destroying previous instance',$module);$module.off(eventNamespace).removeData(moduleNamespace);},refresh:function(){$title=$module.find(selector.title);$content=$module.find(selector.content);},observeChanges:function(){if('MutationObserver'in window){observer=new MutationObserver(function(mutations){module.debug('DOM tree modified, updating selector cache');module.refresh();});observer.observe(element,{childList:true,subtree:true});module.debug('Setting up mutation observer',observer);}},bind:{events:function(){module.debug('Binding delegated events');$module.on(settings.on+eventNamespace,selector.trigger,module.event.click);}},event:{click:function(){module.toggle.call(this);}},toggle:function(query){var
$activeTitle=(query!==undefined)?(typeof query==='number')?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpen=(isActive&&!isAnimating),isOpening=(!isActive&&isAnimating);module.debug('Toggling visibility of content',$activeTitle);if(isOpen||isOpening){if(settings.collapsible){module.close.call($activeTitle);}
else{module.debug('Cannot close accordion content collapsing is disabled');}}
else{module.open.call($activeTitle);}},open:function(query){var
$activeTitle=(query!==undefined)?(typeof query==='number')?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpen=(isActive||isAnimating);if(isOpen){module.debug('Accordion already open, skipping',$activeContent);return;}
module.debug('Opening accordion content',$activeTitle);settings.onOpening.call($activeContent);settings.onChanging.call($activeContent);if(settings.exclusive){module.closeOthers.call($activeTitle);}
$activeTitle.addClass(className.active);$activeContent.stop(true,true).addClass(className.animating);if(settings.animateChildren){if($.fn.transition!==undefined&&$module.transition('is supported')){$activeContent.children().transition({animation:'fade in',queue:false,useFailSafe:true,debug:settings.debug,verbose:settings.verbose,duration:settings.duration,skipInlineHidden:true,onComplete:function(){$activeContent.children().removeClass(className.transition);}});}
else{$activeContent.children().stop(true,true).animate({opacity:1},settings.duration,module.resetOpacity);}}
$activeContent.slideDown(settings.duration,settings.easing,function(){$activeContent.removeClass(className.animating).addClass(className.active);module.reset.display.call(this);settings.onOpen.call(this);settings.onChange.call(this);});},close:function(query){var
$activeTitle=(query!==undefined)?(typeof query==='number')?$title.eq(query):$(query).closest(selector.title):$(this).closest(selector.title),$activeContent=$activeTitle.next($content),isAnimating=$activeContent.hasClass(className.animating),isActive=$activeContent.hasClass(className.active),isOpening=(!isActive&&isAnimating),isClosing=(isActive&&isAnimating);if((isActive||isOpening)&&!isClosing){module.debug('Closing accordion content',$activeContent);settings.onClosing.call($activeContent);settings.onChanging.call($activeContent);$activeTitle.removeClass(className.active);$activeContent.stop(true,true).addClass(className.animating);if(settings.animateChildren){if($.fn.transition!==undefined&&$module.transition('is supported')){$activeContent.children().transition({animation:'fade out',queue:false,useFailSafe:true,debug:settings.debug,verbose:settings.verbose,duration:settings.duration,skipInlineHidden:true});}
else{$activeContent.children().stop(true,true).animate({opacity:0},settings.duration,module.resetOpacity);}}
$activeContent.slideUp(settings.duration,settings.easing,function(){$activeContent.removeClass(className.animating).removeClass(className.active);module.reset.display.call(this);settings.onClose.call(this);settings.onChange.call(this);});}},closeOthers:function(index){var
$activeTitle=(index!==undefined)?$title.eq(index):$(this).closest(selector.title),$parentTitles=$activeTitle.parents(selector.content).prev(selector.title),$activeAccordion=$activeTitle.closest(selector.accordion),activeSelector=selector.title+'.'+className.active+':visible',activeContent=selector.content+'.'+className.active+':visible',$openTitles,$nestedTitles,$openContents;if(settings.closeNested){$openTitles=$activeAccordion.find(activeSelector).not($parentTitles);$openContents=$openTitles.next($content);}
else{$openTitles=$activeAccordion.find(activeSelector).not($parentTitles);$nestedTitles=$activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);$openTitles=$openTitles.not($nestedTitles);$openContents=$openTitles.next($content);}
if(($openTitles.length>0)){module.debug('Exclusive enabled, closing other content',$openTitles);$openTitles.removeClass(className.active);$openContents.removeClass(className.animating).stop(true,true);if(settings.animateChildren){if($.fn.transition!==undefined&&$module.transition('is supported')){$openContents.children().transition({animation:'fade out',useFailSafe:true,debug:settings.debug,verbose:settings.verbose,duration:settings.duration,skipInlineHidden:true});}
else{$openContents.children().stop(true,true).animate({opacity:0},settings.duration,module.resetOpacity);}}
$openContents.slideUp(settings.duration,settings.easing,function(){$(this).removeClass(className.active);module.reset.display.call(this);});}},reset:{display:function(){module.verbose('Removing inline display from element',this);$(this).css('display','');if($(this).attr('style')===''){$(this).attr('style','').removeAttr('style');}},opacity:function(){module.verbose('Removing inline opacity from element',this);$(this).css('opacity','');if($(this).attr('style')===''){$(this).attr('style','').removeAttr('style');}},},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){module.debug('Changing internal',name,value);if(value!==undefined){if($.isPlainObject(name)){$.extend(true,module,name);}
else{module[name]=value;}}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.accordion.settings={name:'Accordion',namespace:'accordion',silent:false,debug:false,verbose:false,performance:true,on:'click',observeChanges:true,exclusive:true,collapsible:true,closeNested:false,animateChildren:true,duration:350,easing:'easeOutQuad',onOpening:function(){},onClosing:function(){},onChanging:function(){},onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:'The method you called is not defined'},className:{active:'active',animating:'animating',transition:'transition'},selector:{accordion:'.accordion',title:'.title',trigger:'.title',content:'.content'}};$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;}});})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.calendar=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue,timeGapTable={'5':{'row':4,'column':3},'10':{'row':3,'column':2},'15':{'row':2,'column':2},'20':{'row':3,'column':1},'30':{'row':2,'column':1}},numberText=['','one','two','three','four','five','six','seven','eight'];$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.calendar.settings,parameters):$.extend({},$.fn.calendar.settings),className=settings.className,namespace=settings.namespace,selector=settings.selector,formatter=settings.formatter,parser=settings.parser,metadata=settings.metadata,timeGap=timeGapTable[settings.minTimeGap],error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$input=$module.find(selector.input),$container=$module.find(selector.popup),$activator=$module.find(selector.activator),element=this,instance=$module.data(moduleNamespace),isTouch,isTouchDown=false,isInverted=$module.hasClass(className.inverted),focusDateUsedForRange=false,selectionComplete=false,classObserver,module;module={initialize:function(){module.debug('Initializing calendar for',element,$module);isTouch=module.get.isTouch();module.setup.config();module.setup.popup();module.setup.inline();module.setup.input();module.setup.date();module.create.calendar();module.bind.events();module.observeChanges();module.instantiate();},instantiate:function(){module.verbose('Storing instance of calendar');instance=module;$module.data(moduleNamespace,instance);},destroy:function(){module.verbose('Destroying previous calendar for',element);$module.removeData(moduleNamespace);module.unbind.events();module.disconnect.classObserver();},setup:{config:function(){if(module.get.minDate()!==null){module.set.minDate($module.data(metadata.minDate));}
if(module.get.maxDate()!==null){module.set.maxDate($module.data(metadata.maxDate));}
module.setting('type',module.get.type());module.setting('on',settings.on||($input.length?'focus':'click'));},popup:function(){if(settings.inline){return;}
if(!$activator.length){$activator=$module.children().first();if(!$activator.length){return;}}
if($.fn.popup===undefined){module.error(error.popup);return;}
if(!$container.length){var $activatorParent=$activator.parent(),domPositionFunction=$activatorParent.closest(selector.append).length!==0?'appendTo':'prependTo';$container=$('<div/>').addClass(className.popup)[domPositionFunction]($activatorParent);}
$container.addClass(className.calendar);if(isInverted){$container.addClass(className.inverted);}
var onVisible=function(){module.refreshTooltips();return settings.onVisible.apply($container,arguments);};var onHidden=settings.onHidden;if(!$input.length){$container.attr('tabindex','0');onVisible=function(){module.refreshTooltips();module.focus();return settings.onVisible.apply($container,arguments);};onHidden=function(){module.blur();return settings.onHidden.apply($container,arguments);};}
var onShow=function(){module.set.focusDate(module.get.date());module.set.mode(module.get.validatedMode(settings.startMode));return settings.onShow.apply($container,arguments);};var on=module.setting('on');var options=$.extend({},settings.popupOptions,{popup:$container,on:on,hoverable:on==='hover',closable:on==='click',onShow:onShow,onVisible:onVisible,onHide:settings.onHide,onHidden:onHidden});module.popup(options);},inline:function(){if($activator.length&&!settings.inline){return;}
settings.inline=true;$container=$('<div/>').addClass(className.calendar).appendTo($module);if(!$input.length){$container.attr('tabindex','0');}},input:function(){if(settings.touchReadonly&&$input.length&&isTouch){$input.prop('readonly',true);}
module.check.disabled();},date:function(){var date;if(settings.initialDate){date=parser.date(settings.initialDate,settings);}else if($module.data(metadata.date)!==undefined){date=parser.date($module.data(metadata.date),settings);}else if($input.length){date=parser.date($input.val(),settings);}
module.set.date(date,settings.formatInput,false);module.set.mode(module.get.mode(),false);}},trigger:{change:function(){var
inputElement=$input[0];if(inputElement){var events=document.createEvent('HTMLEvents');module.verbose('Triggering native change event');events.initEvent('change',true,false);inputElement.dispatchEvent(events);}}},create:{calendar:function(){var i,r,c,p,row,cell,pageGrid;var
mode=module.get.mode(),today=new Date(),date=module.get.date(),focusDate=module.get.focusDate(),display=module.helper.dateInRange(focusDate||date||settings.initialDate||today);if(!focusDate){focusDate=display;module.set.focusDate(focusDate,false,false);}
var
isYear=mode==='year',isMonth=mode==='month',isDay=mode==='day',isHour=mode==='hour',isMinute=mode==='minute',isTimeOnly=settings.type==='time';var multiMonth=Math.max(settings.multiMonth,1);var monthOffset=!isDay?0:module.get.monthOffset();var
minute=display.getMinutes(),hour=display.getHours(),day=display.getDate(),startMonth=display.getMonth()+monthOffset,year=display.getFullYear();var columns=isDay?settings.showWeekNumbers?8:7:isHour?4:timeGap['column'];var rows=isDay||isHour?6:timeGap['row'];var pages=isDay?multiMonth:1;var container=$container;var tooltipPosition=container.hasClass("left")?"right center":"left center";container.empty();if(pages>1){pageGrid=$('<div/>').addClass(className.grid).appendTo(container);}
for(p=0;p<pages;p++){if(pages>1){var pageColumn=$('<div/>').addClass(className.column).appendTo(pageGrid);container=pageColumn;}
var month=startMonth+p;var firstMonthDayColumn=(new Date(year,month,1).getDay()-settings.firstDayOfWeek%7+7)%7;if(!settings.constantHeight&&isDay){var requiredCells=new Date(year,month+1,0).getDate()+firstMonthDayColumn;rows=Math.ceil(requiredCells/7);}
var
yearChange=isYear?10:isMonth?1:0,monthChange=isDay?1:0,dayChange=isHour||isMinute?1:0,prevNextDay=isHour||isMinute?day:1,prevDate=new Date(year-yearChange,month-monthChange,prevNextDay-dayChange,hour),nextDate=new Date(year+yearChange,month+monthChange,prevNextDay+dayChange,hour),prevLast=isYear?new Date(Math.ceil(year/10)*10-9,0,0):isMonth?new Date(year,0,0):isDay?new Date(year,month,0):new Date(year,month,day,-1),nextFirst=isYear?new Date(Math.ceil(year/10)*10+1,0,1):isMonth?new Date(year+1,0,1):isDay?new Date(year,month+1,1):new Date(year,month,day+1);var tempMode=mode;if(isDay&&settings.showWeekNumbers){tempMode+=' andweek';}
var table=$('<table/>').addClass(className.table).addClass(tempMode).addClass(numberText[columns]+' column').appendTo(container);if(isInverted){table.addClass(className.inverted);}
var textColumns=columns;if(!isTimeOnly){var thead=$('<thead/>').appendTo(table);row=$('<tr/>').appendTo(thead);cell=$('<th/>').attr('colspan',''+columns).appendTo(row);var headerDate=isYear||isMonth?new Date(year,0,1):isDay?new Date(year,month,1):new Date(year,month,day,hour,minute);var headerText=$('<span/>').addClass(className.link).appendTo(cell);headerText.text(formatter.header(headerDate,mode,settings));var newMode=isMonth?(settings.disableYear?'day':'year'):isDay?(settings.disableMonth?'year':'month'):'day';headerText.data(metadata.mode,newMode);if(p===0){var prev=$('<span/>').addClass(className.prev).appendTo(cell);prev.data(metadata.focusDate,prevDate);prev.toggleClass(className.disabledCell,!module.helper.isDateInRange(prevLast,mode));$('<i/>').addClass(className.prevIcon).appendTo(prev);}
if(p===pages-1){var next=$('<span/>').addClass(className.next).appendTo(cell);next.data(metadata.focusDate,nextDate);next.toggleClass(className.disabledCell,!module.helper.isDateInRange(nextFirst,mode));$('<i/>').addClass(className.nextIcon).appendTo(next);}
if(isDay){row=$('<tr/>').appendTo(thead);if(settings.showWeekNumbers){cell=$('<th/>').appendTo(row);cell.text(settings.text.weekNo);cell.addClass(className.weekCell);textColumns--;}
for(i=0;i<textColumns;i++){cell=$('<th/>').appendTo(row);cell.text(formatter.dayColumnHeader((i+settings.firstDayOfWeek)%7,settings));}}}
var tbody=$('<tbody/>').appendTo(table);i=isYear?Math.ceil(year/10)*10-9:isDay?1-firstMonthDayColumn:0;for(r=0;r<rows;r++){row=$('<tr/>').appendTo(tbody);if(isDay&&settings.showWeekNumbers){cell=$('<th/>').appendTo(row);cell.text(module.get.weekOfYear(year,month,i+1-settings.firstDayOfWeek));cell.addClass(className.weekCell);}
for(c=0;c<textColumns;c++,i++){var cellDate=isYear?new Date(i,month,1,hour,minute):isMonth?new Date(year,i,1,hour,minute):isDay?new Date(year,month,i,hour,minute):isHour?new Date(year,month,day,i):new Date(year,month,day,hour,i*settings.minTimeGap);var cellText=isYear?i:isMonth?settings.text.monthsShort[i]:isDay?cellDate.getDate():formatter.time(cellDate,settings,true);cell=$('<td/>').addClass(className.cell).appendTo(row);cell.text(cellText);cell.data(metadata.date,cellDate);var adjacent=isDay&&cellDate.getMonth()!==((month+12)%12);var disabled=(!settings.selectAdjacentDays&&adjacent)||!module.helper.isDateInRange(cellDate,mode)||settings.isDisabled(cellDate,mode)||module.helper.isDisabled(cellDate,mode)||!module.helper.isEnabled(cellDate,mode);if(disabled){var disabledDate=module.helper.findDayAsObject(cellDate,mode,settings.disabledDates);if(disabledDate!==null&&disabledDate[metadata.message]){cell.attr("data-tooltip",disabledDate[metadata.message]);cell.attr("data-position",disabledDate[metadata.position]||tooltipPosition);if(disabledDate[metadata.inverted]||(isInverted&&disabledDate[metadata.inverted]===undefined)){cell.attr("data-inverted",'');}
if(disabledDate[metadata.variation]){cell.attr("data-variation",disabledDate[metadata.variation]);}}}else{var eventDate=module.helper.findDayAsObject(cellDate,mode,settings.eventDates);if(eventDate!==null){cell.addClass(eventDate[metadata.class]||settings.eventClass);if(eventDate[metadata.message]){cell.attr("data-tooltip",eventDate[metadata.message]);cell.attr("data-position",eventDate[metadata.position]||tooltipPosition);if(eventDate[metadata.inverted]||(isInverted&&eventDate[metadata.inverted]===undefined)){cell.attr("data-inverted",'');}
if(eventDate[metadata.variation]){cell.attr("data-variation",eventDate[metadata.variation]);}}}}
var active=module.helper.dateEqual(cellDate,date,mode);var isToday=module.helper.dateEqual(cellDate,today,mode);cell.toggleClass(className.adjacentCell,adjacent);cell.toggleClass(className.disabledCell,disabled);cell.toggleClass(className.activeCell,active&&!adjacent);if(!isHour&&!isMinute){cell.toggleClass(className.todayCell,!adjacent&&isToday);}
var cellOptions={mode:mode,adjacent:adjacent,disabled:disabled,active:active,today:isToday};formatter.cell(cell,cellDate,cellOptions);if(module.helper.dateEqual(cellDate,focusDate,mode)){module.set.focusDate(cellDate,false,false);}}}
if(settings.today){var todayRow=$('<tr/>').appendTo(tbody);var todayButton=$('<td/>').attr('colspan',''+columns).addClass(className.today).appendTo(todayRow);todayButton.text(formatter.today(settings));todayButton.data(metadata.date,today);}
module.update.focus(false,table);if(settings.inline){module.refreshTooltips();}}}},update:{focus:function(updateRange,container){container=container||$container;var mode=module.get.mode();var date=module.get.date();var focusDate=module.get.focusDate();var startDate=module.get.startDate();var endDate=module.get.endDate();var rangeDate=(updateRange?focusDate:null)||date||(!isTouch?focusDate:null);container.find('td').each(function(){var cell=$(this);var cellDate=cell.data(metadata.date);if(!cellDate){return;}
var disabled=cell.hasClass(className.disabledCell);var active=cell.hasClass(className.activeCell);var adjacent=cell.hasClass(className.adjacentCell);var focused=module.helper.dateEqual(cellDate,focusDate,mode);var inRange=!rangeDate?false:((!!startDate&&module.helper.isDateInRange(cellDate,mode,startDate,rangeDate))||(!!endDate&&module.helper.isDateInRange(cellDate,mode,rangeDate,endDate)));cell.toggleClass(className.focusCell,focused&&(!isTouch||isTouchDown)&&(!adjacent||(settings.selectAdjacentDays&&adjacent))&&!disabled);if(module.helper.isTodayButton(cell)){return;}
cell.toggleClass(className.rangeCell,inRange&&!active&&!disabled);});}},refresh:function(){module.create.calendar();},refreshTooltips:function(){var winWidth=$(window).width();$container.find('td[data-position]').each(function(){var cell=$(this);var tooltipWidth=window.getComputedStyle(cell[0],':after').width.replace(/[^0-9\.]/g,'');var tooltipPosition=cell.attr('data-position');var calcPosition=(winWidth-cell.width()-(parseInt(tooltipWidth,10)||250))>cell.offset().left?'right':'left';if(tooltipPosition.indexOf(calcPosition)===-1){cell.attr('data-position',tooltipPosition.replace(/(left|right)/,calcPosition));}});},bind:{events:function(){module.debug('Binding events');$container.on('mousedown'+eventNamespace,module.event.mousedown);$container.on('touchstart'+eventNamespace,module.event.mousedown);$container.on('mouseup'+eventNamespace,module.event.mouseup);$container.on('touchend'+eventNamespace,module.event.mouseup);$container.on('mouseover'+eventNamespace,module.event.mouseover);if($input.length){$input.on('input'+eventNamespace,module.event.inputChange);$input.on('focus'+eventNamespace,module.event.inputFocus);$input.on('blur'+eventNamespace,module.event.inputBlur);$input.on('keydown'+eventNamespace,module.event.keydown);}else{$container.on('keydown'+eventNamespace,module.event.keydown);}}},unbind:{events:function(){module.debug('Unbinding events');$container.off(eventNamespace);if($input.length){$input.off(eventNamespace);}}},event:{mouseover:function(event){var target=$(event.target);var date=target.data(metadata.date);var mousedown=event.buttons===1;if(date){module.set.focusDate(date,false,true,mousedown);}},mousedown:function(event){if($input.length){event.preventDefault();}
isTouchDown=event.type.indexOf('touch')>=0;var target=$(event.target);var date=target.data(metadata.date);if(date){module.set.focusDate(date,false,true,true);}},mouseup:function(event){module.focus();event.preventDefault();event.stopPropagation();isTouchDown=false;var target=$(event.target);if(target.hasClass("disabled")){return;}
var parent=target.parent();if(parent.data(metadata.date)||parent.data(metadata.focusDate)||parent.data(metadata.mode)){target=parent;}
var date=target.data(metadata.date);var focusDate=target.data(metadata.focusDate);var mode=target.data(metadata.mode);if(date&&settings.onSelect.call(element,date,module.get.mode())!==false){var forceSet=target.hasClass(className.today);module.selectDate(date,forceSet);}
else if(focusDate){module.set.focusDate(focusDate);}
else if(mode){module.set.mode(mode);}},keydown:function(event){var keyCode=event.which;if(keyCode===27||keyCode===9){module.popup('hide');}
if(module.popup('is visible')){if(keyCode===37||keyCode===38||keyCode===39||keyCode===40){var mode=module.get.mode();var bigIncrement=mode==='day'?7:mode==='hour'?4:mode==='minute'?timeGap['column']:3;var increment=keyCode===37?-1:keyCode===38?-bigIncrement:keyCode==39?1:bigIncrement;increment*=mode==='minute'?settings.minTimeGap:1;var focusDate=module.get.focusDate()||module.get.date()||new Date();var year=focusDate.getFullYear()+(mode==='year'?increment:0);var month=focusDate.getMonth()+(mode==='month'?increment:0);var day=focusDate.getDate()+(mode==='day'?increment:0);var hour=focusDate.getHours()+(mode==='hour'?increment:0);var minute=focusDate.getMinutes()+(mode==='minute'?increment:0);var newFocusDate=new Date(year,month,day,hour,minute);if(settings.type==='time'){newFocusDate=module.helper.mergeDateTime(focusDate,newFocusDate);}
if(module.helper.isDateInRange(newFocusDate,mode)){module.set.focusDate(newFocusDate);}}else if(keyCode===13){var mode=module.get.mode();var date=module.get.focusDate();if(date&&!settings.isDisabled(date,mode)&&!module.helper.isDisabled(date,mode)&&module.helper.isEnabled(date,mode)){module.selectDate(date);}
event.preventDefault();event.stopPropagation();}}
if(keyCode===38||keyCode===40){event.preventDefault();module.popup('show');}},inputChange:function(){var val=$input.val();var date=parser.date(val,settings);module.set.date(date,false);},inputFocus:function(){$container.addClass(className.active);},inputBlur:function(){$container.removeClass(className.active);if(settings.formatInput){var date=module.get.date();var text=formatter.datetime(date,settings);$input.val(text);}
if(selectionComplete){module.trigger.change();selectionComplete=false;}},class:{mutation:function(mutations){mutations.forEach(function(mutation){if(mutation.attributeName==="class"){module.check.disabled();}});}}},observeChanges:function(){if('MutationObserver'in window){classObserver=new MutationObserver(module.event.class.mutation);module.debug('Setting up mutation observer',classObserver);module.observe.class();}},disconnect:{classObserver:function(){if($input.length&&classObserver){classObserver.disconnect();}}},observe:{class:function(){if($input.length&&classObserver){classObserver.observe($module[0],{attributes:true});}}},is:{disabled:function(){return $module.hasClass(className.disabled);}},check:{disabled:function(){$input.attr('tabindex',module.is.disabled()?-1:0);}},get:{weekOfYear:function(weekYear,weekMonth,weekDay){var ms1d=864e5,ms7d=7*ms1d;return function(){var DC3=Date.UTC(weekYear,weekMonth,weekDay+3)/ms1d,AWN=Math.floor(DC3/7),Wyr=new Date(AWN*ms7d).getUTCFullYear();return AWN-Math.floor(Date.UTC(Wyr,0,7)/ms7d)+1;}();},date:function(){return module.helper.sanitiseDate($module.data(metadata.date))||null;},inputDate:function(){return $input.val();},focusDate:function(){return $module.data(metadata.focusDate)||null;},startDate:function(){var startModule=module.get.calendarModule(settings.startCalendar);return(startModule?startModule.get.date():$module.data(metadata.startDate))||null;},endDate:function(){var endModule=module.get.calendarModule(settings.endCalendar);return(endModule?endModule.get.date():$module.data(metadata.endDate))||null;},minDate:function(){return $module.data(metadata.minDate)||null;},maxDate:function(){return $module.data(metadata.maxDate)||null;},monthOffset:function(){return $module.data(metadata.monthOffset)||0;},mode:function(){var mode=$module.data(metadata.mode)||settings.startMode;return module.get.validatedMode(mode);},validatedMode:function(mode){var validModes=module.get.validModes();if($.inArray(mode,validModes)>=0){return mode;}
return settings.type==='time'?'hour':settings.type==='month'?'month':settings.type==='year'?'year':'day';},type:function(){return $module.data(metadata.type)||settings.type;},validModes:function(){var validModes=[];if(settings.type!=='time'){if(!settings.disableYear||settings.type==='year'){validModes.push('year');}
if(!(settings.disableMonth||settings.type==='year')||settings.type==='month'){validModes.push('month');}
if(settings.type.indexOf('date')>=0){validModes.push('day');}}
if(settings.type.indexOf('time')>=0){validModes.push('hour');if(!settings.disableMinute){validModes.push('minute');}}
return validModes;},isTouch:function(){try{document.createEvent('TouchEvent');return true;}
catch(e){return false;}},calendarModule:function(selector){if(!selector){return null;}
if(!(selector instanceof $)){selector=$(selector).first();}
return selector.data(moduleNamespace);}},set:{date:function(date,updateInput,fireChange){updateInput=updateInput!==false;fireChange=fireChange!==false;date=module.helper.sanitiseDate(date);date=module.helper.dateInRange(date);var mode=module.get.mode();var text=formatter.datetime(date,settings);if(fireChange&&settings.onBeforeChange.call(element,date,text,mode)===false){return false;}
module.set.focusDate(date);if(settings.isDisabled(date,mode)){return false;}
var endDate=module.get.endDate();if(!!endDate&&!!date&&date>endDate){module.set.endDate(undefined);}
module.set.dataKeyValue(metadata.date,date);if(updateInput&&$input.length){$input.val(text);}
if(fireChange){settings.onChange.call(element,date,text,mode);}},startDate:function(date,refreshCalendar){date=module.helper.sanitiseDate(date);var startModule=module.get.calendarModule(settings.startCalendar);if(startModule){startModule.set.date(date);}
module.set.dataKeyValue(metadata.startDate,date,refreshCalendar);},endDate:function(date,refreshCalendar){date=module.helper.sanitiseDate(date);var endModule=module.get.calendarModule(settings.endCalendar);if(endModule){endModule.set.date(date);}
module.set.dataKeyValue(metadata.endDate,date,refreshCalendar);},focusDate:function(date,refreshCalendar,updateFocus,updateRange){date=module.helper.sanitiseDate(date);date=module.helper.dateInRange(date);var isDay=module.get.mode()==='day';var oldFocusDate=module.get.focusDate();if(isDay&&date&&oldFocusDate){var yearDelta=date.getFullYear()-oldFocusDate.getFullYear();var monthDelta=yearDelta*12+date.getMonth()-oldFocusDate.getMonth();if(monthDelta){var monthOffset=module.get.monthOffset()-monthDelta;module.set.monthOffset(monthOffset,false);}}
var changed=module.set.dataKeyValue(metadata.focusDate,date,!!date&&refreshCalendar);updateFocus=(updateFocus!==false&&changed&&refreshCalendar===false)||focusDateUsedForRange!=updateRange;focusDateUsedForRange=updateRange;if(updateFocus){module.update.focus(updateRange);}},minDate:function(date){date=module.helper.sanitiseDate(date);if(settings.maxDate!==null&&settings.maxDate<=date){module.verbose('Unable to set minDate variable bigger that maxDate variable',date,settings.maxDate);}else{module.setting('minDate',date);module.set.dataKeyValue(metadata.minDate,date);}},maxDate:function(date){date=module.helper.sanitiseDate(date);if(settings.minDate!==null&&settings.minDate>=date){module.verbose('Unable to set maxDate variable lower that minDate variable',date,settings.minDate);}else{module.setting('maxDate',date);module.set.dataKeyValue(metadata.maxDate,date);}},monthOffset:function(monthOffset,refreshCalendar){var multiMonth=Math.max(settings.multiMonth,1);monthOffset=Math.max(1-multiMonth,Math.min(0,monthOffset));module.set.dataKeyValue(metadata.monthOffset,monthOffset,refreshCalendar);},mode:function(mode,refreshCalendar){module.set.dataKeyValue(metadata.mode,mode,refreshCalendar);},dataKeyValue:function(key,value,refreshCalendar){var oldValue=$module.data(key);var equal=oldValue===value||(oldValue<=value&&oldValue>=value);if(value){$module.data(key,value);}else{$module.removeData(key);}
refreshCalendar=refreshCalendar!==false&&!equal;if(refreshCalendar){module.refresh();}
return!equal;}},selectDate:function(date,forceSet){module.verbose('New date selection',date);var mode=module.get.mode();var complete=forceSet||mode==='minute'||(settings.disableMinute&&mode==='hour')||(settings.type==='date'&&mode==='day')||(settings.type==='month'&&mode==='month')||(settings.type==='year'&&mode==='year');if(complete){var canceled=module.set.date(date)===false;if(!canceled){selectionComplete=true;if(settings.closable){module.popup('hide');var endModule=module.get.calendarModule(settings.endCalendar);if(endModule){if(endModule.setting('on')!=='focus'){endModule.popup('show');}
endModule.focus();}}}}else{var newMode=mode==='year'?(!settings.disableMonth?'month':'day'):mode==='month'?'day':mode==='day'?'hour':'minute';module.set.mode(newMode);if(mode==='hour'||(mode==='day'&&module.get.date())){module.set.date(date,true,false);}else{module.set.focusDate(date);}}},changeDate:function(date){module.set.date(date);},clear:function(){module.set.date(undefined);},popup:function(){return $activator.popup.apply($activator,arguments);},focus:function(){if($input.length){$input.focus();}else{$container.focus();}},blur:function(){if($input.length){$input.blur();}else{$container.blur();}},helper:{isDisabled:function(date,mode){return(mode==='day'||mode==='month'||mode==='year')&&((settings.disabledDaysOfWeek.indexOf(date.getDay())!==-1)||settings.disabledDates.some(function(d){if(typeof d==='string'){d=module.helper.sanitiseDate(d);}
if(d instanceof Date){return module.helper.dateEqual(date,d,mode);}
if(d!==null&&typeof d==='object'){if(d[metadata.year]){if(typeof d[metadata.year]==='number'){return date.getFullYear()==d[metadata.year];}else if(Array.isArray(d[metadata.year])){return d[metadata.year].indexOf(date.getFullYear())>-1;}}else if(d[metadata.month]){if(typeof d[metadata.month]==='number'){return date.getMonth()==d[metadata.month];}else if(Array.isArray(d[metadata.month])){return d[metadata.month].indexOf(date.getMonth())>-1;}else if(d[metadata.month]instanceof Date){var sdate=module.helper.sanitiseDate(d[metadata.month]);return(date.getMonth()==sdate.getMonth())&&(date.getFullYear()==sdate.getFullYear())}}else if(d[metadata.date]&&mode==='day'){if(d[metadata.date]instanceof Date){return module.helper.dateEqual(date,module.helper.sanitiseDate(d[metadata.date]),mode);}else if(Array.isArray(d[metadata.date])){return d[metadata.date].some(function(idate){return module.helper.dateEqual(date,idate,mode);});}}}}));},isEnabled:function(date,mode){if(mode==='day'){return settings.enabledDates.length===0||settings.enabledDates.some(function(d){if(typeof d==='string'){d=module.helper.sanitiseDate(d);}
if(d instanceof Date){return module.helper.dateEqual(date,d,mode);}
if(d!==null&&typeof d==='object'&&d[metadata.date]){return module.helper.dateEqual(date,module.helper.sanitiseDate(d[metadata.date]),mode);}});}else{return true;}},findDayAsObject:function(date,mode,dates){if(mode==='day'||mode==='month'||mode==='year'){var d;for(var i=0;i<dates.length;i++){d=dates[i];if(typeof d==='string'){d=module.helper.sanitiseDate(d);}
if(d instanceof Date&&module.helper.dateEqual(date,d,mode)){var dateObject={};dateObject[metadata.date]=d;return dateObject;}
else if(d!==null&&typeof d==='object'){if(d[metadata.year]){if(typeof d[metadata.year]==='number'&&date.getFullYear()==d[metadata.year]){return d;}else if(Array.isArray(d[metadata.year])){if(d[metadata.year].indexOf(date.getFullYear())>-1){return d;}}}else if(d[metadata.month]){if(typeof d[metadata.month]==='number'&&date.getMonth()==d[metadata.month]){return d;}else if(Array.isArray(d[metadata.month])){if(d[metadata.month].indexOf(date.getMonth())>-1){return d;}}else if(d[metadata.month]instanceof Date){var sdate=module.helper.sanitiseDate(d[metadata.month]);if((date.getMonth()==sdate.getMonth())&&(date.getFullYear()==sdate.getFullYear())){return d;}}}else if(d[metadata.date]&&mode==='day'){if(d[metadata.date]instanceof Date&&module.helper.dateEqual(date,module.helper.sanitiseDate(d[metadata.date]),mode)){return d;}else if(Array.isArray(d[metadata.date])){if(d[metadata.date].some(function(idate){return module.helper.dateEqual(date,idate,mode);})){return d;}}}}}}
return null;},sanitiseDate:function(date){if(!date){return undefined;}
if(!(date instanceof Date)){date=parser.date(''+date,settings);}
if(!date||date===null||isNaN(date.getTime())){return undefined;}
return date;},dateDiff:function(date1,date2,mode){mode=mode||'day';var isTimeOnly=settings.type==='time';var isYear=mode==='year';var isYearOrMonth=isYear||mode==='month';var isMinute=mode==='minute';var isHourOrMinute=isMinute||mode==='hour';date1=new Date(isTimeOnly?2000:date1.getFullYear(),isTimeOnly?0:isYear?0:date1.getMonth(),isTimeOnly?1:isYearOrMonth?1:date1.getDate(),!isHourOrMinute?0:date1.getHours(),!isMinute?0:settings.minTimeGap*Math.floor(date1.getMinutes()/settings.minTimeGap));date2=new Date(isTimeOnly?2000:date2.getFullYear(),isTimeOnly?0:isYear?0:date2.getMonth(),isTimeOnly?1:isYearOrMonth?1:date2.getDate(),!isHourOrMinute?0:date2.getHours(),!isMinute?0:settings.minTimeGap*Math.floor(date2.getMinutes()/settings.minTimeGap));return date2.getTime()-date1.getTime();},dateEqual:function(date1,date2,mode){return!!date1&&!!date2&&module.helper.dateDiff(date1,date2,mode)===0;},isDateInRange:function(date,mode,minDate,maxDate){if(!minDate&&!maxDate){var startDate=module.get.startDate();minDate=startDate&&settings.minDate?new Date(Math.max(startDate,settings.minDate)):startDate||settings.minDate;maxDate=settings.maxDate;}
minDate=minDate&&new Date(minDate.getFullYear(),minDate.getMonth(),minDate.getDate(),minDate.getHours(),settings.minTimeGap*Math.ceil(minDate.getMinutes()/settings.minTimeGap));return!(!date||(minDate&&module.helper.dateDiff(date,minDate,mode)>0)||(maxDate&&module.helper.dateDiff(maxDate,date,mode)>0));},dateInRange:function(date,minDate,maxDate){if(!minDate&&!maxDate){var startDate=module.get.startDate();minDate=startDate&&settings.minDate?new Date(Math.max(startDate,settings.minDate)):startDate||settings.minDate;maxDate=settings.maxDate;}
minDate=minDate&&new Date(minDate.getFullYear(),minDate.getMonth(),minDate.getDate(),minDate.getHours(),settings.minTimeGap*Math.ceil(minDate.getMinutes()/settings.minTimeGap));var isTimeOnly=settings.type==='time';return!date?date:(minDate&&module.helper.dateDiff(date,minDate,'minute')>0)?(isTimeOnly?module.helper.mergeDateTime(date,minDate):minDate):(maxDate&&module.helper.dateDiff(maxDate,date,'minute')>0)?(isTimeOnly?module.helper.mergeDateTime(date,maxDate):maxDate):date;},mergeDateTime:function(date,time){return(!date||!time)?time:new Date(date.getFullYear(),date.getMonth(),date.getDate(),time.getHours(),time.getMinutes());},isTodayButton:function(element){return element.text()===settings.text.today;}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.calendar.settings={name:'Calendar',namespace:'calendar',silent:false,debug:false,verbose:false,performance:false,type:'datetime',firstDayOfWeek:0,constantHeight:true,today:false,closable:true,monthFirst:true,touchReadonly:true,inline:false,on:null,initialDate:null,startMode:false,minDate:null,maxDate:null,ampm:true,disableYear:false,disableMonth:false,disableMinute:false,formatInput:true,startCalendar:null,endCalendar:null,multiMonth:1,minTimeGap:5,showWeekNumbers:null,disabledDates:[],disabledDaysOfWeek:[],enabledDates:[],eventDates:[],centuryBreak:60,currentCentury:2000,selectAdjacentDays:false,popupOptions:{position:'bottom left',lastResort:'bottom left',prefer:'opposite',hideOnScroll:false},text:{days:['S','M','T','W','T','F','S'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],today:'Today',now:'Now',am:'AM',pm:'PM',weekNo:'Week'},formatter:{header:function(date,mode,settings){return mode==='year'?settings.formatter.yearHeader(date,settings):mode==='month'?settings.formatter.monthHeader(date,settings):mode==='day'?settings.formatter.dayHeader(date,settings):mode==='hour'?settings.formatter.hourHeader(date,settings):settings.formatter.minuteHeader(date,settings);},yearHeader:function(date,settings){var decadeYear=Math.ceil(date.getFullYear()/10)*10;return(decadeYear-9)+' - '+(decadeYear+2);},monthHeader:function(date,settings){return date.getFullYear();},dayHeader:function(date,settings){var month=settings.text.months[date.getMonth()];var year=date.getFullYear();return month+' '+year;},hourHeader:function(date,settings){return settings.formatter.date(date,settings);},minuteHeader:function(date,settings){return settings.formatter.date(date,settings);},dayColumnHeader:function(day,settings){return settings.text.days[day];},datetime:function(date,settings){if(!date){return'';}
var day=settings.type==='time'?'':settings.formatter.date(date,settings);var time=settings.type.indexOf('time')<0?'':settings.formatter.time(date,settings,false);var separator=settings.type==='datetime'?' ':'';return day+separator+time;},date:function(date,settings){if(!date){return'';}
var day=date.getDate();var month=settings.text.months[date.getMonth()];var year=date.getFullYear();return settings.type==='year'?year:settings.type==='month'?month+' '+year:(settings.monthFirst?month+' '+day:day+' '+month)+', '+year;},time:function(date,settings,forCalendar){if(!date){return'';}
var hour=date.getHours();var minute=date.getMinutes();var ampm='';if(settings.ampm){ampm=' '+(hour<12?settings.text.am:settings.text.pm);hour=hour===0?12:hour>12?hour-12:hour;}
return hour+':'+(minute<10?'0':'')+minute+ampm;},today:function(settings){return settings.type==='date'?settings.text.today:settings.text.now;},cell:function(cell,date,cellOptions){}},parser:{date:function(text,settings){if(text instanceof Date){return text;}
if(!text){return null;}
text=String(text).trim();if(text.length===0){return null;}
if(text.match(/^[0-9]{4}[\/\-\.][0-9]{2}[\/\-\.][0-9]{2}$/)){text=text.replace(/[\/\-\.]/g,'/')+' 00:00:00';}
text=settings.monthFirst||!text.match(/^[0-9]{2}[\/\-\.]/)?text:text.replace(/[\/\-\.]/g,'/').replace(/([0-9]+)\/([0-9]+)/,'$2/$1');var textDate=new Date(text);var numberOnly=text.match(/^[0-9]+$/)!==null;if(!numberOnly&&!isNaN(textDate.getDate())){return textDate;}
text=text.toLowerCase();var i,j,k;var minute=-1,hour=-1,day=-1,month=-1,year=-1;var isAm=undefined;var isTimeOnly=settings.type==='time';var isDateOnly=settings.type.indexOf('time')<0;var words=text.split(settings.regExp.dateWords),word;var numbers=text.split(settings.regExp.dateNumbers),number;var parts;var monthString;if(!isDateOnly){isAm=$.inArray(settings.text.am.toLowerCase(),words)>=0?true:$.inArray(settings.text.pm.toLowerCase(),words)>=0?false:undefined;for(i=0;i<numbers.length;i++){number=numbers[i];if(number.indexOf(':')>=0){if(hour<0||minute<0){parts=number.split(':');for(k=0;k<Math.min(2,parts.length);k++){j=parseInt(parts[k]);if(isNaN(j)){j=0;}
if(k===0){hour=j%24;}else{minute=j%60;}}}
numbers.splice(i,1);}}}
if(!isTimeOnly){for(i=0;i<words.length;i++){word=words[i];if(word.length<=0){continue;}
for(j=0;j<settings.text.months.length;j++){monthString=settings.text.months[j];monthString=monthString.substring(0,word.length).toLowerCase();if(monthString===word){month=j+1;break;}}
if(month>=0){break;}}
for(i=0;i<numbers.length;i++){j=parseInt(numbers[i]);if(isNaN(j)){continue;}
if(j>=settings.centuryBreak&&i===numbers.length-1){if(j<=99){j+=settings.currentCentury-100;}
year=j;numbers.splice(i,1);break;}}
if(month<0){for(i=0;i<numbers.length;i++){k=i>1||settings.monthFirst?i:i===1?0:1;j=parseInt(numbers[k]);if(isNaN(j)){continue;}
if(1<=j&&j<=12){month=j;numbers.splice(k,1);break;}}}
for(i=0;i<numbers.length;i++){j=parseInt(numbers[i]);if(isNaN(j)){continue;}
if(1<=j&&j<=31){day=j;numbers.splice(i,1);break;}}
if(year<0){for(i=numbers.length-1;i>=0;i--){j=parseInt(numbers[i]);if(isNaN(j)){continue;}
if(j<=99){j+=settings.currentCentury;}
year=j;numbers.splice(i,1);break;}}}
if(!isDateOnly){if(hour<0){for(i=0;i<numbers.length;i++){j=parseInt(numbers[i]);if(isNaN(j)){continue;}
if(0<=j&&j<=23){hour=j;numbers.splice(i,1);break;}}}
if(minute<0){for(i=0;i<numbers.length;i++){j=parseInt(numbers[i]);if(isNaN(j)){continue;}
if(0<=j&&j<=59){minute=j;numbers.splice(i,1);break;}}}}
if(minute<0&&hour<0&&day<0&&month<0&&year<0){return null;}
if(minute<0){minute=0;}
if(hour<0){hour=0;}
if(day<0){day=1;}
if(month<0){month=1;}
if(year<0){year=new Date().getFullYear();}
if(isAm!==undefined){if(isAm){if(hour===12){hour=0;}}else if(hour<12){hour+=12;}}
var date=new Date(year,month-1,day,hour,minute);if(date.getMonth()!==month-1||date.getFullYear()!==year){date=new Date(year,month,0,hour,minute);}
return isNaN(date.getTime())?null:date;}},onBeforeChange:function(date,text,mode){return true;},onChange:function(date,text,mode){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},onSelect:function(date,mode){},isDisabled:function(date,mode){return false;},selector:{popup:'.ui.popup',input:'input',activator:'input',append:'.inline.field,.inline.fields'},regExp:{dateWords:/[^A-Za-z\u00C0-\u024F]+/g,dateNumbers:/[^\d:]+/g},error:{popup:'UI Popup, a required component is not included in this page',method:'The method you called is not defined.'},className:{calendar:'calendar',active:'active',popup:'ui popup',grid:'ui equal width grid',column:'column',table:'ui celled center aligned unstackable table',inverted:'inverted',prev:'prev link',next:'next link',prevIcon:'chevron left icon',nextIcon:'chevron right icon',link:'link',cell:'link',disabledCell:'disabled',weekCell:'disabled',adjacentCell:'adjacent',activeCell:'active',rangeCell:'range',focusCell:'focus',todayCell:'today',today:'today link',disabled:'disabled'},metadata:{date:'date',focusDate:'focusDate',startDate:'startDate',endDate:'endDate',minDate:'minDate',maxDate:'maxDate',mode:'mode',type:'type',monthOffset:'monthOffset',message:'message',class:'class',inverted:'inverted',variation:'variation',position:'position',month:'month',year:'year'},eventClass:'blue'};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.checkbox=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=$.extend(true,{},$.fn.checkbox.settings,parameters),className=settings.className,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$label=$(this).children(selector.label),$input=$(this).children(selector.input),input=$input[0],initialLoad=false,shortcutPressed=false,instance=$module.data(moduleNamespace),observer,element=this,module;module={initialize:function(){module.verbose('Initializing checkbox',settings);module.create.label();module.bind.events();module.set.tabbable();module.hide.input();module.observeChanges();module.instantiate();module.setup();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying module');module.unbind.events();module.show.input();$module.removeData(moduleNamespace);},fix:{reference:function(){if($module.is(selector.input)){module.debug('Behavior called on <input> adjusting invoked element');$module=$module.closest(selector.checkbox);module.refresh();}}},setup:function(){module.set.initialLoad();if(module.is.indeterminate()){module.debug('Initial value is indeterminate');module.indeterminate();}
else if(module.is.checked()){module.debug('Initial value is checked');module.check();}
else{module.debug('Initial value is unchecked');module.uncheck();}
module.remove.initialLoad();},refresh:function(){$label=$module.children(selector.label);$input=$module.children(selector.input);input=$input[0];},hide:{input:function(){module.verbose('Modifying <input> z-index to be unselectable');$input.addClass(className.hidden);}},show:{input:function(){module.verbose('Modifying <input> z-index to be selectable');$input.removeClass(className.hidden);}},observeChanges:function(){if('MutationObserver'in window){observer=new MutationObserver(function(mutations){module.debug('DOM tree modified, updating selector cache');module.refresh();});observer.observe(element,{childList:true,subtree:true});module.debug('Setting up mutation observer',observer);}},attachEvents:function(selector,event){var
$element=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle;if($element.length>0){module.debug('Attaching checkbox events to element',selector,event);$element.on('click'+eventNamespace,event);}
else{module.error(error.notFound);}},preventDefaultOnInputTarget:function(){if(typeof event!=='undefined'&&event!==null&&$(event.target).is(selector.input)){module.verbose('Preventing default check action after manual check action');event.preventDefault();}},event:{change:function(event){if(!module.should.ignoreCallbacks()){settings.onChange.call(input);}},click:function(event){var
$target=$(event.target);if($target.is(selector.input)){module.verbose('Using default check action on initialized checkbox');return;}
if($target.is(selector.link)){module.debug('Clicking link inside checkbox, skipping toggle');return;}
module.toggle();$input.focus();event.preventDefault();},keydown:function(event){var
key=event.which,keyCode={enter:13,space:32,escape:27,left:37,up:38,right:39,down:40};var r=module.get.radios(),rIndex=r.index($module),rLen=r.length,checkIndex=false;if(key==keyCode.left||key==keyCode.up){checkIndex=(rIndex===0?rLen:rIndex)-1;}else if(key==keyCode.right||key==keyCode.down){checkIndex=rIndex===rLen-1?0:rIndex+1;}
if(!module.should.ignoreCallbacks()&&checkIndex!==false){if(settings.beforeUnchecked.apply(input)===false){module.verbose('Option not allowed to be unchecked, cancelling key navigation');return false;}
if(settings.beforeChecked.apply($(r[checkIndex]).children(selector.input)[0])===false){module.verbose('Next option should not allow check, cancelling key navigation');return false;}}
if(key==keyCode.escape){module.verbose('Escape key pressed blurring field');$input.blur();shortcutPressed=true;}
else if(!event.ctrlKey&&(key==keyCode.space||(key==keyCode.enter&&settings.enableEnterKey))){module.verbose('Enter/space key pressed, toggling checkbox');module.toggle();shortcutPressed=true;}
else{shortcutPressed=false;}},keyup:function(event){if(shortcutPressed){event.preventDefault();}}},check:function(){if(!module.should.allowCheck()){return;}
module.debug('Checking checkbox',$input);module.set.checked();if(!module.should.ignoreCallbacks()){settings.onChecked.call(input);module.trigger.change();}
module.preventDefaultOnInputTarget();},uncheck:function(){if(!module.should.allowUncheck()){return;}
module.debug('Unchecking checkbox');module.set.unchecked();if(!module.should.ignoreCallbacks()){settings.onUnchecked.call(input);module.trigger.change();}
module.preventDefaultOnInputTarget();},indeterminate:function(){if(module.should.allowIndeterminate()){module.debug('Checkbox is already indeterminate');return;}
module.debug('Making checkbox indeterminate');module.set.indeterminate();if(!module.should.ignoreCallbacks()){settings.onIndeterminate.call(input);module.trigger.change();}},determinate:function(){if(module.should.allowDeterminate()){module.debug('Checkbox is already determinate');return;}
module.debug('Making checkbox determinate');module.set.determinate();if(!module.should.ignoreCallbacks()){settings.onDeterminate.call(input);module.trigger.change();}},enable:function(){if(module.is.enabled()){module.debug('Checkbox is already enabled');return;}
module.debug('Enabling checkbox');module.set.enabled();if(!module.should.ignoreCallbacks()){settings.onEnable.call(input);settings.onEnabled.call(input);module.trigger.change();}},disable:function(){if(module.is.disabled()){module.debug('Checkbox is already disabled');return;}
module.debug('Disabling checkbox');module.set.disabled();if(!module.should.ignoreCallbacks()){settings.onDisable.call(input);settings.onDisabled.call(input);module.trigger.change();}},get:{radios:function(){var
name=module.get.name();return $('input[name="'+name+'"]').closest(selector.checkbox);},otherRadios:function(){return module.get.radios().not($module);},name:function(){return $input.attr('name');}},is:{initialLoad:function(){return initialLoad;},radio:function(){return($input.hasClass(className.radio)||$input.attr('type')=='radio');},indeterminate:function(){return $input.prop('indeterminate')!==undefined&&$input.prop('indeterminate');},checked:function(){return $input.prop('checked')!==undefined&&$input.prop('checked');},disabled:function(){return $input.prop('disabled')!==undefined&&$input.prop('disabled');},enabled:function(){return!module.is.disabled();},determinate:function(){return!module.is.indeterminate();},unchecked:function(){return!module.is.checked();}},should:{allowCheck:function(){if(module.is.determinate()&&module.is.checked()&&!module.is.initialLoad()){module.debug('Should not allow check, checkbox is already checked');return false;}
if(!module.should.ignoreCallbacks()&&settings.beforeChecked.apply(input)===false){module.debug('Should not allow check, beforeChecked cancelled');return false;}
return true;},allowUncheck:function(){if(module.is.determinate()&&module.is.unchecked()&&!module.is.initialLoad()){module.debug('Should not allow uncheck, checkbox is already unchecked');return false;}
if(!module.should.ignoreCallbacks()&&settings.beforeUnchecked.apply(input)===false){module.debug('Should not allow uncheck, beforeUnchecked cancelled');return false;}
return true;},allowIndeterminate:function(){if(module.is.indeterminate()&&!module.is.initialLoad()){module.debug('Should not allow indeterminate, checkbox is already indeterminate');return false;}
if(!module.should.ignoreCallbacks()&&settings.beforeIndeterminate.apply(input)===false){module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');return false;}
return true;},allowDeterminate:function(){if(module.is.determinate()&&!module.is.initialLoad()){module.debug('Should not allow determinate, checkbox is already determinate');return false;}
if(!module.should.ignoreCallbacks()&&settings.beforeDeterminate.apply(input)===false){module.debug('Should not allow determinate, beforeDeterminate cancelled');return false;}
return true;},ignoreCallbacks:function(){return(initialLoad&&!settings.fireOnInit);}},can:{change:function(){return!($module.hasClass(className.disabled)||$module.hasClass(className.readOnly)||$input.prop('disabled')||$input.prop('readonly'));},uncheck:function(){return(typeof settings.uncheckable==='boolean')?settings.uncheckable:!module.is.radio();}},set:{initialLoad:function(){initialLoad=true;},checked:function(){module.verbose('Setting class to checked');$module.removeClass(className.indeterminate).addClass(className.checked);if(module.is.radio()){module.uncheckOthers();}
if(!module.is.indeterminate()&&module.is.checked()){module.debug('Input is already checked, skipping input property change');return;}
module.verbose('Setting state to checked',input);$input.prop('indeterminate',false).prop('checked',true);},unchecked:function(){module.verbose('Removing checked class');$module.removeClass(className.indeterminate).removeClass(className.checked);if(!module.is.indeterminate()&&module.is.unchecked()){module.debug('Input is already unchecked');return;}
module.debug('Setting state to unchecked');$input.prop('indeterminate',false).prop('checked',false);},indeterminate:function(){module.verbose('Setting class to indeterminate');$module.addClass(className.indeterminate);if(module.is.indeterminate()){module.debug('Input is already indeterminate, skipping input property change');return;}
module.debug('Setting state to indeterminate');$input.prop('indeterminate',true);},determinate:function(){module.verbose('Removing indeterminate class');$module.removeClass(className.indeterminate);if(module.is.determinate()){module.debug('Input is already determinate, skipping input property change');return;}
module.debug('Setting state to determinate');$input.prop('indeterminate',false);},disabled:function(){module.verbose('Setting class to disabled');$module.addClass(className.disabled);if(module.is.disabled()){module.debug('Input is already disabled, skipping input property change');return;}
module.debug('Setting state to disabled');$input.prop('disabled','disabled');},enabled:function(){module.verbose('Removing disabled class');$module.removeClass(className.disabled);if(module.is.enabled()){module.debug('Input is already enabled, skipping input property change');return;}
module.debug('Setting state to enabled');$input.prop('disabled',false);},tabbable:function(){module.verbose('Adding tabindex to checkbox');if($input.attr('tabindex')===undefined){$input.attr('tabindex',0);}}},remove:{initialLoad:function(){initialLoad=false;}},trigger:{change:function(){var
inputElement=$input[0];if(inputElement){var events=document.createEvent('HTMLEvents');module.verbose('Triggering native change event');events.initEvent('change',true,false);inputElement.dispatchEvent(events);}}},create:{label:function(){if($input.prevAll(selector.label).length>0){$input.prev(selector.label).detach().insertAfter($input);module.debug('Moving existing label',$label);}
else if(!module.has.label()){$label=$('<label>').insertAfter($input);module.debug('Creating label',$label);}}},has:{label:function(){return($label.length>0);}},bind:{events:function(){module.verbose('Attaching checkbox events');$module.on('click'+eventNamespace,module.event.click).on('change'+eventNamespace,module.event.change).on('keydown'+eventNamespace,selector.input,module.event.keydown).on('keyup'+eventNamespace,selector.input,module.event.keyup);}},unbind:{events:function(){module.debug('Removing events');$module.off(eventNamespace);}},uncheckOthers:function(){var
$radios=module.get.otherRadios();module.debug('Unchecking other radios',$radios);$radios.removeClass(className.checked);},toggle:function(){if(!module.can.change()){if(!module.is.radio()){module.debug('Checkbox is read-only or disabled, ignoring toggle');}
return;}
if(module.is.indeterminate()||module.is.unchecked()){module.debug('Currently unchecked');module.check();}
else if(module.is.checked()&&module.can.uncheck()){module.debug('Currently checked');module.uncheck();}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.checkbox.settings={name:'Checkbox',namespace:'checkbox',silent:false,debug:false,verbose:true,performance:true,uncheckable:'auto',fireOnInit:false,enableEnterKey:true,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:'checked',indeterminate:'indeterminate',disabled:'disabled',hidden:'hidden',radio:'radio',readOnly:'read-only'},error:{method:'The method you called is not defined'},selector:{checkbox:'.ui.checkbox',label:'label, .box',input:'input[type="checkbox"], input[type="radio"]',link:'a[href]'}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.dimmer=function(parameters){var
$allModules=$(this),time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.dimmer.settings,parameters):$.extend({},$.fn.dimmer.settings),selector=settings.selector,namespace=settings.namespace,className=settings.className,error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,moduleSelector=$allModules.selector||'',clickEvent=('ontouchstart'in document.documentElement)?'touchstart':'click',$module=$(this),$dimmer,$dimmable,element=this,instance=$module.data(moduleNamespace),module;module={preinitialize:function(){if(module.is.dimmer()){$dimmable=$module.parent();$dimmer=$module;}
else{$dimmable=$module;if(module.has.dimmer()){if(settings.dimmerName){$dimmer=$dimmable.find(selector.dimmer).filter('.'+settings.dimmerName);}
else{$dimmer=$dimmable.find(selector.dimmer);}}
else{$dimmer=module.create();}}},initialize:function(){module.debug('Initializing dimmer',settings);module.bind.events();module.set.dimmable();module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,instance);},destroy:function(){module.verbose('Destroying previous module',$dimmer);module.unbind.events();module.remove.variation();$dimmable.off(eventNamespace);},bind:{events:function(){if(settings.on=='hover'){$dimmable.on('mouseenter'+eventNamespace,module.show).on('mouseleave'+eventNamespace,module.hide);}
else if(settings.on=='click'){$dimmable.on(clickEvent+eventNamespace,module.toggle);}
if(module.is.page()){module.debug('Setting as a page dimmer',$dimmable);module.set.pageDimmer();}
if(module.is.closable()){module.verbose('Adding dimmer close event',$dimmer);$dimmable.on(clickEvent+eventNamespace,selector.dimmer,module.event.click);}}},unbind:{events:function(){$module.removeData(moduleNamespace);$dimmable.off(eventNamespace);}},event:{click:function(event){module.verbose('Determining if event occured on dimmer',event);if($dimmer.find(event.target).length===0||$(event.target).is(selector.content)){module.hide();event.stopImmediatePropagation();}}},addContent:function(element){var
$content=$(element);module.debug('Add content to dimmer',$content);if($content.parent()[0]!==$dimmer[0]){$content.detach().appendTo($dimmer);}},create:function(){var
$element=$(settings.template.dimmer(settings));if(settings.dimmerName){module.debug('Creating named dimmer',settings.dimmerName);$element.addClass(settings.dimmerName);}
$element.appendTo($dimmable);return $element;},show:function(callback){callback=$.isFunction(callback)?callback:function(){};module.debug('Showing dimmer',$dimmer,settings);module.set.variation();if((!module.is.dimmed()||module.is.animating())&&module.is.enabled()){module.animate.show(callback);settings.onShow.call(element);settings.onChange.call(element);}
else{module.debug('Dimmer is already shown or disabled');}},hide:function(callback){callback=$.isFunction(callback)?callback:function(){};if(module.is.dimmed()||module.is.animating()){module.debug('Hiding dimmer',$dimmer);module.animate.hide(callback);settings.onHide.call(element);settings.onChange.call(element);}
else{module.debug('Dimmer is not visible');}},toggle:function(){module.verbose('Toggling dimmer visibility',$dimmer);if(!module.is.dimmed()){module.show();}
else{if(module.is.closable()){module.hide();}}},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){};if(settings.useCSS&&$.fn.transition!==undefined&&$dimmer.transition('is supported')){if(settings.useFlex){module.debug('Using flex dimmer');module.remove.legacy();}
else{module.debug('Using legacy non-flex dimmer');module.set.legacy();}
if(settings.opacity!=='auto'){module.set.opacity();}
$dimmer.transition({displayType:settings.useFlex?'flex':'block',animation:settings.transition+' in',queue:false,duration:module.get.duration(),useFailSafe:true,onStart:function(){module.set.dimmed();},onComplete:function(){module.set.active();callback();}});}
else{module.verbose('Showing dimmer animation with javascript');module.set.dimmed();if(settings.opacity=='auto'){settings.opacity=0.8;}
$dimmer.stop().css({opacity:0,width:'100%',height:'100%'}).fadeTo(module.get.duration(),settings.opacity,function(){$dimmer.removeAttr('style');module.set.active();callback();});}},hide:function(callback){callback=$.isFunction(callback)?callback:function(){};if(settings.useCSS&&$.fn.transition!==undefined&&$dimmer.transition('is supported')){module.verbose('Hiding dimmer with css');$dimmer.transition({displayType:settings.useFlex?'flex':'block',animation:settings.transition+' out',queue:false,duration:module.get.duration(),useFailSafe:true,onComplete:function(){module.remove.dimmed();module.remove.variation();module.remove.active();callback();}});}
else{module.verbose('Hiding dimmer with javascript');$dimmer.stop().fadeOut(module.get.duration(),function(){module.remove.dimmed();module.remove.active();$dimmer.removeAttr('style');callback();});}}},get:{dimmer:function(){return $dimmer;},duration:function(){if(typeof settings.duration=='object'){if(module.is.active()){return settings.duration.hide;}
else{return settings.duration.show;}}
return settings.duration;}},has:{dimmer:function(){if(settings.dimmerName){return($module.find(selector.dimmer).filter('.'+settings.dimmerName).length>0);}
else{return($module.find(selector.dimmer).length>0);}}},is:{active:function(){return $dimmer.hasClass(className.active);},animating:function(){return($dimmer.is(':animated')||$dimmer.hasClass(className.animating));},closable:function(){if(settings.closable=='auto'){if(settings.on=='hover'){return false;}
return true;}
return settings.closable;},dimmer:function(){return $module.hasClass(className.dimmer);},dimmable:function(){return $module.hasClass(className.dimmable);},dimmed:function(){return $dimmable.hasClass(className.dimmed);},disabled:function(){return $dimmable.hasClass(className.disabled);},enabled:function(){return!module.is.disabled();},page:function(){return $dimmable.is('body');},pageDimmer:function(){return $dimmer.hasClass(className.pageDimmer);}},can:{show:function(){return!$dimmer.hasClass(className.disabled);}},set:{opacity:function(opacity){var
color=$dimmer.css('background-color'),colorArray=color.split(','),isRGB=(colorArray&&colorArray.length>=3);opacity=settings.opacity===0?0:settings.opacity||opacity;if(isRGB){colorArray[2]=colorArray[2].replace(')','');colorArray[3]=opacity+')';color=colorArray.join(',');}
else{color='rgba(0, 0, 0, '+opacity+')';}
module.debug('Setting opacity to',opacity);$dimmer.css('background-color',color);},legacy:function(){$dimmer.addClass(className.legacy);},active:function(){$dimmer.addClass(className.active);},dimmable:function(){$dimmable.addClass(className.dimmable);},dimmed:function(){$dimmable.addClass(className.dimmed);},pageDimmer:function(){$dimmer.addClass(className.pageDimmer);},disabled:function(){$dimmer.addClass(className.disabled);},variation:function(variation){variation=variation||settings.variation;if(variation){$dimmer.addClass(variation);}}},remove:{active:function(){$dimmer.removeClass(className.active);},legacy:function(){$dimmer.removeClass(className.legacy);},dimmed:function(){$dimmable.removeClass(className.dimmed);},disabled:function(){$dimmer.removeClass(className.disabled);},variation:function(variation){variation=variation||settings.variation;if(variation){$dimmer.removeClass(variation);}}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if($allModules.length>1){title+=' '+'('+$allModules.length+')';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};module.preinitialize();if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.dimmer.settings={name:'Dimmer',namespace:'dimmer',silent:false,debug:false,verbose:false,performance:true,useFlex:true,dimmerName:false,variation:false,closable:'auto',useCSS:true,transition:'fade',on:false,opacity:'auto',duration:{show:500,hide:500},displayLoader:false,loaderText:false,loaderVariation:'',onChange:function(){},onShow:function(){},onHide:function(){},error:{method:'The method you called is not defined.'},className:{active:'active',animating:'animating',dimmable:'dimmable',dimmed:'dimmed',dimmer:'dimmer',disabled:'disabled',hide:'hide',legacy:'legacy',pageDimmer:'page',show:'show',loader:'ui loader'},selector:{dimmer:'> .ui.dimmer',content:'.ui.dimmer > .content, .ui.dimmer > .content > .center'},template:{dimmer:function(settings){var d=$('<div/>').addClass('ui dimmer'),l;if(settings.displayLoader){l=$('<div/>').addClass(settings.className.loader).addClass(settings.loaderVariation);if(!!settings.loaderText){l.text(settings.loaderText);l.addClass('text');}
d.append(l);}
return d;}}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.dropdown=function(parameters){var
$allModules=$(this),$document=$(document),moduleSelector=$allModules.selector||'',hasTouch=('ontouchstart'in document.documentElement),clickEvent=hasTouch?'touchstart':'click',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(elementIndex){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.dropdown.settings,parameters):$.extend({},$.fn.dropdown.settings),className=settings.className,message=settings.message,fields=settings.fields,keys=settings.keys,metadata=settings.metadata,namespace=settings.namespace,regExp=settings.regExp,selector=settings.selector,error=settings.error,templates=settings.templates,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$context=$(settings.context),$text=$module.find(selector.text),$search=$module.find(selector.search),$sizer=$module.find(selector.sizer),$input=$module.find(selector.input),$icon=$module.find(selector.icon),$clear=$module.find(selector.clearIcon),$combo=($module.prev().find(selector.text).length>0)?$module.prev().find(selector.text):$module.prev(),$menu=$module.children(selector.menu),$item=$menu.find(selector.item),$divider=settings.hideDividers?$item.parent().children(selector.divider):$(),activated=false,itemActivated=false,internalChange=false,iconClicked=false,element=this,instance=$module.data(moduleNamespace),selectActionActive,initialLoad,pageLostFocus,willRefocus,elementNamespace,id,selectObserver,menuObserver,classObserver,module;module={initialize:function(){module.debug('Initializing dropdown',settings);if(module.is.alreadySetup()){module.setup.reference();}
else{if(settings.ignoreDiacritics&&!String.prototype.normalize){settings.ignoreDiacritics=false;module.error(error.noNormalize,element);}
module.setup.layout();if(settings.values){module.set.initialLoad();module.change.values(settings.values);module.remove.initialLoad();}
module.refreshData();module.save.defaults();module.restore.selected();module.create.id();module.bind.events();module.observeChanges();module.instantiate();}},instantiate:function(){module.verbose('Storing instance of dropdown',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying previous dropdown',$module);module.remove.tabbable();module.remove.active();$menu.transition('stop all');$menu.removeClass(className.visible).addClass(className.hidden);$module.off(eventNamespace).removeData(moduleNamespace);$menu.off(eventNamespace);$document.off(elementNamespace);module.disconnect.menuObserver();module.disconnect.selectObserver();module.disconnect.classObserver();},observeChanges:function(){if('MutationObserver'in window){selectObserver=new MutationObserver(module.event.select.mutation);menuObserver=new MutationObserver(module.event.menu.mutation);classObserver=new MutationObserver(module.event.class.mutation);module.debug('Setting up mutation observer',selectObserver,menuObserver,classObserver);module.observe.select();module.observe.menu();module.observe.class();}},disconnect:{menuObserver:function(){if(menuObserver){menuObserver.disconnect();}},selectObserver:function(){if(selectObserver){selectObserver.disconnect();}},classObserver:function(){if(classObserver){classObserver.disconnect();}}},observe:{select:function(){if(module.has.input()&&selectObserver){selectObserver.observe($module[0],{childList:true,subtree:true});}},menu:function(){if(module.has.menu()&&menuObserver){menuObserver.observe($menu[0],{childList:true,subtree:true});}},class:function(){if(module.has.search()&&classObserver){classObserver.observe($module[0],{attributes:true});}}},create:{id:function(){id=(Math.random().toString(16)+'000000000').substr(2,8);elementNamespace='.'+id;module.verbose('Creating unique id for element',id);},userChoice:function(values){var
$userChoices,$userChoice,isUserValue,html;values=values||module.get.userValues();if(!values){return false;}
values=Array.isArray(values)?values:[values];$.each(values,function(index,value){if(module.get.item(value)===false){html=settings.templates.addition(module.add.variables(message.addResult,value));$userChoice=$('<div />').html(html).attr('data-'+metadata.value,value).attr('data-'+metadata.text,value).addClass(className.addition).addClass(className.item);if(settings.hideAdditions){$userChoice.addClass(className.hidden);}
$userChoices=($userChoices===undefined)?$userChoice:$userChoices.add($userChoice);module.verbose('Creating user choices for value',value,$userChoice);}});return $userChoices;},userLabels:function(value){var
userValues=module.get.userValues();if(userValues){module.debug('Adding user labels',userValues);$.each(userValues,function(index,value){module.verbose('Adding custom user value');module.add.label(value,value);});}},menu:function(){$menu=$('<div />').addClass(className.menu).appendTo($module);},sizer:function(){$sizer=$('<span />').addClass(className.sizer).insertAfter($search);}},search:function(query){query=(query!==undefined)?query:module.get.query();module.verbose('Searching for query',query);if(module.has.minCharacters(query)){module.filter(query);}
else{module.hide(null,true);}},select:{firstUnfiltered:function(){module.verbose('Selecting first non-filtered element');module.remove.selectedItem();$item.not(selector.unselectable).not(selector.addition+selector.hidden).eq(0).addClass(className.selected);},nextAvailable:function($selected){$selected=$selected.eq(0);var
$nextAvailable=$selected.nextAll(selector.item).not(selector.unselectable).eq(0),$prevAvailable=$selected.prevAll(selector.item).not(selector.unselectable).eq(0),hasNext=($nextAvailable.length>0);if(hasNext){module.verbose('Moving selection to',$nextAvailable);$nextAvailable.addClass(className.selected);}
else{module.verbose('Moving selection to',$prevAvailable);$prevAvailable.addClass(className.selected);}}},setup:{api:function(){var
apiSettings={debug:settings.debug,urlData:{value:module.get.value(),query:module.get.query()},on:false};module.verbose('First request, initializing API');$module.api(apiSettings);},layout:function(){if($module.is('select')){module.setup.select();module.setup.returnedObject();}
if(!module.has.menu()){module.create.menu();}
if(module.is.selection()&&module.is.clearable()&&!module.has.clearItem()){module.verbose('Adding clear icon');$clear=$('<i />').addClass('remove icon').insertBefore($text);}
if(module.is.search()&&!module.has.search()){module.verbose('Adding search input');$search=$('<input />').addClass(className.search).prop('autocomplete','off').insertBefore($text);}
if(module.is.multiple()&&module.is.searchSelection()&&!module.has.sizer()){module.create.sizer();}
if(settings.allowTab){module.set.tabbable();}},select:function(){var
selectValues=module.get.selectValues();module.debug('Dropdown initialized on a select',selectValues);if($module.is('select')){$input=$module;}
if($input.parent(selector.dropdown).length>0){module.debug('UI dropdown already exists. Creating dropdown menu only');$module=$input.closest(selector.dropdown);if(!module.has.menu()){module.create.menu();}
$menu=$module.children(selector.menu);module.setup.menu(selectValues);}
else{module.debug('Creating entire dropdown from select');$module=$('<div />').attr('class',$input.attr('class')).addClass(className.selection).addClass(className.dropdown).html(templates.dropdown(selectValues,fields,settings.preserveHTML,settings.className)).insertBefore($input);if($input.hasClass(className.multiple)&&$input.prop('multiple')===false){module.error(error.missingMultiple);$input.prop('multiple',true);}
if($input.is('[multiple]')){module.set.multiple();}
if($input.prop('disabled')){module.debug('Disabling dropdown');$module.addClass(className.disabled);}
$input.removeAttr('required').removeAttr('class').detach().prependTo($module);}
module.refresh();},menu:function(values){$menu.html(templates.menu(values,fields,settings.preserveHTML,settings.className));$item=$menu.find(selector.item);$divider=settings.hideDividers?$item.parent().children(selector.divider):$();},reference:function(){module.debug('Dropdown behavior was called on select, replacing with closest dropdown');$module=$module.parent(selector.dropdown);instance=$module.data(moduleNamespace);element=$module.get(0);module.refresh();module.setup.returnedObject();},returnedObject:function(){var
$firstModules=$allModules.slice(0,elementIndex),$lastModules=$allModules.slice(elementIndex+1);$allModules=$firstModules.add($module).add($lastModules);}},refresh:function(){module.refreshSelectors();module.refreshData();},refreshItems:function(){$item=$menu.find(selector.item);$divider=settings.hideDividers?$item.parent().children(selector.divider):$();},refreshSelectors:function(){module.verbose('Refreshing selector cache');$text=$module.find(selector.text);$search=$module.find(selector.search);$input=$module.find(selector.input);$icon=$module.find(selector.icon);$combo=($module.prev().find(selector.text).length>0)?$module.prev().find(selector.text):$module.prev();$menu=$module.children(selector.menu);$item=$menu.find(selector.item);$divider=settings.hideDividers?$item.parent().children(selector.divider):$();},refreshData:function(){module.verbose('Refreshing cached metadata');$item.removeData(metadata.text).removeData(metadata.value);},clearData:function(){module.verbose('Clearing metadata');$item.removeData(metadata.text).removeData(metadata.value);$module.removeData(metadata.defaultText).removeData(metadata.defaultValue).removeData(metadata.placeholderText);},toggle:function(){module.verbose('Toggling menu visibility');if(!module.is.active()){module.show();}
else{module.hide();}},show:function(callback,preventFocus){callback=$.isFunction(callback)?callback:function(){};if(!module.can.show()&&module.is.remote()){module.debug('No API results retrieved, searching before show');module.queryRemote(module.get.query(),module.show);}
if(module.can.show()&&!module.is.active()){module.debug('Showing dropdown');if(module.has.message()&&!(module.has.maxSelections()||module.has.allResultsFiltered())){module.remove.message();}
if(module.is.allFiltered()){return true;}
if(settings.onShow.call(element)!==false){module.animate.show(function(){if(module.can.click()){module.bind.intent();}
if(module.has.search()&&!preventFocus){module.focusSearch();}
module.set.visible();callback.call(element);});}}},hide:function(callback,preventBlur){callback=$.isFunction(callback)?callback:function(){};if(module.is.active()&&!module.is.animatingOutward()){module.debug('Hiding dropdown');if(settings.onHide.call(element)!==false){module.animate.hide(function(){module.remove.visible();if(module.is.focusedOnSearch()&&preventBlur!==true){$search.blur();}
callback.call(element);});}}else if(module.can.click()){module.unbind.intent();}
iconClicked=false;},hideOthers:function(){module.verbose('Finding other dropdowns to hide');$allModules.not($module).has(selector.menu+'.'+className.visible).dropdown('hide');},hideMenu:function(){module.verbose('Hiding menu  instantaneously');module.remove.active();module.remove.visible();$menu.transition('hide');},hideSubMenus:function(){var
$subMenus=$menu.children(selector.item).find(selector.menu);module.verbose('Hiding sub menus',$subMenus);$subMenus.transition('hide');},bind:{events:function(){module.bind.keyboardEvents();module.bind.inputEvents();module.bind.mouseEvents();},keyboardEvents:function(){module.verbose('Binding keyboard events');$module.on('keydown'+eventNamespace,module.event.keydown);if(module.has.search()){$module.on(module.get.inputEvent()+eventNamespace,selector.search,module.event.input);}
if(module.is.multiple()){$document.on('keydown'+elementNamespace,module.event.document.keydown);}},inputEvents:function(){module.verbose('Binding input change events');$module.on('change'+eventNamespace,selector.input,module.event.change);},mouseEvents:function(){module.verbose('Binding mouse events');if(module.is.multiple()){$module.on(clickEvent+eventNamespace,selector.label,module.event.label.click).on(clickEvent+eventNamespace,selector.remove,module.event.remove.click);}
if(module.is.searchSelection()){$module.on('mousedown'+eventNamespace,module.event.mousedown).on('mouseup'+eventNamespace,module.event.mouseup).on('mousedown'+eventNamespace,selector.menu,module.event.menu.mousedown).on('mouseup'+eventNamespace,selector.menu,module.event.menu.mouseup).on(clickEvent+eventNamespace,selector.icon,module.event.icon.click).on(clickEvent+eventNamespace,selector.clearIcon,module.event.clearIcon.click).on('focus'+eventNamespace,selector.search,module.event.search.focus).on(clickEvent+eventNamespace,selector.search,module.event.search.focus).on('blur'+eventNamespace,selector.search,module.event.search.blur).on(clickEvent+eventNamespace,selector.text,module.event.text.focus);if(module.is.multiple()){$module.on(clickEvent+eventNamespace,module.event.click);}}
else{if(settings.on=='click'){$module.on(clickEvent+eventNamespace,selector.icon,module.event.icon.click).on(clickEvent+eventNamespace,module.event.test.toggle);}
else if(settings.on=='hover'){$module.on('mouseenter'+eventNamespace,module.delay.show).on('mouseleave'+eventNamespace,module.delay.hide);}
else{$module.on(settings.on+eventNamespace,module.toggle);}
$module.on('mousedown'+eventNamespace,module.event.mousedown).on('mouseup'+eventNamespace,module.event.mouseup).on('focus'+eventNamespace,module.event.focus).on(clickEvent+eventNamespace,selector.clearIcon,module.event.clearIcon.click);if(module.has.menuSearch()){$module.on('blur'+eventNamespace,selector.search,module.event.search.blur);}
else{$module.on('blur'+eventNamespace,module.event.blur);}}
$menu.on((hasTouch?'touchstart':'mouseenter')+eventNamespace,selector.item,module.event.item.mouseenter).on('mouseleave'+eventNamespace,selector.item,module.event.item.mouseleave).on('click'+eventNamespace,selector.item,module.event.item.click);},intent:function(){module.verbose('Binding hide intent event to document');if(hasTouch){$document.on('touchstart'+elementNamespace,module.event.test.touch).on('touchmove'+elementNamespace,module.event.test.touch);}
$document.on(clickEvent+elementNamespace,module.event.test.hide);}},unbind:{intent:function(){module.verbose('Removing hide intent event from document');if(hasTouch){$document.off('touchstart'+elementNamespace).off('touchmove'+elementNamespace);}
$document.off(clickEvent+elementNamespace);}},filter:function(query){var
searchTerm=(query!==undefined)?query:module.get.query(),afterFiltered=function(){if(module.is.multiple()){module.filterActive();}
if(query||(!query&&module.get.activeItem().length==0)){module.select.firstUnfiltered();}
if(module.has.allResultsFiltered()){if(settings.onNoResults.call(element,searchTerm)){if(settings.allowAdditions){if(settings.hideAdditions){module.verbose('User addition with no menu, setting empty style');module.set.empty();module.hideMenu();}}
else{module.verbose('All items filtered, showing message',searchTerm);module.add.message(message.noResults);}}
else{module.verbose('All items filtered, hiding dropdown',searchTerm);module.hideMenu();}}
else{module.remove.empty();module.remove.message();}
if(settings.allowAdditions){module.add.userSuggestion(module.escape.htmlEntities(query));}
if(module.is.searchSelection()&&module.can.show()&&module.is.focusedOnSearch()){module.show();}};if(settings.useLabels&&module.has.maxSelections()){return;}
if(settings.apiSettings){if(module.can.useAPI()){module.queryRemote(searchTerm,function(){if(settings.filterRemoteData){module.filterItems(searchTerm);}
var preSelected=$input.val();if(!Array.isArray(preSelected)){preSelected=preSelected&&preSelected!==""?preSelected.split(settings.delimiter):[];}
$.each(preSelected,function(index,value){$item.filter('[data-value="'+value+'"]').addClass(className.filtered);});afterFiltered();});}
else{module.error(error.noAPI);}}
else{module.filterItems(searchTerm);afterFiltered();}},queryRemote:function(query,callback){var
apiSettings={errorDuration:false,cache:'local',throttle:settings.throttle,urlData:{query:query},onError:function(){module.add.message(message.serverError);callback();},onFailure:function(){module.add.message(message.serverError);callback();},onSuccess:function(response){var
values=response[fields.remoteValues];if(!Array.isArray(values)){values=[];}
module.remove.message();var menuConfig={};menuConfig[fields.values]=values;module.setup.menu(menuConfig);if(values.length===0&&!settings.allowAdditions){module.add.message(message.noResults);}
callback();}};if(!$module.api('get request')){module.setup.api();}
apiSettings=$.extend(true,{},apiSettings,settings.apiSettings);$module.api('setting',apiSettings).api('query');},filterItems:function(query){var
searchTerm=module.remove.diacritics(query!==undefined?query:module.get.query()),results=null,escapedTerm=module.escape.string(searchTerm),regExpFlags=(settings.ignoreSearchCase?'i':'')+'gm',beginsWithRegExp=new RegExp('^'+escapedTerm,regExpFlags);if(module.has.query()){results=[];module.verbose('Searching for matching values',searchTerm);$item.each(function(){var
$choice=$(this),text,value;if($choice.hasClass(className.unfilterable)){results.push(this);return true;}
if(settings.match==='both'||settings.match==='text'){text=module.remove.diacritics(String(module.get.choiceText($choice,false)));if(text.search(beginsWithRegExp)!==-1){results.push(this);return true;}
else if(settings.fullTextSearch==='exact'&&module.exactSearch(searchTerm,text)){results.push(this);return true;}
else if(settings.fullTextSearch===true&&module.fuzzySearch(searchTerm,text)){results.push(this);return true;}}
if(settings.match==='both'||settings.match==='value'){value=module.remove.diacritics(String(module.get.choiceValue($choice,text)));if(value.search(beginsWithRegExp)!==-1){results.push(this);return true;}
else if(settings.fullTextSearch==='exact'&&module.exactSearch(searchTerm,value)){results.push(this);return true;}
else if(settings.fullTextSearch===true&&module.fuzzySearch(searchTerm,value)){results.push(this);return true;}}});}
module.debug('Showing only matched items',searchTerm);module.remove.filteredItem();if(results){$item.not(results).addClass(className.filtered);}
if(!module.has.query()){$divider.removeClass(className.hidden);}else if(settings.hideDividers===true){$divider.addClass(className.hidden);}else if(settings.hideDividers==='empty'){$divider.removeClass(className.hidden).filter(function(){var lastDivider=$(this).nextUntil(selector.item);return(lastDivider.length?lastDivider:$(this)).nextUntil(selector.divider).filter(selector.item+":not(."+className.filtered+")").length===0;}).addClass(className.hidden);}},fuzzySearch:function(query,term){var
termLength=term.length,queryLength=query.length;query=(settings.ignoreSearchCase?query.toLowerCase():query);term=(settings.ignoreSearchCase?term.toLowerCase():term);if(queryLength>termLength){return false;}
if(queryLength===termLength){return(query===term);}
search:for(var characterIndex=0,nextCharacterIndex=0;characterIndex<queryLength;characterIndex++){var
queryCharacter=query.charCodeAt(characterIndex);while(nextCharacterIndex<termLength){if(term.charCodeAt(nextCharacterIndex++)===queryCharacter){continue search;}}
return false;}
return true;},exactSearch:function(query,term){query=(settings.ignoreSearchCase?query.toLowerCase():query);term=(settings.ignoreSearchCase?term.toLowerCase():term);return term.indexOf(query)>-1;},filterActive:function(){if(settings.useLabels){$item.filter('.'+className.active).addClass(className.filtered);}},focusSearch:function(skipHandler){if(module.has.search()&&!module.is.focusedOnSearch()){if(skipHandler){$module.off('focus'+eventNamespace,selector.search);$search.focus();$module.on('focus'+eventNamespace,selector.search,module.event.search.focus);}
else{$search.focus();}}},blurSearch:function(){if(module.has.search()){$search.blur();}},forceSelection:function(){var
$currentlySelected=$item.not(className.filtered).filter('.'+className.selected).eq(0),$activeItem=$item.not(className.filtered).filter('.'+className.active).eq(0),$selectedItem=($currentlySelected.length>0)?$currentlySelected:$activeItem,hasSelected=($selectedItem.length>0);if(settings.allowAdditions||(hasSelected&&!module.is.multiple())){module.debug('Forcing partial selection to selected item',$selectedItem);module.event.item.click.call($selectedItem,{},true);}
else{module.remove.searchTerm();}},change:{values:function(values){if(!settings.allowAdditions){module.clear();}
module.debug('Creating dropdown with specified values',values);var menuConfig={};menuConfig[fields.values]=values;module.setup.menu(menuConfig);$.each(values,function(index,item){if(item.selected==true){module.debug('Setting initial selection to',item[fields.value]);module.set.selected(item[fields.value]);if(!module.is.multiple()){return false;}}});if(module.has.selectInput()){module.disconnect.selectObserver();$input.html('');$input.append('<option disabled selected value></option>');$.each(values,function(index,item){var
value=settings.templates.deQuote(item[fields.value]),name=settings.templates.escape(item[fields.name]||'',settings.preserveHTML);$input.append('<option value="'+value+'">'+name+'</option>');});module.observe.select();}}},event:{change:function(){if(!internalChange){module.debug('Input changed, updating selection');module.set.selected();}},focus:function(){if(settings.showOnFocus&&!activated&&module.is.hidden()&&!pageLostFocus){module.show();}},blur:function(event){pageLostFocus=(document.activeElement===this);if(!activated&&!pageLostFocus){module.remove.activeLabel();module.hide();}},mousedown:function(){if(module.is.searchSelection()){willRefocus=true;}
else{activated=true;}},mouseup:function(){if(module.is.searchSelection()){willRefocus=false;}
else{activated=false;}},click:function(event){var
$target=$(event.target);if($target.is($module)){if(!module.is.focusedOnSearch()){module.focusSearch();}
else{module.show();}}},search:{focus:function(event){activated=true;if(module.is.multiple()){module.remove.activeLabel();}
if(settings.showOnFocus||(event.type!=='focus'&&event.type!=='focusin')){module.search();}},blur:function(event){pageLostFocus=(document.activeElement===this);if(module.is.searchSelection()&&!willRefocus){if(!itemActivated&&!pageLostFocus){if(settings.forceSelection){module.forceSelection();}else if(!settings.allowAdditions){module.remove.searchTerm();}
module.hide();}}
willRefocus=false;}},clearIcon:{click:function(event){module.clear();if(module.is.searchSelection()){module.remove.searchTerm();}
module.hide();event.stopPropagation();}},icon:{click:function(event){iconClicked=true;if(module.has.search()){if(!module.is.active()){if(settings.showOnFocus){module.focusSearch();}else{module.toggle();}}else{module.blurSearch();}}else{module.toggle();}}},text:{focus:function(event){activated=true;module.focusSearch();}},input:function(event){if(module.is.multiple()||module.is.searchSelection()){module.set.filtered();}
clearTimeout(module.timer);module.timer=setTimeout(module.search,settings.delay.search);},label:{click:function(event){var
$label=$(this),$labels=$module.find(selector.label),$activeLabels=$labels.filter('.'+className.active),$nextActive=$label.nextAll('.'+className.active),$prevActive=$label.prevAll('.'+className.active),$range=($nextActive.length>0)?$label.nextUntil($nextActive).add($activeLabels).add($label):$label.prevUntil($prevActive).add($activeLabels).add($label);if(event.shiftKey){$activeLabels.removeClass(className.active);$range.addClass(className.active);}
else if(event.ctrlKey){$label.toggleClass(className.active);}
else{$activeLabels.removeClass(className.active);$label.addClass(className.active);}
settings.onLabelSelect.apply(this,$labels.filter('.'+className.active));}},remove:{click:function(){var
$label=$(this).parent();if($label.hasClass(className.active)){module.remove.activeLabels();}
else{module.remove.activeLabels($label);}}},test:{toggle:function(event){var
toggleBehavior=(module.is.multiple())?module.show:module.toggle;if(module.is.bubbledLabelClick(event)||module.is.bubbledIconClick(event)){return;}
if(module.determine.eventOnElement(event,toggleBehavior)){event.preventDefault();}},touch:function(event){module.determine.eventOnElement(event,function(){if(event.type=='touchstart'){module.timer=setTimeout(function(){module.hide();},settings.delay.touch);}
else if(event.type=='touchmove'){clearTimeout(module.timer);}});event.stopPropagation();},hide:function(event){if(module.determine.eventInModule(event,module.hide)){if(element.id&&$(event.target).attr('for')===element.id){event.preventDefault();}}}},class:{mutation:function(mutations){mutations.forEach(function(mutation){if(mutation.attributeName==="class"){module.check.disabled();}});}},select:{mutation:function(mutations){module.debug('<select> modified, recreating menu');if(module.is.selectMutation(mutations)){module.disconnect.selectObserver();module.refresh();module.setup.select();module.set.selected();module.observe.select();}}},menu:{mutation:function(mutations){var
mutation=mutations[0],$addedNode=mutation.addedNodes?$(mutation.addedNodes[0]):$(false),$removedNode=mutation.removedNodes?$(mutation.removedNodes[0]):$(false),$changedNodes=$addedNode.add($removedNode),isUserAddition=$changedNodes.is(selector.addition)||$changedNodes.closest(selector.addition).length>0,isMessage=$changedNodes.is(selector.message)||$changedNodes.closest(selector.message).length>0;if(isUserAddition||isMessage){module.debug('Updating item selector cache');module.refreshItems();}
else{module.debug('Menu modified, updating selector cache');module.refresh();}},mousedown:function(){itemActivated=true;},mouseup:function(){itemActivated=false;}},item:{mouseenter:function(event){var
$target=$(event.target),$item=$(this),$subMenu=$item.children(selector.menu),$otherMenus=$item.siblings(selector.item).children(selector.menu),hasSubMenu=($subMenu.length>0),isBubbledEvent=($subMenu.find($target).length>0);if(!isBubbledEvent&&hasSubMenu){clearTimeout(module.itemTimer);module.itemTimer=setTimeout(function(){module.verbose('Showing sub-menu',$subMenu);$.each($otherMenus,function(){module.animate.hide(false,$(this));});module.animate.show(false,$subMenu);},settings.delay.show);event.preventDefault();}},mouseleave:function(event){var
$subMenu=$(this).children(selector.menu);if($subMenu.length>0){clearTimeout(module.itemTimer);module.itemTimer=setTimeout(function(){module.verbose('Hiding sub-menu',$subMenu);module.animate.hide(false,$subMenu);},settings.delay.hide);}},click:function(event,skipRefocus){var
$choice=$(this),$target=(event)?$(event.target):$(''),$subMenu=$choice.find(selector.menu),text=module.get.choiceText($choice),value=module.get.choiceValue($choice,text),hasSubMenu=($subMenu.length>0),isBubbledEvent=($subMenu.find($target).length>0);if(document.activeElement.tagName.toLowerCase()!=='input'){$(document.activeElement).blur();}
if(!isBubbledEvent&&(!hasSubMenu||settings.allowCategorySelection)){if(module.is.searchSelection()){if(settings.allowAdditions){module.remove.userAddition();}
module.remove.searchTerm();if(!module.is.focusedOnSearch()&&!(skipRefocus==true)){module.focusSearch(true);}}
if(!settings.useLabels){module.remove.filteredItem();module.set.scrollPosition($choice);}
module.determine.selectAction.call(this,text,value);}}},document:{keydown:function(event){var
pressedKey=event.which,isShortcutKey=module.is.inObject(pressedKey,keys);if(isShortcutKey){var
$label=$module.find(selector.label),$activeLabel=$label.filter('.'+className.active),activeValue=$activeLabel.data(metadata.value),labelIndex=$label.index($activeLabel),labelCount=$label.length,hasActiveLabel=($activeLabel.length>0),hasMultipleActive=($activeLabel.length>1),isFirstLabel=(labelIndex===0),isLastLabel=(labelIndex+1==labelCount),isSearch=module.is.searchSelection(),isFocusedOnSearch=module.is.focusedOnSearch(),isFocused=module.is.focused(),caretAtStart=(isFocusedOnSearch&&module.get.caretPosition(false)===0),isSelectedSearch=(caretAtStart&&module.get.caretPosition(true)!==0),$nextLabel;if(isSearch&&!hasActiveLabel&&!isFocusedOnSearch){return;}
if(pressedKey==keys.leftArrow){if((isFocused||caretAtStart)&&!hasActiveLabel){module.verbose('Selecting previous label');$label.last().addClass(className.active);}
else if(hasActiveLabel){if(!event.shiftKey){module.verbose('Selecting previous label');$label.removeClass(className.active);}
else{module.verbose('Adding previous label to selection');}
if(isFirstLabel&&!hasMultipleActive){$activeLabel.addClass(className.active);}
else{$activeLabel.prev(selector.siblingLabel).addClass(className.active).end();}
event.preventDefault();}}
else if(pressedKey==keys.rightArrow){if(isFocused&&!hasActiveLabel){$label.first().addClass(className.active);}
if(hasActiveLabel){if(!event.shiftKey){module.verbose('Selecting next label');$label.removeClass(className.active);}
else{module.verbose('Adding next label to selection');}
if(isLastLabel){if(isSearch){if(!isFocusedOnSearch){module.focusSearch();}
else{$label.removeClass(className.active);}}
else if(hasMultipleActive){$activeLabel.next(selector.siblingLabel).addClass(className.active);}
else{$activeLabel.addClass(className.active);}}
else{$activeLabel.next(selector.siblingLabel).addClass(className.active);}
event.preventDefault();}}
else if(pressedKey==keys.deleteKey||pressedKey==keys.backspace){if(hasActiveLabel){module.verbose('Removing active labels');if(isLastLabel){if(isSearch&&!isFocusedOnSearch){module.focusSearch();}}
$activeLabel.last().next(selector.siblingLabel).addClass(className.active);module.remove.activeLabels($activeLabel);event.preventDefault();}
else if(caretAtStart&&!isSelectedSearch&&!hasActiveLabel&&pressedKey==keys.backspace){module.verbose('Removing last label on input backspace');$activeLabel=$label.last().addClass(className.active);module.remove.activeLabels($activeLabel);}}
else{$activeLabel.removeClass(className.active);}}}},keydown:function(event){var
pressedKey=event.which,isShortcutKey=module.is.inObject(pressedKey,keys);if(isShortcutKey){var
$currentlySelected=$item.not(selector.unselectable).filter('.'+className.selected).eq(0),$activeItem=$menu.children('.'+className.active).eq(0),$selectedItem=($currentlySelected.length>0)?$currentlySelected:$activeItem,$visibleItems=($selectedItem.length>0)?$selectedItem.siblings(':not(.'+className.filtered+')').addBack():$menu.children(':not(.'+className.filtered+')'),$subMenu=$selectedItem.children(selector.menu),$parentMenu=$selectedItem.closest(selector.menu),inVisibleMenu=($parentMenu.hasClass(className.visible)||$parentMenu.hasClass(className.animating)||$parentMenu.parent(selector.menu).length>0),hasSubMenu=($subMenu.length>0),hasSelectedItem=($selectedItem.length>0),selectedIsSelectable=($selectedItem.not(selector.unselectable).length>0),delimiterPressed=(pressedKey==keys.delimiter&&settings.allowAdditions&&module.is.multiple()),isAdditionWithoutMenu=(settings.allowAdditions&&settings.hideAdditions&&(pressedKey==keys.enter||delimiterPressed)&&selectedIsSelectable),$nextItem,isSubMenuItem,newIndex;if(isAdditionWithoutMenu){module.verbose('Selecting item from keyboard shortcut',$selectedItem);module.event.item.click.call($selectedItem,event);if(module.is.searchSelection()){module.remove.searchTerm();}
if(module.is.multiple()){event.preventDefault();}}
if(module.is.visible()){if(pressedKey==keys.enter||delimiterPressed){if(pressedKey==keys.enter&&hasSelectedItem&&hasSubMenu&&!settings.allowCategorySelection){module.verbose('Pressed enter on unselectable category, opening sub menu');pressedKey=keys.rightArrow;}
else if(selectedIsSelectable){module.verbose('Selecting item from keyboard shortcut',$selectedItem);module.event.item.click.call($selectedItem,event);if(module.is.searchSelection()){module.remove.searchTerm();if(module.is.multiple()){$search.focus();}}}
event.preventDefault();}
if(hasSelectedItem){if(pressedKey==keys.leftArrow){isSubMenuItem=($parentMenu[0]!==$menu[0]);if(isSubMenuItem){module.verbose('Left key pressed, closing sub-menu');module.animate.hide(false,$parentMenu);$selectedItem.removeClass(className.selected);$parentMenu.closest(selector.item).addClass(className.selected);event.preventDefault();}}
if(pressedKey==keys.rightArrow){if(hasSubMenu){module.verbose('Right key pressed, opening sub-menu');module.animate.show(false,$subMenu);$selectedItem.removeClass(className.selected);$subMenu.find(selector.item).eq(0).addClass(className.selected);event.preventDefault();}}}
if(pressedKey==keys.upArrow){$nextItem=(hasSelectedItem&&inVisibleMenu)?$selectedItem.prevAll(selector.item+':not('+selector.unselectable+')').eq(0):$item.eq(0);if($visibleItems.index($nextItem)<0){module.verbose('Up key pressed but reached top of current menu');event.preventDefault();return;}
else{module.verbose('Up key pressed, changing active item');$selectedItem.removeClass(className.selected);$nextItem.addClass(className.selected);module.set.scrollPosition($nextItem);if(settings.selectOnKeydown&&module.is.single()){module.set.selectedItem($nextItem);}}
event.preventDefault();}
if(pressedKey==keys.downArrow){$nextItem=(hasSelectedItem&&inVisibleMenu)?$nextItem=$selectedItem.nextAll(selector.item+':not('+selector.unselectable+')').eq(0):$item.eq(0);if($nextItem.length===0){module.verbose('Down key pressed but reached bottom of current menu');event.preventDefault();return;}
else{module.verbose('Down key pressed, changing active item');$item.removeClass(className.selected);$nextItem.addClass(className.selected);module.set.scrollPosition($nextItem);if(settings.selectOnKeydown&&module.is.single()){module.set.selectedItem($nextItem);}}
event.preventDefault();}
if(pressedKey==keys.pageUp){module.scrollPage('up');event.preventDefault();}
if(pressedKey==keys.pageDown){module.scrollPage('down');event.preventDefault();}
if(pressedKey==keys.escape){module.verbose('Escape key pressed, closing dropdown');module.hide();}}
else{if(delimiterPressed){event.preventDefault();}
if(pressedKey==keys.downArrow&&!module.is.visible()){module.verbose('Down key pressed, showing dropdown');module.show();event.preventDefault();}}}
else{if(!module.has.search()){module.set.selectedLetter(String.fromCharCode(pressedKey));}}}},trigger:{change:function(){var
inputElement=$input[0];if(inputElement){var events=document.createEvent('HTMLEvents');module.verbose('Triggering native change event');events.initEvent('change',true,false);inputElement.dispatchEvent(events);}}},determine:{selectAction:function(text,value){selectActionActive=true;module.verbose('Determining action',settings.action);if($.isFunction(module.action[settings.action])){module.verbose('Triggering preset action',settings.action,text,value);module.action[settings.action].call(element,text,value,this);}
else if($.isFunction(settings.action)){module.verbose('Triggering user action',settings.action,text,value);settings.action.call(element,text,value,this);}
else{module.error(error.action,settings.action);}
selectActionActive=false;},eventInModule:function(event,callback){var
$target=$(event.target),inDocument=($target.closest(document.documentElement).length>0),inModule=($target.closest($module).length>0);callback=$.isFunction(callback)?callback:function(){};if(inDocument&&!inModule){module.verbose('Triggering event',callback);callback();return true;}
else{module.verbose('Event occurred in dropdown, canceling callback');return false;}},eventOnElement:function(event,callback){var
$target=$(event.target),$label=$target.closest(selector.siblingLabel),inVisibleDOM=document.body.contains(event.target),notOnLabel=($module.find($label).length===0||!(module.is.multiple()&&settings.useLabels)),notInMenu=($target.closest($menu).length===0);callback=$.isFunction(callback)?callback:function(){};if(inVisibleDOM&&notOnLabel&&notInMenu){module.verbose('Triggering event',callback);callback();return true;}
else{module.verbose('Event occurred in dropdown menu, canceling callback');return false;}}},action:{nothing:function(){},activate:function(text,value,element){value=(value!==undefined)?value:text;if(module.can.activate($(element))){module.set.selected(value,$(element));if(!module.is.multiple()){module.hideAndClear();}}},select:function(text,value,element){value=(value!==undefined)?value:text;if(module.can.activate($(element))){module.set.value(value,text,$(element));if(!module.is.multiple()){module.hideAndClear();}}},combo:function(text,value,element){value=(value!==undefined)?value:text;module.set.selected(value,$(element));module.hideAndClear();},hide:function(text,value,element){module.set.value(value,text,$(element));module.hideAndClear();}},get:{id:function(){return id;},defaultText:function(){return $module.data(metadata.defaultText);},defaultValue:function(){return $module.data(metadata.defaultValue);},placeholderText:function(){if(settings.placeholder!='auto'&&typeof settings.placeholder=='string'){return settings.placeholder;}
return $module.data(metadata.placeholderText)||'';},text:function(){return settings.preserveHTML?$text.html():$text.text();},query:function(){return String($search.val()).trim();},searchWidth:function(value){value=(value!==undefined)?value:$search.val();$sizer.text(value);return Math.ceil($sizer.width()+1);},selectionCount:function(){var
values=module.get.values(),count;count=(module.is.multiple())?Array.isArray(values)?values.length:0:(module.get.value()!=='')?1:0;return count;},transition:function($subMenu){return(settings.transition=='auto')?module.is.upward($subMenu)?'slide up':'slide down':settings.transition;},userValues:function(){var
values=module.get.values();if(!values){return false;}
values=Array.isArray(values)?values:[values];return $.grep(values,function(value){return(module.get.item(value)===false);});},uniqueArray:function(array){return $.grep(array,function(value,index){return $.inArray(value,array)===index;});},caretPosition:function(returnEndPos){var
input=$search.get(0),range,rangeLength;if(returnEndPos&&'selectionEnd'in input){return input.selectionEnd;}
else if(!returnEndPos&&'selectionStart'in input){return input.selectionStart;}
if(document.selection){input.focus();range=document.selection.createRange();rangeLength=range.text.length;if(returnEndPos){return rangeLength;}
range.moveStart('character',-input.value.length);return range.text.length-rangeLength;}},value:function(){var
value=($input.length>0)?$input.val():$module.data(metadata.value),isEmptyMultiselect=(Array.isArray(value)&&value.length===1&&value[0]==='');return(value===undefined||isEmptyMultiselect)?'':value;},values:function(){var
value=module.get.value();if(value===''){return'';}
return(!module.has.selectInput()&&module.is.multiple())?(typeof value=='string')?module.escape.htmlEntities(value).split(settings.delimiter):'':value;},remoteValues:function(){var
values=module.get.values(),remoteValues=false;if(values){if(typeof values=='string'){values=[values];}
$.each(values,function(index,value){var
name=module.read.remoteData(value);module.verbose('Restoring value from session data',name,value);if(name){if(!remoteValues){remoteValues={};}
remoteValues[value]=name;}});}
return remoteValues;},choiceText:function($choice,preserveHTML){preserveHTML=(preserveHTML!==undefined)?preserveHTML:settings.preserveHTML;if($choice){if($choice.find(selector.menu).length>0){module.verbose('Retrieving text of element with sub-menu');$choice=$choice.clone();$choice.find(selector.menu).remove();$choice.find(selector.menuIcon).remove();}
return($choice.data(metadata.text)!==undefined)?$choice.data(metadata.text):(preserveHTML)?$choice.html().trim():$choice.text().trim();}},choiceValue:function($choice,choiceText){choiceText=choiceText||module.get.choiceText($choice);if(!$choice){return false;}
return($choice.data(metadata.value)!==undefined)?String($choice.data(metadata.value)):(typeof choiceText==='string')?String(settings.ignoreSearchCase?choiceText.toLowerCase():choiceText).trim():String(choiceText);},inputEvent:function(){var
input=$search[0];if(input){return(input.oninput!==undefined)?'input':(input.onpropertychange!==undefined)?'propertychange':'keyup';}
return false;},selectValues:function(){var
select={},oldGroup=[],values=[];$module.find('option').each(function(){var
$option=$(this),name=$option.html(),disabled=$option.attr('disabled'),value=($option.attr('value')!==undefined)?$option.attr('value'):name,text=($option.data(metadata.text)!==undefined)?$option.data(metadata.text):name,group=$option.parent('optgroup');if(settings.placeholder==='auto'&&value===''){select.placeholder=name;}
else{if(group.length!==oldGroup.length||group[0]!==oldGroup[0]){values.push({type:'header',divider:settings.headerDivider,name:group.attr('label')||''});oldGroup=group;}
values.push({name:name,value:value,text:text,disabled:disabled});}});if(settings.placeholder&&settings.placeholder!=='auto'){module.debug('Setting placeholder value to',settings.placeholder);select.placeholder=settings.placeholder;}
if(settings.sortSelect){if(settings.sortSelect===true){values.sort(function(a,b){return a.name.localeCompare(b.name);});}else if(settings.sortSelect==='natural'){values.sort(function(a,b){return(a.name.toLowerCase().localeCompare(b.name.toLowerCase()));});}else if($.isFunction(settings.sortSelect)){values.sort(settings.sortSelect);}
select[fields.values]=values;module.debug('Retrieved and sorted values from select',select);}
else{select[fields.values]=values;module.debug('Retrieved values from select',select);}
return select;},activeItem:function(){return $item.filter('.'+className.active);},selectedItem:function(){var
$selectedItem=$item.not(selector.unselectable).filter('.'+className.selected);return($selectedItem.length>0)?$selectedItem:$item.eq(0);},itemWithAdditions:function(value){var
$items=module.get.item(value),$userItems=module.create.userChoice(value),hasUserItems=($userItems&&$userItems.length>0);if(hasUserItems){$items=($items.length>0)?$items.add($userItems):$userItems;}
return $items;},item:function(value,strict){var
$selectedItem=false,shouldSearch,isMultiple;value=(value!==undefined)?value:(module.get.values()!==undefined)?module.get.values():module.get.text();isMultiple=(module.is.multiple()&&Array.isArray(value));shouldSearch=(isMultiple)?(value.length>0):(value!==undefined&&value!==null);strict=(value===''||value===false||value===true)?true:strict||false;if(shouldSearch){$item.each(function(){var
$choice=$(this),optionText=module.get.choiceText($choice),optionValue=module.get.choiceValue($choice,optionText);if(optionValue===null||optionValue===undefined){return;}
if(isMultiple){if($.inArray(module.escape.htmlEntities(String(optionValue)),value.map(function(v){return String(v);}))!==-1){$selectedItem=($selectedItem)?$selectedItem.add($choice):$choice;}}
else if(strict){module.verbose('Ambiguous dropdown value using strict type check',$choice,value);if(optionValue===value){$selectedItem=$choice;return true;}}
else{if(settings.ignoreCase){optionValue=optionValue.toLowerCase();value=value.toLowerCase();}
if(module.escape.htmlEntities(String(optionValue))===module.escape.htmlEntities(String(value))){module.verbose('Found select item by value',optionValue,value);$selectedItem=$choice;return true;}}});}
return $selectedItem;}},check:{maxSelections:function(selectionCount){if(settings.maxSelections){selectionCount=(selectionCount!==undefined)?selectionCount:module.get.selectionCount();if(selectionCount>=settings.maxSelections){module.debug('Maximum selection count reached');if(settings.useLabels){$item.addClass(className.filtered);module.add.message(message.maxSelections);}
return true;}
else{module.verbose('No longer at maximum selection count');module.remove.message();module.remove.filteredItem();if(module.is.searchSelection()){module.filterItems();}
return false;}}
return true;},disabled:function(){$search.attr('tabindex',module.is.disabled()?-1:0);}},restore:{defaults:function(preventChangeTrigger){module.clear(preventChangeTrigger);module.restore.defaultText();module.restore.defaultValue();},defaultText:function(){var
defaultText=module.get.defaultText(),placeholderText=module.get.placeholderText;if(defaultText===placeholderText){module.debug('Restoring default placeholder text',defaultText);module.set.placeholderText(defaultText);}
else{module.debug('Restoring default text',defaultText);module.set.text(defaultText);}},placeholderText:function(){module.set.placeholderText();},defaultValue:function(){var
defaultValue=module.get.defaultValue();if(defaultValue!==undefined){module.debug('Restoring default value',defaultValue);if(defaultValue!==''){module.set.value(defaultValue);module.set.selected();}
else{module.remove.activeItem();module.remove.selectedItem();}}},labels:function(){if(settings.allowAdditions){if(!settings.useLabels){module.error(error.labels);settings.useLabels=true;}
module.debug('Restoring selected values');module.create.userLabels();}
module.check.maxSelections();},selected:function(){module.restore.values();if(module.is.multiple()){module.debug('Restoring previously selected values and labels');module.restore.labels();}
else{module.debug('Restoring previously selected values');}},values:function(){module.set.initialLoad();if(settings.apiSettings&&settings.saveRemoteData&&module.get.remoteValues()){module.restore.remoteValues();}
else{module.set.selected();}
var value=module.get.value();if(value&&value!==''&&!(Array.isArray(value)&&value.length===0)){$input.removeClass(className.noselection);}else{$input.addClass(className.noselection);}
module.remove.initialLoad();},remoteValues:function(){var
values=module.get.remoteValues();module.debug('Recreating selected from session data',values);if(values){if(module.is.single()){$.each(values,function(value,name){module.set.text(name);});}
else{$.each(values,function(value,name){module.add.label(value,name);});}}}},read:{remoteData:function(value){var
name;if(window.Storage===undefined){module.error(error.noStorage);return;}
name=sessionStorage.getItem(value);return(name!==undefined)?name:false;}},save:{defaults:function(){module.save.defaultText();module.save.placeholderText();module.save.defaultValue();},defaultValue:function(){var
value=module.get.value();module.verbose('Saving default value as',value);$module.data(metadata.defaultValue,value);},defaultText:function(){var
text=module.get.text();module.verbose('Saving default text as',text);$module.data(metadata.defaultText,text);},placeholderText:function(){var
text;if(settings.placeholder!==false&&$text.hasClass(className.placeholder)){text=module.get.text();module.verbose('Saving placeholder text as',text);$module.data(metadata.placeholderText,text);}},remoteData:function(name,value){if(window.Storage===undefined){module.error(error.noStorage);return;}
module.verbose('Saving remote data to session storage',value,name);sessionStorage.setItem(value,name);}},clear:function(preventChangeTrigger){if(module.is.multiple()&&settings.useLabels){module.remove.labels();}
else{module.remove.activeItem();module.remove.selectedItem();module.remove.filteredItem();}
module.set.placeholderText();module.clearValue(preventChangeTrigger);},clearValue:function(preventChangeTrigger){module.set.value('',null,null,preventChangeTrigger);},scrollPage:function(direction,$selectedItem){var
$currentItem=$selectedItem||module.get.selectedItem(),$menu=$currentItem.closest(selector.menu),menuHeight=$menu.outerHeight(),currentScroll=$menu.scrollTop(),itemHeight=$item.eq(0).outerHeight(),itemsPerPage=Math.floor(menuHeight/itemHeight),maxScroll=$menu.prop('scrollHeight'),newScroll=(direction=='up')?currentScroll-(itemHeight*itemsPerPage):currentScroll+(itemHeight*itemsPerPage),$selectableItem=$item.not(selector.unselectable),isWithinRange,$nextSelectedItem,elementIndex;elementIndex=(direction=='up')?$selectableItem.index($currentItem)-itemsPerPage:$selectableItem.index($currentItem)+itemsPerPage;isWithinRange=(direction=='up')?(elementIndex>=0):(elementIndex<$selectableItem.length);$nextSelectedItem=(isWithinRange)?$selectableItem.eq(elementIndex):(direction=='up')?$selectableItem.first():$selectableItem.last();if($nextSelectedItem.length>0){module.debug('Scrolling page',direction,$nextSelectedItem);$currentItem.removeClass(className.selected);$nextSelectedItem.addClass(className.selected);if(settings.selectOnKeydown&&module.is.single()){module.set.selectedItem($nextSelectedItem);}
$menu.scrollTop(newScroll);}},set:{filtered:function(){var
isMultiple=module.is.multiple(),isSearch=module.is.searchSelection(),isSearchMultiple=(isMultiple&&isSearch),searchValue=(isSearch)?module.get.query():'',hasSearchValue=(typeof searchValue==='string'&&searchValue.length>0),searchWidth=module.get.searchWidth(),valueIsSet=searchValue!=='';if(isMultiple&&hasSearchValue){module.verbose('Adjusting input width',searchWidth,settings.glyphWidth);$search.css('width',searchWidth);}
if(hasSearchValue||(isSearchMultiple&&valueIsSet)){module.verbose('Hiding placeholder text');$text.addClass(className.filtered);}
else if(!isMultiple||(isSearchMultiple&&!valueIsSet)){module.verbose('Showing placeholder text');$text.removeClass(className.filtered);}},empty:function(){$module.addClass(className.empty);},loading:function(){$module.addClass(className.loading);},placeholderText:function(text){text=text||module.get.placeholderText();module.debug('Setting placeholder text',text);module.set.text(text);$text.addClass(className.placeholder);},tabbable:function(){if(module.is.searchSelection()){module.debug('Added tabindex to searchable dropdown');$search.val('');module.check.disabled();$menu.attr('tabindex',-1);}
else{module.debug('Added tabindex to dropdown');if($module.attr('tabindex')===undefined){$module.attr('tabindex',0);$menu.attr('tabindex',-1);}}},initialLoad:function(){module.verbose('Setting initial load');initialLoad=true;},activeItem:function($item){if(settings.allowAdditions&&$item.filter(selector.addition).length>0){$item.addClass(className.filtered);}
else{$item.addClass(className.active);}},partialSearch:function(text){var
length=module.get.query().length;$search.val(text.substr(0,length));},scrollPosition:function($item,forceScroll){var
edgeTolerance=5,$menu,hasActive,offset,itemHeight,itemOffset,menuOffset,menuScroll,menuHeight,abovePage,belowPage;$item=$item||module.get.selectedItem();$menu=$item.closest(selector.menu);hasActive=($item&&$item.length>0);forceScroll=(forceScroll!==undefined)?forceScroll:false;if(module.get.activeItem().length===0){forceScroll=false;}
if($item&&$menu.length>0&&hasActive){itemOffset=$item.position().top;$menu.addClass(className.loading);menuScroll=$menu.scrollTop();menuOffset=$menu.offset().top;itemOffset=$item.offset().top;offset=menuScroll-menuOffset+itemOffset;if(!forceScroll){menuHeight=$menu.height();belowPage=menuScroll+menuHeight<(offset+edgeTolerance);abovePage=((offset-edgeTolerance)<menuScroll);}
module.debug('Scrolling to active item',offset);if(forceScroll||abovePage||belowPage){$menu.scrollTop(offset);}
$menu.removeClass(className.loading);}},text:function(text){if(settings.action==='combo'){module.debug('Changing combo button text',text,$combo);if(settings.preserveHTML){$combo.html(text);}
else{$combo.text(text);}}
else if(settings.action==='activate'){if(text!==module.get.placeholderText()){$text.removeClass(className.placeholder);}
module.debug('Changing text',text,$text);$text.removeClass(className.filtered);if(settings.preserveHTML){$text.html(text);}
else{$text.text(text);}}},selectedItem:function($item){var
value=module.get.choiceValue($item),searchText=module.get.choiceText($item,false),text=module.get.choiceText($item,true);module.debug('Setting user selection to item',$item);module.remove.activeItem();module.set.partialSearch(searchText);module.set.activeItem($item);module.set.selected(value,$item);module.set.text(text);},selectedLetter:function(letter){var
$selectedItem=$item.filter('.'+className.selected),alreadySelectedLetter=$selectedItem.length>0&&module.has.firstLetter($selectedItem,letter),$nextValue=false,$nextItem;if(alreadySelectedLetter){$nextItem=$selectedItem.nextAll($item).eq(0);if(module.has.firstLetter($nextItem,letter)){$nextValue=$nextItem;}}
if(!$nextValue){$item.each(function(){if(module.has.firstLetter($(this),letter)){$nextValue=$(this);return false;}});}
if($nextValue){module.verbose('Scrolling to next value with letter',letter);module.set.scrollPosition($nextValue);$selectedItem.removeClass(className.selected);$nextValue.addClass(className.selected);if(settings.selectOnKeydown&&module.is.single()){module.set.selectedItem($nextValue);}}},direction:function($menu){if(settings.direction=='auto'){if(!$menu){module.remove.upward();}else if(module.is.upward($menu)){module.remove.upward($menu);}
if(module.can.openDownward($menu)){module.remove.upward($menu);}
else{module.set.upward($menu);}
if(!module.is.leftward($menu)&&!module.can.openRightward($menu)){module.set.leftward($menu);}}
else if(settings.direction=='upward'){module.set.upward($menu);}},upward:function($currentMenu){var $element=$currentMenu||$module;$element.addClass(className.upward);},leftward:function($currentMenu){var $element=$currentMenu||$menu;$element.addClass(className.leftward);},value:function(value,text,$selected,preventChangeTrigger){if(value!==undefined&&value!==''&&!(Array.isArray(value)&&value.length===0)){$input.removeClass(className.noselection);}else{$input.addClass(className.noselection);}
var
escapedValue=module.escape.value(value),hasInput=($input.length>0),currentValue=module.get.values(),stringValue=(value!==undefined)?String(value):value,newValue;if(hasInput){if(!settings.allowReselection&&stringValue==currentValue){module.verbose('Skipping value update already same value',value,currentValue);if(!module.is.initialLoad()){return;}}
if(module.is.single()&&module.has.selectInput()&&module.can.extendSelect()){module.debug('Adding user option',value);module.add.optionValue(value);}
module.debug('Updating input value',escapedValue,currentValue);internalChange=true;$input.val(escapedValue);if(settings.fireOnInit===false&&module.is.initialLoad()){module.debug('Input native change event ignored on initial load');}
else if(preventChangeTrigger!==true){module.trigger.change();}
internalChange=false;}
else{module.verbose('Storing value in metadata',escapedValue,$input);if(escapedValue!==currentValue){$module.data(metadata.value,stringValue);}}
if(settings.fireOnInit===false&&module.is.initialLoad()){module.verbose('No callback on initial load',settings.onChange);}
else if(preventChangeTrigger!==true){settings.onChange.call(element,value,text,$selected);}},active:function(){$module.addClass(className.active);},multiple:function(){$module.addClass(className.multiple);},visible:function(){$module.addClass(className.visible);},exactly:function(value,$selectedItem){module.debug('Setting selected to exact values');module.clear();module.set.selected(value,$selectedItem);},selected:function(value,$selectedItem){var
isMultiple=module.is.multiple();$selectedItem=(settings.allowAdditions)?$selectedItem||module.get.itemWithAdditions(value):$selectedItem||module.get.item(value);if(!$selectedItem){return;}
module.debug('Setting selected menu item to',$selectedItem);if(module.is.multiple()){module.remove.searchWidth();}
if(module.is.single()){module.remove.activeItem();module.remove.selectedItem();}
else if(settings.useLabels){module.remove.selectedItem();}
$selectedItem.each(function(){var
$selected=$(this),selectedText=module.get.choiceText($selected),selectedValue=module.get.choiceValue($selected,selectedText),isFiltered=$selected.hasClass(className.filtered),isActive=$selected.hasClass(className.active),isUserValue=$selected.hasClass(className.addition),shouldAnimate=(isMultiple&&$selectedItem.length==1);if(isMultiple){if(!isActive||isUserValue){if(settings.apiSettings&&settings.saveRemoteData){module.save.remoteData(selectedText,selectedValue);}
if(settings.useLabels){module.add.label(selectedValue,selectedText,shouldAnimate);module.add.value(selectedValue,selectedText,$selected);module.set.activeItem($selected);module.filterActive();module.select.nextAvailable($selectedItem);}
else{module.add.value(selectedValue,selectedText,$selected);module.set.text(module.add.variables(message.count));module.set.activeItem($selected);}}
else if(!isFiltered&&(settings.useLabels||selectActionActive)){module.debug('Selected active value, removing label');module.remove.selected(selectedValue);}}
else{if(settings.apiSettings&&settings.saveRemoteData){module.save.remoteData(selectedText,selectedValue);}
module.set.text(selectedText);module.set.value(selectedValue,selectedText,$selected);$selected.addClass(className.active).addClass(className.selected);}});module.remove.searchTerm();}},add:{label:function(value,text,shouldAnimate){var
$next=module.is.searchSelection()?$search:$text,escapedValue=module.escape.value(value),$label;if(settings.ignoreCase){escapedValue=escapedValue.toLowerCase();}
$label=$('<a />').addClass(className.label).attr('data-'+metadata.value,escapedValue).html(templates.label(escapedValue,text,settings.preserveHTML,settings.className));$label=settings.onLabelCreate.call($label,escapedValue,text);if(module.has.label(value)){module.debug('User selection already exists, skipping',escapedValue);return;}
if(settings.label.variation){$label.addClass(settings.label.variation);}
if(shouldAnimate===true){module.debug('Animating in label',$label);$label.addClass(className.hidden).insertBefore($next).transition({animation:settings.label.transition,debug:settings.debug,verbose:settings.verbose,duration:settings.label.duration});}
else{module.debug('Adding selection label',$label);$label.insertBefore($next);}},message:function(message){var
$message=$menu.children(selector.message),html=settings.templates.message(module.add.variables(message));if($message.length>0){$message.html(html);}
else{$message=$('<div/>').html(html).addClass(className.message).appendTo($menu);}},optionValue:function(value){var
escapedValue=module.escape.value(value),$option=$input.find('option[value="'+module.escape.string(escapedValue)+'"]'),hasOption=($option.length>0);if(hasOption){return;}
module.disconnect.selectObserver();if(module.is.single()){module.verbose('Removing previous user addition');$input.find('option.'+className.addition).remove();}
$('<option/>').prop('value',escapedValue).addClass(className.addition).html(value).appendTo($input);module.verbose('Adding user addition as an <option>',value);module.observe.select();},userSuggestion:function(value){var
$addition=$menu.children(selector.addition),$existingItem=module.get.item(value),alreadyHasValue=$existingItem&&$existingItem.not(selector.addition).length,hasUserSuggestion=$addition.length>0,html;if(settings.useLabels&&module.has.maxSelections()){return;}
if(value===''||alreadyHasValue){$addition.remove();return;}
if(hasUserSuggestion){$addition.data(metadata.value,value).data(metadata.text,value).attr('data-'+metadata.value,value).attr('data-'+metadata.text,value).removeClass(className.filtered);if(!settings.hideAdditions){html=settings.templates.addition(module.add.variables(message.addResult,value));$addition.html(html);}
module.verbose('Replacing user suggestion with new value',$addition);}
else{$addition=module.create.userChoice(value);$addition.prependTo($menu);module.verbose('Adding item choice to menu corresponding with user choice addition',$addition);}
if(!settings.hideAdditions||module.is.allFiltered()){$addition.addClass(className.selected).siblings().removeClass(className.selected);}
module.refreshItems();},variables:function(message,term){var
hasCount=(message.search('{count}')!==-1),hasMaxCount=(message.search('{maxCount}')!==-1),hasTerm=(message.search('{term}')!==-1),count,query;module.verbose('Adding templated variables to message',message);if(hasCount){count=module.get.selectionCount();message=message.replace('{count}',count);}
if(hasMaxCount){count=module.get.selectionCount();message=message.replace('{maxCount}',settings.maxSelections);}
if(hasTerm){query=term||module.get.query();message=message.replace('{term}',query);}
return message;},value:function(addedValue,addedText,$selectedItem){var
currentValue=module.get.values(),newValue;if(module.has.value(addedValue)){module.debug('Value already selected');return;}
if(addedValue===''){module.debug('Cannot select blank values from multiselect');return;}
if(Array.isArray(currentValue)){newValue=currentValue.concat([addedValue]);newValue=module.get.uniqueArray(newValue);}
else{newValue=[addedValue];}
if(module.has.selectInput()){if(module.can.extendSelect()){module.debug('Adding value to select',addedValue,newValue,$input);module.add.optionValue(addedValue);}}
else{newValue=newValue.join(settings.delimiter);module.debug('Setting hidden input to delimited value',newValue,$input);}
if(settings.fireOnInit===false&&module.is.initialLoad()){module.verbose('Skipping onadd callback on initial load',settings.onAdd);}
else{settings.onAdd.call(element,addedValue,addedText,$selectedItem);}
module.set.value(newValue,addedText,$selectedItem);module.check.maxSelections();},},remove:{active:function(){$module.removeClass(className.active);},activeLabel:function(){$module.find(selector.label).removeClass(className.active);},empty:function(){$module.removeClass(className.empty);},loading:function(){$module.removeClass(className.loading);},initialLoad:function(){initialLoad=false;},upward:function($currentMenu){var $element=$currentMenu||$module;$element.removeClass(className.upward);},leftward:function($currentMenu){var $element=$currentMenu||$menu;$element.removeClass(className.leftward);},visible:function(){$module.removeClass(className.visible);},activeItem:function(){$item.removeClass(className.active);},filteredItem:function(){if(settings.useLabels&&module.has.maxSelections()){return;}
if(settings.useLabels&&module.is.multiple()){$item.not('.'+className.active).removeClass(className.filtered);}
else{$item.removeClass(className.filtered);}
if(settings.hideDividers){$divider.removeClass(className.hidden);}
module.remove.empty();},optionValue:function(value){var
escapedValue=module.escape.value(value),$option=$input.find('option[value="'+module.escape.string(escapedValue)+'"]'),hasOption=($option.length>0);if(!hasOption||!$option.hasClass(className.addition)){return;}
if(selectObserver){selectObserver.disconnect();module.verbose('Temporarily disconnecting mutation observer');}
$option.remove();module.verbose('Removing user addition as an <option>',escapedValue);if(selectObserver){selectObserver.observe($input[0],{childList:true,subtree:true});}},message:function(){$menu.children(selector.message).remove();},searchWidth:function(){$search.css('width','');},searchTerm:function(){module.verbose('Cleared search term');$search.val('');module.set.filtered();},userAddition:function(){$item.filter(selector.addition).remove();},selected:function(value,$selectedItem){$selectedItem=(settings.allowAdditions)?$selectedItem||module.get.itemWithAdditions(value):$selectedItem||module.get.item(value);if(!$selectedItem){return false;}
$selectedItem.each(function(){var
$selected=$(this),selectedText=module.get.choiceText($selected),selectedValue=module.get.choiceValue($selected,selectedText);if(module.is.multiple()){if(settings.useLabels){module.remove.value(selectedValue,selectedText,$selected);module.remove.label(selectedValue);}
else{module.remove.value(selectedValue,selectedText,$selected);if(module.get.selectionCount()===0){module.set.placeholderText();}
else{module.set.text(module.add.variables(message.count));}}}
else{module.remove.value(selectedValue,selectedText,$selected);}
$selected.removeClass(className.filtered).removeClass(className.active);if(settings.useLabels){$selected.removeClass(className.selected);}});},selectedItem:function(){$item.removeClass(className.selected);},value:function(removedValue,removedText,$removedItem){var
values=module.get.values(),newValue;removedValue=module.escape.htmlEntities(removedValue);if(module.has.selectInput()){module.verbose('Input is <select> removing selected option',removedValue);newValue=module.remove.arrayValue(removedValue,values);module.remove.optionValue(removedValue);}
else{module.verbose('Removing from delimited values',removedValue);newValue=module.remove.arrayValue(removedValue,values);newValue=newValue.join(settings.delimiter);}
if(settings.fireOnInit===false&&module.is.initialLoad()){module.verbose('No callback on initial load',settings.onRemove);}
else{settings.onRemove.call(element,removedValue,removedText,$removedItem);}
module.set.value(newValue,removedText,$removedItem);module.check.maxSelections();},arrayValue:function(removedValue,values){if(!Array.isArray(values)){values=[values];}
values=$.grep(values,function(value){return(removedValue!=value);});module.verbose('Removed value from delimited string',removedValue,values);return values;},label:function(value,shouldAnimate){var
$labels=$module.find(selector.label),$removedLabel=$labels.filter('[data-'+metadata.value+'="'+module.escape.string(settings.ignoreCase?value.toLowerCase():value)+'"]');module.verbose('Removing label',$removedLabel);$removedLabel.remove();},activeLabels:function($activeLabels){$activeLabels=$activeLabels||$module.find(selector.label).filter('.'+className.active);module.verbose('Removing active label selections',$activeLabels);module.remove.labels($activeLabels);},labels:function($labels){$labels=$labels||$module.find(selector.label);module.verbose('Removing labels',$labels);$labels.each(function(){var
$label=$(this),value=$label.data(metadata.value),stringValue=(value!==undefined)?String(value):value,isUserValue=module.is.userValue(stringValue);if(settings.onLabelRemove.call($label,value)===false){module.debug('Label remove callback cancelled removal');return;}
module.remove.message();if(isUserValue){module.remove.value(stringValue);module.remove.label(stringValue);}
else{module.remove.selected(stringValue);}});},tabbable:function(){if(module.is.searchSelection()){module.debug('Searchable dropdown initialized');$search.removeAttr('tabindex');$menu.removeAttr('tabindex');}
else{module.debug('Simple selection dropdown initialized');$module.removeAttr('tabindex');$menu.removeAttr('tabindex');}},diacritics:function(text){return settings.ignoreDiacritics?text.normalize('NFD').replace(/[\u0300-\u036f]/g,''):text;}},has:{menuSearch:function(){return(module.has.search()&&$search.closest($menu).length>0);},clearItem:function(){return($clear.length>0);},search:function(){return($search.length>0);},sizer:function(){return($sizer.length>0);},selectInput:function(){return($input.is('select'));},minCharacters:function(searchTerm){if(settings.minCharacters&&!iconClicked){searchTerm=(searchTerm!==undefined)?String(searchTerm):String(module.get.query());return(searchTerm.length>=settings.minCharacters);}
iconClicked=false;return true;},firstLetter:function($item,letter){var
text,firstLetter;if(!$item||$item.length===0||typeof letter!=='string'){return false;}
text=module.get.choiceText($item,false);letter=letter.toLowerCase();firstLetter=String(text).charAt(0).toLowerCase();return(letter==firstLetter);},input:function(){return($input.length>0);},items:function(){return($item.length>0);},menu:function(){return($menu.length>0);},message:function(){return($menu.children(selector.message).length!==0);},label:function(value){var
escapedValue=module.escape.value(value),$labels=$module.find(selector.label);if(settings.ignoreCase){escapedValue=escapedValue.toLowerCase();}
return($labels.filter('[data-'+metadata.value+'="'+module.escape.string(escapedValue)+'"]').length>0);},maxSelections:function(){return(settings.maxSelections&&module.get.selectionCount()>=settings.maxSelections);},allResultsFiltered:function(){var
$normalResults=$item.not(selector.addition);return($normalResults.filter(selector.unselectable).length===$normalResults.length);},userSuggestion:function(){return($menu.children(selector.addition).length>0);},query:function(){return(module.get.query()!=='');},value:function(value){return(settings.ignoreCase)?module.has.valueIgnoringCase(value):module.has.valueMatchingCase(value);},valueMatchingCase:function(value){var
values=module.get.values(),hasValue=Array.isArray(values)?values&&($.inArray(value,values)!==-1):(values==value);return(hasValue)?true:false;},valueIgnoringCase:function(value){var
values=module.get.values(),hasValue=false;if(!Array.isArray(values)){values=[values];}
$.each(values,function(index,existingValue){if(String(value).toLowerCase()==String(existingValue).toLowerCase()){hasValue=true;return false;}});return hasValue;}},is:{active:function(){return $module.hasClass(className.active);},animatingInward:function(){return $menu.transition('is inward');},animatingOutward:function(){return $menu.transition('is outward');},bubbledLabelClick:function(event){return $(event.target).is('select, input')&&$module.closest('label').length>0;},bubbledIconClick:function(event){return $(event.target).closest($icon).length>0;},alreadySetup:function(){return($module.is('select')&&$module.parent(selector.dropdown).data(moduleNamespace)!==undefined&&$module.prev().length===0);},animating:function($subMenu){return($subMenu)?$subMenu.transition&&$subMenu.transition('is animating'):$menu.transition&&$menu.transition('is animating');},leftward:function($subMenu){var $selectedMenu=$subMenu||$menu;return $selectedMenu.hasClass(className.leftward);},clearable:function(){return($module.hasClass(className.clearable)||settings.clearable);},disabled:function(){return $module.hasClass(className.disabled);},focused:function(){return(document.activeElement===$module[0]);},focusedOnSearch:function(){return(document.activeElement===$search[0]);},allFiltered:function(){return((module.is.multiple()||module.has.search())&&!(settings.hideAdditions==false&&module.has.userSuggestion())&&!module.has.message()&&module.has.allResultsFiltered());},hidden:function($subMenu){return!module.is.visible($subMenu);},initialLoad:function(){return initialLoad;},inObject:function(needle,object){var
found=false;$.each(object,function(index,property){if(property==needle){found=true;return true;}});return found;},multiple:function(){return $module.hasClass(className.multiple);},remote:function(){return settings.apiSettings&&module.can.useAPI();},single:function(){return!module.is.multiple();},selectMutation:function(mutations){var
selectChanged=false;$.each(mutations,function(index,mutation){if($(mutation.target).is('select')||$(mutation.addedNodes).is('select')){selectChanged=true;return false;}});return selectChanged;},search:function(){return $module.hasClass(className.search);},searchSelection:function(){return(module.has.search()&&$search.parent(selector.dropdown).length===1);},selection:function(){return $module.hasClass(className.selection);},userValue:function(value){return($.inArray(value,module.get.userValues())!==-1);},upward:function($menu){var $element=$menu||$module;return $element.hasClass(className.upward);},visible:function($subMenu){return($subMenu)?$subMenu.hasClass(className.visible):$menu.hasClass(className.visible);},verticallyScrollableContext:function(){var
overflowY=($context.get(0)!==window)?$context.css('overflow-y'):false;return(overflowY=='auto'||overflowY=='scroll');},horizontallyScrollableContext:function(){var
overflowX=($context.get(0)!==window)?$context.css('overflow-X'):false;return(overflowX=='auto'||overflowX=='scroll');}},can:{activate:function($item){if(settings.useLabels){return true;}
if(!module.has.maxSelections()){return true;}
if(module.has.maxSelections()&&$item.hasClass(className.active)){return true;}
return false;},openDownward:function($subMenu){var
$currentMenu=$subMenu||$menu,canOpenDownward=true,onScreen={},calculations;$currentMenu.addClass(className.loading);calculations={context:{offset:($context.get(0)===window)?{top:0,left:0}:$context.offset(),scrollTop:$context.scrollTop(),height:$context.outerHeight()},menu:{offset:$currentMenu.offset(),height:$currentMenu.outerHeight()}};if(module.is.verticallyScrollableContext()){calculations.menu.offset.top+=calculations.context.scrollTop;}
onScreen={above:(calculations.context.scrollTop)<=calculations.menu.offset.top-calculations.context.offset.top-calculations.menu.height,below:(calculations.context.scrollTop+calculations.context.height)>=calculations.menu.offset.top-calculations.context.offset.top+calculations.menu.height};if(onScreen.below){module.verbose('Dropdown can fit in context downward',onScreen);canOpenDownward=true;}
else if(!onScreen.below&&!onScreen.above){module.verbose('Dropdown cannot fit in either direction, favoring downward',onScreen);canOpenDownward=true;}
else{module.verbose('Dropdown cannot fit below, opening upward',onScreen);canOpenDownward=false;}
$currentMenu.removeClass(className.loading);return canOpenDownward;},openRightward:function($subMenu){var
$currentMenu=$subMenu||$menu,canOpenRightward=true,isOffscreenRight=false,calculations;$currentMenu.addClass(className.loading);calculations={context:{offset:($context.get(0)===window)?{top:0,left:0}:$context.offset(),scrollLeft:$context.scrollLeft(),width:$context.outerWidth()},menu:{offset:$currentMenu.offset(),width:$currentMenu.outerWidth()}};if(module.is.horizontallyScrollableContext()){calculations.menu.offset.left+=calculations.context.scrollLeft;}
isOffscreenRight=(calculations.menu.offset.left-calculations.context.offset.left+calculations.menu.width>=calculations.context.scrollLeft+calculations.context.width);if(isOffscreenRight){module.verbose('Dropdown cannot fit in context rightward',isOffscreenRight);canOpenRightward=false;}
$currentMenu.removeClass(className.loading);return canOpenRightward;},click:function(){return(hasTouch||settings.on=='click');},extendSelect:function(){return settings.allowAdditions||settings.apiSettings;},show:function(){return!module.is.disabled()&&(module.has.items()||module.has.message());},useAPI:function(){return $.fn.api!==undefined;}},animate:{show:function(callback,$subMenu){var
$currentMenu=$subMenu||$menu,start=($subMenu)?function(){}:function(){module.hideSubMenus();module.hideOthers();module.set.active();},transition;callback=$.isFunction(callback)?callback:function(){};module.verbose('Doing menu show animation',$currentMenu);module.set.direction($subMenu);transition=module.get.transition($subMenu);if(module.is.selection()){module.set.scrollPosition(module.get.selectedItem(),true);}
if(module.is.hidden($currentMenu)||module.is.animating($currentMenu)){var displayType=$module.hasClass('column')?'flex':false;if(transition=='none'){start();$currentMenu.transition({displayType:displayType}).transition('show');callback.call(element);}
else if($.fn.transition!==undefined&&$module.transition('is supported')){$currentMenu.transition({animation:transition+' in',debug:settings.debug,verbose:settings.verbose,duration:settings.duration,queue:true,onStart:start,displayType:displayType,onComplete:function(){callback.call(element);}});}
else{module.error(error.noTransition,transition);}}},hide:function(callback,$subMenu){var
$currentMenu=$subMenu||$menu,start=($subMenu)?function(){}:function(){if(module.can.click()){module.unbind.intent();}
module.remove.active();},transition=module.get.transition($subMenu);callback=$.isFunction(callback)?callback:function(){};if(module.is.visible($currentMenu)||module.is.animating($currentMenu)){module.verbose('Doing menu hide animation',$currentMenu);if(transition=='none'){start();$currentMenu.transition('hide');callback.call(element);}
else if($.fn.transition!==undefined&&$module.transition('is supported')){$currentMenu.transition({animation:transition+' out',duration:settings.duration,debug:settings.debug,verbose:settings.verbose,queue:false,onStart:start,onComplete:function(){callback.call(element);}});}
else{module.error(error.transition);}}}},hideAndClear:function(){module.remove.searchTerm();if(module.has.maxSelections()){return;}
if(module.has.search()){module.hide(function(){module.remove.filteredItem();});}
else{module.hide();}},delay:{show:function(){module.verbose('Delaying show event to ensure user intent');clearTimeout(module.timer);module.timer=setTimeout(module.show,settings.delay.show);},hide:function(){module.verbose('Delaying hide event to ensure user intent');clearTimeout(module.timer);module.timer=setTimeout(module.hide,settings.delay.hide);}},escape:{value:function(value){var
multipleValues=Array.isArray(value),stringValue=(typeof value==='string'),isUnparsable=(!stringValue&&!multipleValues),hasQuotes=(stringValue&&value.search(regExp.quote)!==-1),values=[];if(isUnparsable||!hasQuotes){return value;}
module.debug('Encoding quote values for use in select',value);if(multipleValues){$.each(value,function(index,value){values.push(value.replace(regExp.quote,'&quot;'));});return values;}
return value.replace(regExp.quote,'&quot;');},string:function(text){text=String(text);return text.replace(regExp.escape,'\\$&');},htmlEntities:function(string){var
badChars=/[<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr];};if(shouldEscape.test(string)){string=string.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;");return string.replace(badChars,escapedChar);}
return string;}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:$allModules;};$.fn.dropdown.settings={silent:false,debug:false,verbose:false,performance:true,on:'click',action:'activate',values:false,clearable:false,apiSettings:false,selectOnKeydown:true,minCharacters:0,filterRemoteData:false,saveRemoteData:true,throttle:200,context:window,direction:'auto',keepOnScreen:true,match:'both',fullTextSearch:false,ignoreDiacritics:false,hideDividers:false,placeholder:'auto',preserveHTML:true,sortSelect:false,forceSelection:true,allowAdditions:false,ignoreCase:false,ignoreSearchCase:true,hideAdditions:true,maxSelections:false,useLabels:true,delimiter:',',showOnFocus:true,allowReselection:false,allowTab:true,allowCategorySelection:false,fireOnInit:false,transition:'auto',duration:200,glyphWidth:1.037,headerDivider:true,label:{transition:'scale',duration:200,variation:false},delay:{hide:300,show:200,search:20,touch:50},onChange:function(value,text,$selected){},onAdd:function(value,text,$selected){},onRemove:function(value,text,$selected){},onLabelSelect:function($selectedLabels){},onLabelCreate:function(value,text){return $(this);},onLabelRemove:function(value){return true;},onNoResults:function(searchTerm){return true;},onShow:function(){},onHide:function(){},name:'Dropdown',namespace:'dropdown',message:{addResult:'Add <b>{term}</b>',count:'{count} selected',maxSelections:'Max {maxCount} selections',noResults:'No results found.',serverError:'There was an error contacting the server'},error:{action:'You called a dropdown action that was not defined',alreadySetup:'Once a select has been initialized behaviors must be called on the created ui dropdown',labels:'Allowing user additions currently requires the use of labels.',missingMultiple:'<select> requires multiple property to be set to correctly preserve multiple values',method:'The method you called is not defined.',noAPI:'The API module is required to load resources remotely',noStorage:'Saving remote data requires session storage',noTransition:'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',noNormalize:'"ignoreDiacritics" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s:=@]/g,quote:/"/g},metadata:{defaultText:'defaultText',defaultValue:'defaultValue',placeholderText:'placeholder',text:'text',value:'value'},fields:{remoteValues:'results',values:'values',disabled:'disabled',name:'name',value:'value',text:'text',type:'type',image:'image',imageClass:'imageClass',icon:'icon',iconClass:'iconClass',class:'class',divider:'divider'},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:'.addition',divider:'.divider, .header',dropdown:'.ui.dropdown',hidden:'.hidden',icon:'> .dropdown.icon',input:'> input[type="hidden"], > select',item:'.item',label:'> .label',remove:'> .label > .delete.icon',siblingLabel:'.label',menu:'.menu',message:'.message',menuIcon:'.dropdown.icon',search:'input.search, .menu > .search > input, .menu input.search',sizer:'> span.sizer',text:'> .text:not(.icon)',unselectable:'.disabled, .filtered',clearIcon:'> .remove.icon'},className:{active:'active',addition:'addition',animating:'animating',disabled:'disabled',empty:'empty',dropdown:'ui dropdown',filtered:'filtered',hidden:'hidden transition',icon:'icon',image:'image',item:'item',label:'ui label',loading:'loading',menu:'menu',message:'message',multiple:'multiple',placeholder:'default',sizer:'sizer',search:'search',selected:'selected',selection:'selection',upward:'upward',leftward:'left',visible:'visible',clearable:'clearable',noselection:'noselection',delete:'delete',header:'header',divider:'divider',groupIcon:'',unfilterable:'unfilterable'}};$.fn.dropdown.settings.templates={deQuote:function(string){return String(string).replace(/"/g,"");},escape:function(string,preserveHTML){if(preserveHTML){return string;}
var
badChars=/[<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr];};if(shouldEscape.test(string)){string=string.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;");return string.replace(badChars,escapedChar);}
return string;},dropdown:function(select,fields,preserveHTML,className){var
placeholder=select.placeholder||false,html='',escape=$.fn.dropdown.settings.templates.escape;html+='<i class="dropdown icon"></i>';if(placeholder){html+='<div class="default text">'+escape(placeholder,preserveHTML)+'</div>';}
else{html+='<div class="text"></div>';}
html+='<div class="'+className.menu+'">';html+=$.fn.dropdown.settings.templates.menu(select,fields,preserveHTML,className);html+='</div>';return html;},menu:function(response,fields,preserveHTML,className){var
values=response[fields.values]||[],html='',escape=$.fn.dropdown.settings.templates.escape,deQuote=$.fn.dropdown.settings.templates.deQuote;$.each(values,function(index,option){var
itemType=(option[fields.type])?option[fields.type]:'item';if(itemType==='item'){var
maybeText=(option[fields.text])?' data-text="'+deQuote(option[fields.text])+'"':'',maybeDisabled=(option[fields.disabled])?className.disabled+' ':'';html+='<div class="'+maybeDisabled+(option[fields.class]?deQuote(option[fields.class]):className.item)+'" data-value="'+deQuote(option[fields.value])+'"'+maybeText+'>';if(option[fields.image]){html+='<img class="'+(option[fields.imageClass]?deQuote(option[fields.imageClass]):className.image)+'" src="'+deQuote(option[fields.image])+'">';}
if(option[fields.icon]){html+='<i class="'+deQuote(option[fields.icon])+' '+(option[fields.iconClass]?deQuote(option[fields.iconClass]):className.icon)+'"></i>';}
html+=escape(option[fields.name]||'',preserveHTML);html+='</div>';}else if(itemType==='header'){var groupName=escape(option[fields.name]||'',preserveHTML),groupIcon=option[fields.icon]?deQuote(option[fields.icon]):className.groupIcon;if(groupName!==''||groupIcon!==''){html+='<div class="'+(option[fields.class]?deQuote(option[fields.class]):className.header)+'">';if(groupIcon!==''){html+='<i class="'+groupIcon+' '+(option[fields.iconClass]?deQuote(option[fields.iconClass]):className.icon)+'"></i>';}
html+=groupName;html+='</div>';}
if(option[fields.divider]){html+='<div class="'+className.divider+'"></div>';}}});return html;},label:function(value,text,preserveHTML,className){var
escape=$.fn.dropdown.settings.templates.escape;return escape(text,preserveHTML)+'<i class="'+className.delete+' icon"></i>';},message:function(message){return message;},addition:function(choice){return choice;}};})(jQuery,window,document);;(function($,window,document,undefined){"use strict";$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.embed=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.embed.settings,parameters):$.extend({},$.fn.embed.settings),selector=settings.selector,className=settings.className,sources=settings.sources,error=settings.error,metadata=settings.metadata,namespace=settings.namespace,templates=settings.templates,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$placeholder=$module.find(selector.placeholder),$icon=$module.find(selector.icon),$embed=$module.find(selector.embed),element=this,instance=$module.data(moduleNamespace),module;module={initialize:function(){module.debug('Initializing embed');module.determine.autoplay();module.create();module.bind.events();module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying previous instance of embed');module.reset();$module.removeData(moduleNamespace).off(eventNamespace);},refresh:function(){module.verbose('Refreshing selector cache');$placeholder=$module.find(selector.placeholder);$icon=$module.find(selector.icon);$embed=$module.find(selector.embed);},bind:{events:function(){if(module.has.placeholder()){module.debug('Adding placeholder events');$module.on('click'+eventNamespace,selector.placeholder,module.createAndShow).on('click'+eventNamespace,selector.icon,module.createAndShow);}}},create:function(){var
placeholder=module.get.placeholder();if(placeholder){module.createPlaceholder();}
else{module.createAndShow();}},createPlaceholder:function(placeholder){var
icon=module.get.icon(),url=module.get.url(),embed=module.generate.embed(url);placeholder=placeholder||module.get.placeholder();$module.html(templates.placeholder(placeholder,icon));module.debug('Creating placeholder for embed',placeholder,icon);},createEmbed:function(url){module.refresh();url=url||module.get.url();$embed=$('<div/>').addClass(className.embed).html(module.generate.embed(url)).appendTo($module);settings.onCreate.call(element,url);module.debug('Creating embed object',$embed);},changeEmbed:function(url){$embed.html(module.generate.embed(url));},createAndShow:function(){module.createEmbed();module.show();},change:function(source,id,url){module.debug('Changing video to ',source,id,url);$module.data(metadata.source,source).data(metadata.id,id);if(url){$module.data(metadata.url,url);}
else{$module.removeData(metadata.url);}
if(module.has.embed()){module.changeEmbed();}
else{module.create();}},reset:function(){module.debug('Clearing embed and showing placeholder');module.remove.data();module.remove.active();module.remove.embed();module.showPlaceholder();settings.onReset.call(element);},show:function(){module.debug('Showing embed');module.set.active();settings.onDisplay.call(element);},hide:function(){module.debug('Hiding embed');module.showPlaceholder();},showPlaceholder:function(){module.debug('Showing placeholder image');module.remove.active();settings.onPlaceholderDisplay.call(element);},get:{id:function(){return settings.id||$module.data(metadata.id);},placeholder:function(){return settings.placeholder||$module.data(metadata.placeholder);},icon:function(){return(settings.icon)?settings.icon:($module.data(metadata.icon)!==undefined)?$module.data(metadata.icon):module.determine.icon();},source:function(url){return(settings.source)?settings.source:($module.data(metadata.source)!==undefined)?$module.data(metadata.source):module.determine.source();},type:function(){var source=module.get.source();return(sources[source]!==undefined)?sources[source].type:false;},url:function(){return(settings.url)?settings.url:($module.data(metadata.url)!==undefined)?$module.data(metadata.url):module.determine.url();}},determine:{autoplay:function(){if(module.should.autoplay()){settings.autoplay=true;}},source:function(url){var
matchedSource=false;url=url||module.get.url();if(url){$.each(sources,function(name,source){if(url.search(source.domain)!==-1){matchedSource=name;return false;}});}
return matchedSource;},icon:function(){var
source=module.get.source();return(sources[source]!==undefined)?sources[source].icon:false;},url:function(){var
id=settings.id||$module.data(metadata.id),source=settings.source||$module.data(metadata.source),url;url=(sources[source]!==undefined)?sources[source].url.replace('{id}',id):false;if(url){$module.data(metadata.url,url);}
return url;}},set:{active:function(){$module.addClass(className.active);}},remove:{data:function(){$module.removeData(metadata.id).removeData(metadata.icon).removeData(metadata.placeholder).removeData(metadata.source).removeData(metadata.url);},active:function(){$module.removeClass(className.active);},embed:function(){$embed.empty();}},encode:{parameters:function(parameters){var
urlString=[],index;for(index in parameters){urlString.push(encodeURIComponent(index)+'='+encodeURIComponent(parameters[index]));}
return urlString.join('&amp;');}},generate:{embed:function(url){module.debug('Generating embed html');var
source=module.get.source(),html,parameters;url=module.get.url(url);if(url){parameters=module.generate.parameters(source);html=templates.iframe(url,parameters);}
else{module.error(error.noURL,$module);}
return html;},parameters:function(source,extraParameters){var
parameters=(sources[source]&&sources[source].parameters!==undefined)?sources[source].parameters(settings):{};extraParameters=extraParameters||settings.parameters;if(extraParameters){parameters=$.extend({},parameters,extraParameters);}
parameters=settings.onEmbed(parameters);return module.encode.parameters(parameters);}},has:{embed:function(){return($embed.length>0);},placeholder:function(){return settings.placeholder||$module.data(metadata.placeholder);}},should:{autoplay:function(){return(settings.autoplay==='auto')?(settings.placeholder||$module.data(metadata.placeholder)!==undefined):settings.autoplay;}},is:{video:function(){return module.get.type()=='video';}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if($allModules.length>1){title+=' '+'('+$allModules.length+')';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.embed.settings={name:'Embed',namespace:'embed',silent:false,debug:false,verbose:false,performance:true,icon:false,source:false,url:false,id:false,autoplay:'auto',color:'#444444',hd:true,brandedUI:false,parameters:false,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(url){},onEmbed:function(parameters){return parameters;},metadata:{id:'id',icon:'icon',placeholder:'placeholder',source:'source',url:'url'},error:{noURL:'No URL specified',method:'The method you called is not defined'},className:{active:'active',embed:'embed'},selector:{embed:'.embed',placeholder:'.placeholder',icon:'.icon'},sources:{youtube:{name:'youtube',type:'video',icon:'video play',domain:'youtube.com',url:'//www.youtube.com/embed/{id}',parameters:function(settings){return{autohide:!settings.brandedUI,autoplay:settings.autoplay,color:settings.color||undefined,hq:settings.hd,jsapi:settings.api,modestbranding:!settings.brandedUI};}},vimeo:{name:'vimeo',type:'video',icon:'video play',domain:'vimeo.com',url:'//player.vimeo.com/video/{id}',parameters:function(settings){return{api:settings.api,autoplay:settings.autoplay,byline:settings.brandedUI,color:settings.color||undefined,portrait:settings.brandedUI,title:settings.brandedUI};}}},templates:{iframe:function(url,parameters){var src=url;if(parameters){src+='?'+parameters;}
return''
+'<iframe src="'+src+'"'
+' width="100%" height="100%"'
+' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';},placeholder:function(image,icon){var
html='';if(icon){html+='<i class="'+icon+' icon"></i>';}
if(image){html+='<img class="placeholder" src="'+image+'">';}
return html;}},api:false,onPause:function(){},onPlay:function(){},onStop:function(){}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.modal=function(parameters){var
$allModules=$(this),$window=$(window),$document=$(document),$body=$('body'),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0);},returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.modal.settings,parameters):$.extend({},$.fn.modal.settings),selector=settings.selector,className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$context=$(settings.context),$close=$module.find(selector.close),$allModals,$otherModals,$focusedElement,$dimmable,$dimmer,element=this,instance=$module.data(moduleNamespace),ignoreRepeatedEvents=false,initialMouseDownInModal,initialMouseDownInScrollbar,initialBodyMargin='',tempBodyMargin='',elementEventNamespace,id,observer,module;module={initialize:function(){module.cache={};module.verbose('Initializing dimmer',$context);module.create.id();module.create.dimmer();if(settings.allowMultiple){module.create.innerDimmer();}
if(!settings.centered){$module.addClass('top aligned');}
module.refreshModals();module.bind.events();if(settings.observeChanges){module.observeChanges();}
module.instantiate();},instantiate:function(){module.verbose('Storing instance of modal');instance=module;$module.data(moduleNamespace,instance);},create:{dimmer:function(){var
defaultSettings={debug:settings.debug,dimmerName:'modals'},dimmerSettings=$.extend(true,defaultSettings,settings.dimmerSettings);if($.fn.dimmer===undefined){module.error(error.dimmer);return;}
module.debug('Creating dimmer');$dimmable=$context.dimmer(dimmerSettings);if(settings.detachable){module.verbose('Modal is detachable, moving content into dimmer');$dimmable.dimmer('add content',$module);}
else{module.set.undetached();}
$dimmer=$dimmable.dimmer('get dimmer');},id:function(){id=(Math.random().toString(16)+'000000000').substr(2,8);elementEventNamespace='.'+id;module.verbose('Creating unique id for element',id);},innerDimmer:function(){if($module.find(selector.dimmer).length==0){$module.prepend('<div class="ui inverted dimmer"></div>');}}},destroy:function(){if(observer){observer.disconnect();}
module.verbose('Destroying previous modal');$module.removeData(moduleNamespace).off(eventNamespace);$window.off(elementEventNamespace);$dimmer.off(elementEventNamespace);$close.off(eventNamespace);$context.dimmer('destroy');},observeChanges:function(){if('MutationObserver'in window){observer=new MutationObserver(function(mutations){module.debug('DOM tree modified, refreshing');module.refresh();});observer.observe(element,{childList:true,subtree:true});module.debug('Setting up mutation observer',observer);}},refresh:function(){module.remove.scrolling();module.cacheSizes();if(!module.can.useFlex()){module.set.modalOffset();}
module.set.screenHeight();module.set.type();},refreshModals:function(){$otherModals=$module.siblings(selector.modal);$allModals=$otherModals.add($module);},attachEvents:function(selector,event){var
$toggle=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle;if($toggle.length>0){module.debug('Attaching modal events to element',selector,event);$toggle.off(eventNamespace).on('click'+eventNamespace,event);}
else{module.error(error.notFound,selector);}},bind:{events:function(){module.verbose('Attaching events');$module.on('click'+eventNamespace,selector.close,module.event.close).on('click'+eventNamespace,selector.approve,module.event.approve).on('click'+eventNamespace,selector.deny,module.event.deny);$window.on('resize'+elementEventNamespace,module.event.resize);},scrollLock:function(){$dimmable.get(0).addEventListener('touchmove',module.event.preventScroll,{passive:false});}},unbind:{scrollLock:function(){$dimmable.get(0).removeEventListener('touchmove',module.event.preventScroll,{passive:false});}},get:{id:function(){return(Math.random().toString(16)+'000000000').substr(2,8);}},event:{approve:function(){if(ignoreRepeatedEvents||settings.onApprove.call(element,$(this))===false){module.verbose('Approve callback returned false cancelling hide');return;}
ignoreRepeatedEvents=true;module.hide(function(){ignoreRepeatedEvents=false;});},preventScroll:function(event){if(event.target.className.indexOf('dimmer')!==-1){event.preventDefault();}},deny:function(){if(ignoreRepeatedEvents||settings.onDeny.call(element,$(this))===false){module.verbose('Deny callback returned false cancelling hide');return;}
ignoreRepeatedEvents=true;module.hide(function(){ignoreRepeatedEvents=false;});},close:function(){module.hide();},mousedown:function(event){var
$target=$(event.target),isRtl=module.is.rtl();;initialMouseDownInModal=($target.closest(selector.modal).length>0);if(initialMouseDownInModal){module.verbose('Mouse down event registered inside the modal');}
initialMouseDownInScrollbar=module.is.scrolling()&&((!isRtl&&$(window).outerWidth()-settings.scrollbarWidth<=event.clientX)||(isRtl&&settings.scrollbarWidth>=event.clientX));if(initialMouseDownInScrollbar){module.verbose('Mouse down event registered inside the scrollbar');}},mouseup:function(event){if(!settings.closable){module.verbose('Dimmer clicked but closable setting is disabled');return;}
if(initialMouseDownInModal){module.debug('Dimmer clicked but mouse down was initially registered inside the modal');return;}
if(initialMouseDownInScrollbar){module.debug('Dimmer clicked but mouse down was initially registered inside the scrollbar');return;}
var
$target=$(event.target),isInModal=($target.closest(selector.modal).length>0),isInDOM=$.contains(document.documentElement,event.target);if(!isInModal&&isInDOM&&module.is.active()&&$module.hasClass(className.front)){module.debug('Dimmer clicked, hiding all modals');if(settings.allowMultiple){if(!module.hideAll()){return;}}
else if(!module.hide()){return;}
module.remove.clickaway();}},debounce:function(method,delay){clearTimeout(module.timer);module.timer=setTimeout(method,delay);},keyboard:function(event){var
keyCode=event.which,escapeKey=27;if(keyCode==escapeKey){if(settings.closable){module.debug('Escape key pressed hiding modal');if($module.hasClass(className.front)){module.hide();}}
else{module.debug('Escape key pressed, but closable is set to false');}
event.preventDefault();}},resize:function(){if($dimmable.dimmer('is active')&&(module.is.animating()||module.is.active())){requestAnimationFrame(module.refresh);}}},toggle:function(){if(module.is.active()||module.is.animating()){module.hide();}
else{module.show();}},show:function(callback){callback=$.isFunction(callback)?callback:function(){};module.refreshModals();module.set.dimmerSettings();module.set.dimmerStyles();module.showModal(callback);},hide:function(callback){callback=$.isFunction(callback)?callback:function(){};module.refreshModals();return module.hideModal(callback);},showModal:function(callback){callback=$.isFunction(callback)?callback:function(){};if(module.is.animating()||!module.is.active()){module.showDimmer();module.cacheSizes();module.set.bodyMargin();if(module.can.useFlex()){module.remove.legacy();}
else{module.set.legacy();module.set.modalOffset();module.debug('Using non-flex legacy modal positioning.');}
module.set.screenHeight();module.set.type();module.set.clickaway();if(!settings.allowMultiple&&module.others.active()){module.hideOthers(module.showModal);}
else{ignoreRepeatedEvents=false;if(settings.allowMultiple){if(module.others.active()){$otherModals.filter('.'+className.active).find(selector.dimmer).addClass('active');}
if(settings.detachable){$module.detach().appendTo($dimmer);}}
settings.onShow.call(element);if(settings.transition&&$.fn.transition!==undefined&&$module.transition('is supported')){module.debug('Showing modal with css animations');$module.transition({debug:settings.debug,animation:settings.transition+' in',queue:settings.queue,duration:settings.duration,useFailSafe:true,onComplete:function(){settings.onVisible.apply(element);if(settings.keyboardShortcuts){module.add.keyboardShortcuts();}
module.save.focus();module.set.active();if(settings.autofocus){module.set.autofocus();}
callback();}});}
else{module.error(error.noTransition);}}}
else{module.debug('Modal is already visible');}},hideModal:function(callback,keepDimmed,hideOthersToo){var
$previousModal=$otherModals.filter('.'+className.active).last();callback=$.isFunction(callback)?callback:function(){};module.debug('Hiding modal');if(settings.onHide.call(element,$(this))===false){module.verbose('Hide callback returned false cancelling hide');ignoreRepeatedEvents=false;return false;}
if(module.is.animating()||module.is.active()){if(settings.transition&&$.fn.transition!==undefined&&$module.transition('is supported')){module.remove.active();$module.transition({debug:settings.debug,animation:settings.transition+' out',queue:settings.queue,duration:settings.duration,useFailSafe:true,onStart:function(){if(!module.others.active()&&!module.others.animating()&&!keepDimmed){module.hideDimmer();}
if(settings.keyboardShortcuts&&!module.others.active()){module.remove.keyboardShortcuts();}},onComplete:function(){module.unbind.scrollLock();if(settings.allowMultiple){$previousModal.addClass(className.front);$module.removeClass(className.front);if(hideOthersToo){$allModals.find(selector.dimmer).removeClass('active');}
else{$previousModal.find(selector.dimmer).removeClass('active');}}
settings.onHidden.call(element);module.remove.dimmerStyles();module.restore.focus();callback();}});}
else{module.error(error.noTransition);}}},showDimmer:function(){if($dimmable.dimmer('is animating')||!$dimmable.dimmer('is active')){module.save.bodyMargin();module.debug('Showing dimmer');$dimmable.dimmer('show');}
else{module.debug('Dimmer already visible');}},hideDimmer:function(){if($dimmable.dimmer('is animating')||($dimmable.dimmer('is active'))){module.unbind.scrollLock();$dimmable.dimmer('hide',function(){module.restore.bodyMargin();module.remove.clickaway();module.remove.screenHeight();});}
else{module.debug('Dimmer is not visible cannot hide');return;}},hideAll:function(callback){var
$visibleModals=$allModals.filter('.'+className.active+', .'+className.animating);callback=$.isFunction(callback)?callback:function(){};if($visibleModals.length>0){module.debug('Hiding all visible modals');var hideOk=true;$($visibleModals.get().reverse()).each(function(index,element){if(hideOk){hideOk=$(element).modal('hide modal',callback,false,true);}});if(hideOk){module.hideDimmer();}
return hideOk;}},hideOthers:function(callback){var
$visibleModals=$otherModals.filter('.'+className.active+', .'+className.animating);callback=$.isFunction(callback)?callback:function(){};if($visibleModals.length>0){module.debug('Hiding other modals',$otherModals);$visibleModals.modal('hide modal',callback,true);}},others:{active:function(){return($otherModals.filter('.'+className.active).length>0);},animating:function(){return($otherModals.filter('.'+className.animating).length>0);}},add:{keyboardShortcuts:function(){module.verbose('Adding keyboard shortcuts');$document.on('keyup'+eventNamespace,module.event.keyboard);}},save:{focus:function(){var
$activeElement=$(document.activeElement),inCurrentModal=$activeElement.closest($module).length>0;if(!inCurrentModal){$focusedElement=$(document.activeElement).blur();}},bodyMargin:function(){initialBodyMargin=$body.css('margin-'+(module.can.leftBodyScrollbar()?'left':'right'));var bodyMarginRightPixel=parseInt(initialBodyMargin.replace(/[^\d.]/g,'')),bodyScrollbarWidth=window.innerWidth-document.documentElement.clientWidth;tempBodyMargin=bodyMarginRightPixel+bodyScrollbarWidth;}},restore:{focus:function(){if($focusedElement&&$focusedElement.length>0&&settings.restoreFocus){$focusedElement.focus();}},bodyMargin:function(){var position=module.can.leftBodyScrollbar()?'left':'right';$body.css('margin-'+position,initialBodyMargin);$body.find(selector.bodyFixed.replace('right',position)).css('padding-'+position,initialBodyMargin);}},remove:{active:function(){$module.removeClass(className.active);},legacy:function(){$module.removeClass(className.legacy);},clickaway:function(){if(!settings.detachable){$module.off('mousedown'+elementEventNamespace);}
$dimmer.off('mousedown'+elementEventNamespace);$dimmer.off('mouseup'+elementEventNamespace);},dimmerStyles:function(){$dimmer.removeClass(className.inverted);$dimmable.removeClass(className.blurring);},bodyStyle:function(){if($body.attr('style')===''){module.verbose('Removing style attribute');$body.removeAttr('style');}},screenHeight:function(){module.debug('Removing page height');$body.css('height','');},keyboardShortcuts:function(){module.verbose('Removing keyboard shortcuts');$document.off('keyup'+eventNamespace);},scrolling:function(){$dimmable.removeClass(className.scrolling);$module.removeClass(className.scrolling);}},cacheSizes:function(){$module.addClass(className.loading);var
scrollHeight=$module.prop('scrollHeight'),modalWidth=$module.outerWidth(),modalHeight=$module.outerHeight();if(module.cache.pageHeight===undefined||modalHeight!==0){$.extend(module.cache,{pageHeight:$(document).outerHeight(),width:modalWidth,height:modalHeight+settings.offset,scrollHeight:scrollHeight+settings.offset,contextHeight:(settings.context=='body')?$(window).height():$dimmable.height(),});module.cache.topOffset=-(module.cache.height/2);}
$module.removeClass(className.loading);module.debug('Caching modal and container sizes',module.cache);},can:{leftBodyScrollbar:function(){if(module.cache.leftBodyScrollbar===undefined){module.cache.leftBodyScrollbar=module.is.rtl()&&((module.is.iframe&&!module.is.firefox())||module.is.safari()||module.is.edge()||module.is.ie());}
return module.cache.leftBodyScrollbar;},useFlex:function(){if(settings.useFlex==='auto'){return settings.detachable&&!module.is.ie();}
if(settings.useFlex&&module.is.ie()){module.debug('useFlex true is not supported in IE');}else if(settings.useFlex&&!settings.detachable){module.debug('useFlex true in combination with detachable false is not supported');}
return settings.useFlex;},fit:function(){var
contextHeight=module.cache.contextHeight,verticalCenter=module.cache.contextHeight/2,topOffset=module.cache.topOffset,scrollHeight=module.cache.scrollHeight,height=module.cache.height,paddingHeight=settings.padding,startPosition=(verticalCenter+topOffset);return(scrollHeight>height)?(startPosition+scrollHeight+paddingHeight<contextHeight):(height+(paddingHeight*2)<contextHeight);}},is:{active:function(){return $module.hasClass(className.active);},ie:function(){if(module.cache.isIE===undefined){var
isIE11=(!(window.ActiveXObject)&&'ActiveXObject'in window),isIE=('ActiveXObject'in window);module.cache.isIE=(isIE11||isIE);}
return module.cache.isIE;},animating:function(){return $module.transition('is supported')?$module.transition('is animating'):$module.is(':visible');},scrolling:function(){return $dimmable.hasClass(className.scrolling);},modernBrowser:function(){return!(window.ActiveXObject||'ActiveXObject'in window);},rtl:function(){if(module.cache.isRTL===undefined){module.cache.isRTL=$body.attr('dir')==='rtl'||$body.css('direction')==='rtl';}
return module.cache.isRTL;},safari:function(){if(module.cache.isSafari===undefined){module.cache.isSafari=/constructor/i.test(window.HTMLElement)||!!window.ApplePaySession;}
return module.cache.isSafari;},edge:function(){if(module.cache.isEdge===undefined){module.cache.isEdge=!!window.setImmediate&&!module.is.ie();}
return module.cache.isEdge;},firefox:function(){if(module.cache.isFirefox===undefined){module.cache.isFirefox=!!window.InstallTrigger;}
return module.cache.isFirefox;},iframe:function(){return!(self===top);}},set:{autofocus:function(){var
$inputs=$module.find('[tabindex], :input').filter(':visible').filter(function(){return $(this).closest('.disabled').length===0;}),$autofocus=$inputs.filter('[autofocus]'),$input=($autofocus.length>0)?$autofocus.first():$inputs.first();if($input.length>0){$input.focus();}},bodyMargin:function(){var position=module.can.leftBodyScrollbar()?'left':'right';if(settings.detachable||module.can.fit()){$body.css('margin-'+position,tempBodyMargin+'px');}
$body.find(selector.bodyFixed.replace('right',position)).css('padding-'+position,tempBodyMargin+'px');},clickaway:function(){if(!settings.detachable){$module.on('mousedown'+elementEventNamespace,module.event.mousedown);}
$dimmer.on('mousedown'+elementEventNamespace,module.event.mousedown);$dimmer.on('mouseup'+elementEventNamespace,module.event.mouseup);},dimmerSettings:function(){if($.fn.dimmer===undefined){module.error(error.dimmer);return;}
var
defaultSettings={debug:settings.debug,dimmerName:'modals',closable:'auto',useFlex:module.can.useFlex(),duration:{show:settings.duration,hide:settings.duration}},dimmerSettings=$.extend(true,defaultSettings,settings.dimmerSettings);if(settings.inverted){dimmerSettings.variation=(dimmerSettings.variation!==undefined)?dimmerSettings.variation+' inverted':'inverted';}
$context.dimmer('setting',dimmerSettings);},dimmerStyles:function(){if(settings.inverted){$dimmer.addClass(className.inverted);}
else{$dimmer.removeClass(className.inverted);}
if(settings.blurring){$dimmable.addClass(className.blurring);}
else{$dimmable.removeClass(className.blurring);}},modalOffset:function(){if(!settings.detachable){var canFit=module.can.fit();$module.css({top:(!$module.hasClass('aligned')&&canFit)?$(document).scrollTop()+(module.cache.contextHeight-module.cache.height)/2:!canFit||$module.hasClass('top')?$(document).scrollTop()+settings.padding:$(document).scrollTop()+(module.cache.contextHeight-module.cache.height-settings.padding),marginLeft:-(module.cache.width/2)});}else{$module.css({marginTop:(!$module.hasClass('aligned')&&module.can.fit())?-(module.cache.height/2):settings.padding/2,marginLeft:-(module.cache.width/2)});}
module.verbose('Setting modal offset for legacy mode');},screenHeight:function(){if(module.can.fit()){$body.css('height','');}
else if(!$module.hasClass('bottom')){module.debug('Modal is taller than page content, resizing page height');$body.css('height',module.cache.height+(settings.padding*2));}},active:function(){$module.addClass(className.active+' '+className.front);$otherModals.filter('.'+className.active).removeClass(className.front);},scrolling:function(){$dimmable.addClass(className.scrolling);$module.addClass(className.scrolling);module.unbind.scrollLock();},legacy:function(){$module.addClass(className.legacy);},type:function(){if(module.can.fit()){module.verbose('Modal fits on screen');if(!module.others.active()&&!module.others.animating()){module.remove.scrolling();module.bind.scrollLock();}}
else if(!$module.hasClass('bottom')){module.verbose('Modal cannot fit on screen setting to scrolling');module.set.scrolling();}else{module.verbose('Bottom aligned modal not fitting on screen is unsupported for scrolling');}},undetached:function(){$dimmable.addClass(className.undetached);}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.modal.settings={name:'Modal',namespace:'modal',useFlex:'auto',offset:0,silent:false,debug:false,verbose:false,performance:true,observeChanges:false,allowMultiple:false,detachable:true,closable:true,autofocus:true,restoreFocus:true,inverted:false,blurring:false,centered:true,dimmerSettings:{closable:false,useCSS:true},keyboardShortcuts:true,context:'body',queue:false,duration:500,transition:'scale',padding:50,scrollbarWidth:10,onShow:function(){},onVisible:function(){},onHide:function(){return true;},onHidden:function(){},onApprove:function(){return true;},onDeny:function(){return true;},selector:{close:'> .close',approve:'.actions .positive, .actions .approve, .actions .ok',deny:'.actions .negative, .actions .deny, .actions .cancel',modal:'.ui.modal',dimmer:'> .ui.dimmer',bodyFixed:'> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar'},error:{dimmer:'UI Dimmer, a required component is not included in this page',method:'The method you called is not defined.',notFound:'The element you specified could not be found'},className:{active:'active',animating:'animating',blurring:'blurring',inverted:'inverted',legacy:'legacy',loading:'loading',scrolling:'scrolling',undetached:'undetached',front:'front'}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.nag=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.nag.settings,parameters):$.extend({},$.fn.nag.settings),selector=settings.selector,error=settings.error,namespace=settings.namespace,eventNamespace='.'+namespace,moduleNamespace=namespace+'-module',$module=$(this),$context=(settings.context)?$(settings.context):$('body'),element=this,instance=$module.data(moduleNamespace),module;module={initialize:function(){module.verbose('Initializing element');$module.on('click'+eventNamespace,selector.close,module.dismiss).data(moduleNamespace,module);if(settings.detachable&&$module.parent()[0]!==$context[0]){$module.detach().prependTo($context);}
if(settings.displayTime>0){setTimeout(module.hide,settings.displayTime);}
module.show();},destroy:function(){module.verbose('Destroying instance');$module.removeData(moduleNamespace).off(eventNamespace);},show:function(){if(module.should.show()&&!$module.is(':visible')){module.debug('Showing nag',settings.animation.show);if(settings.animation.show=='fade'){$module.fadeIn(settings.duration,settings.easing);}
else{$module.slideDown(settings.duration,settings.easing);}}},hide:function(){module.debug('Showing nag',settings.animation.hide);if(settings.animation.show=='fade'){$module.fadeIn(settings.duration,settings.easing);}
else{$module.slideUp(settings.duration,settings.easing);}},onHide:function(){module.debug('Removing nag',settings.animation.hide);$module.remove();if(settings.onHide){settings.onHide();}},dismiss:function(event){if(settings.storageMethod){module.storage.set(settings.key,settings.value);}
module.hide();event.stopImmediatePropagation();event.preventDefault();},should:{show:function(){if(settings.persist){module.debug('Persistent nag is set, can show nag');return true;}
if(module.storage.get(settings.key)!=settings.value.toString()){module.debug('Stored value is not set, can show nag',module.storage.get(settings.key));return true;}
module.debug('Stored value is set, cannot show nag',module.storage.get(settings.key));return false;}},get:{storageOptions:function(){var
options={};if(settings.expires){options.expires=settings.expires;}
if(settings.domain){options.domain=settings.domain;}
if(settings.path){options.path=settings.path;}
return options;}},clear:function(){module.storage.remove(settings.key);},storage:{set:function(key,value){var
options=module.get.storageOptions();if(settings.storageMethod=='localstorage'&&window.localStorage!==undefined){window.localStorage.setItem(key,value);module.debug('Value stored using local storage',key,value);}
else if(settings.storageMethod=='sessionstorage'&&window.sessionStorage!==undefined){window.sessionStorage.setItem(key,value);module.debug('Value stored using session storage',key,value);}
else if($.cookie!==undefined){$.cookie(key,value,options);module.debug('Value stored using cookie',key,value,options);}
else{module.error(error.noCookieStorage);return;}},get:function(key,value){var
storedValue;if(settings.storageMethod=='localstorage'&&window.localStorage!==undefined){storedValue=window.localStorage.getItem(key);}
else if(settings.storageMethod=='sessionstorage'&&window.sessionStorage!==undefined){storedValue=window.sessionStorage.getItem(key);}
else if($.cookie!==undefined){storedValue=$.cookie(key);}
else{module.error(error.noCookieStorage);}
if(storedValue=='undefined'||storedValue=='null'||storedValue===undefined||storedValue===null){storedValue=undefined;}
return storedValue;},remove:function(key){var
options=module.get.storageOptions();if(settings.storageMethod=='localstorage'&&window.localStorage!==undefined){window.localStorage.removeItem(key);}
else if(settings.storageMethod=='sessionstorage'&&window.sessionStorage!==undefined){window.sessionStorage.removeItem(key);}
else if($.cookie!==undefined){$.removeCookie(key,options);}
else{module.error(error.noStorage);}}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.nag.settings={name:'Nag',silent:false,debug:false,verbose:false,performance:true,namespace:'Nag',persist:false,displayTime:0,animation:{show:'slide',hide:'slide'},context:false,detachable:false,expires:30,domain:false,path:'/',storageMethod:'cookie',key:'nag',value:'dismiss',error:{noCookieStorage:'$.cookie is not included. A storage solution is required.',noStorage:'Neither $.cookie or store is defined. A storage solution is required for storing state',method:'The method you called is not defined.'},className:{bottom:'bottom',fixed:'fixed'},selector:{close:'.close.icon'},speed:500,easing:'easeOutQuad',onHide:function(){}};$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;}});})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.popup=function(parameters){var
$allModules=$(this),$document=$(document),$window=$(window),$body=$('body'),moduleSelector=$allModules.selector||'',clickEvent=('ontouchstart'in document.documentElement)?'touchstart':'click',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.popup.settings,parameters):$.extend({},$.fn.popup.settings),selector=settings.selector,className=settings.className,error=settings.error,metadata=settings.metadata,namespace=settings.namespace,eventNamespace='.'+settings.namespace,moduleNamespace='module-'+namespace,$module=$(this),$context=$(settings.context),$scrollContext=$(settings.scrollContext),$boundary=$(settings.boundary),$target=(settings.target)?$(settings.target):$module,$popup,$offsetParent,searchDepth=0,triedPositions=false,openedWithTouch=false,element=this,instance=$module.data(moduleNamespace),documentObserver,elementNamespace,id,module;module={initialize:function(){module.debug('Initializing',$module);module.createID();module.bind.events();if(!module.exists()&&settings.preserve){module.create();}
if(settings.observeChanges){module.observeChanges();}
module.instantiate();},instantiate:function(){module.verbose('Storing instance',module);instance=module;$module.data(moduleNamespace,instance);},observeChanges:function(){if('MutationObserver'in window){documentObserver=new MutationObserver(module.event.documentChanged);documentObserver.observe(document,{childList:true,subtree:true});module.debug('Setting up mutation observer',documentObserver);}},refresh:function(){if(settings.popup){$popup=$(settings.popup).eq(0);}
else{if(settings.inline){$popup=$target.nextAll(selector.popup).eq(0);settings.popup=$popup;}}
if(settings.popup){$popup.addClass(className.loading);$offsetParent=module.get.offsetParent();$popup.removeClass(className.loading);if(settings.movePopup&&module.has.popup()&&module.get.offsetParent($popup)[0]!==$offsetParent[0]){module.debug('Moving popup to the same offset parent as target');$popup.detach().appendTo($offsetParent);}}
else{$offsetParent=(settings.inline)?module.get.offsetParent($target):module.has.popup()?module.get.offsetParent($popup):$body;}
if($offsetParent.is('html')&&$offsetParent[0]!==$body[0]){module.debug('Setting page as offset parent');$offsetParent=$body;}
if(module.get.variation()){module.set.variation();}},reposition:function(){module.refresh();module.set.position();},destroy:function(){module.debug('Destroying previous module');if(documentObserver){documentObserver.disconnect();}
if($popup&&!settings.preserve){module.removePopup();}
clearTimeout(module.hideTimer);clearTimeout(module.showTimer);module.unbind.close();module.unbind.events();$module.removeData(moduleNamespace);},event:{start:function(event){var
delay=($.isPlainObject(settings.delay))?settings.delay.show:settings.delay;clearTimeout(module.hideTimer);if(!openedWithTouch||(openedWithTouch&&settings.addTouchEvents)){module.showTimer=setTimeout(module.show,delay);}},end:function(){var
delay=($.isPlainObject(settings.delay))?settings.delay.hide:settings.delay;clearTimeout(module.showTimer);module.hideTimer=setTimeout(module.hide,delay);},touchstart:function(event){openedWithTouch=true;if(settings.addTouchEvents){module.show();}},resize:function(){if(module.is.visible()){module.set.position();}},documentChanged:function(mutations){[].forEach.call(mutations,function(mutation){if(mutation.removedNodes){[].forEach.call(mutation.removedNodes,function(node){if(node==element||$(node).find(element).length>0){module.debug('Element removed from DOM, tearing down events');module.destroy();}});}});},hideGracefully:function(event){var
$target=$(event.target),isInDOM=$.contains(document.documentElement,event.target),inPopup=($target.closest(selector.popup).length>0);if(event&&!inPopup&&isInDOM){module.debug('Click occurred outside popup hiding popup');module.hide();}
else{module.debug('Click was inside popup, keeping popup open');}}},create:function(){var
html=module.get.html(),title=module.get.title(),content=module.get.content();if(html||content||title){module.debug('Creating pop-up html');if(!html){html=settings.templates.popup({title:title,content:content});}
$popup=$('<div/>').addClass(className.popup).data(metadata.activator,$module).html(html);if(settings.inline){module.verbose('Inserting popup element inline',$popup);$popup.insertAfter($module);}
else{module.verbose('Appending popup element to body',$popup);$popup.appendTo($context);}
module.refresh();module.set.variation();if(settings.hoverable){module.bind.popup();}
settings.onCreate.call($popup,element);}
else if(settings.popup){$(settings.popup).data(metadata.activator,$module);module.verbose('Used popup specified in settings');module.refresh();if(settings.hoverable){module.bind.popup();}}
else if($target.next(selector.popup).length!==0){module.verbose('Pre-existing popup found');settings.inline=true;settings.popup=$target.next(selector.popup).data(metadata.activator,$module);module.refresh();if(settings.hoverable){module.bind.popup();}}
else{module.debug('No content specified skipping display',element);}},createID:function(){id=(Math.random().toString(16)+'000000000').substr(2,8);elementNamespace='.'+id;module.verbose('Creating unique id for element',id);},toggle:function(){module.debug('Toggling pop-up');if(module.is.hidden()){module.debug('Popup is hidden, showing pop-up');module.unbind.close();module.show();}
else{module.debug('Popup is visible, hiding pop-up');module.hide();}},show:function(callback){callback=callback||function(){};module.debug('Showing pop-up',settings.transition);if(module.is.hidden()&&!(module.is.active()&&module.is.dropdown())){if(!module.exists()){module.create();}
if(settings.onShow.call($popup,element)===false){module.debug('onShow callback returned false, cancelling popup animation');return;}
else if(!settings.preserve&&!settings.popup){module.refresh();}
if($popup&&module.set.position()){module.save.conditions();if(settings.exclusive){module.hideAll();}
module.animate.show(callback);}}},hide:function(callback){callback=callback||function(){};if(module.is.visible()||module.is.animating()){if(settings.onHide.call($popup,element)===false){module.debug('onHide callback returned false, cancelling popup animation');return;}
module.remove.visible();module.unbind.close();module.restore.conditions();module.animate.hide(callback);}},hideAll:function(){$(selector.popup).filter('.'+className.popupVisible).each(function(){$(this).data(metadata.activator).popup('hide');});},exists:function(){if(!$popup){return false;}
if(settings.inline||settings.popup){return(module.has.popup());}
else{return($popup.closest($context).length>=1)?true:false;}},removePopup:function(){if(module.has.popup()&&!settings.popup){module.debug('Removing popup',$popup);$popup.remove();$popup=undefined;settings.onRemove.call($popup,element);}},save:{conditions:function(){module.cache={title:$module.attr('title')};if(module.cache.title){$module.removeAttr('title');}
module.verbose('Saving original attributes',module.cache.title);}},restore:{conditions:function(){if(module.cache&&module.cache.title){$module.attr('title',module.cache.title);module.verbose('Restoring original attributes',module.cache.title);}
return true;}},supports:{svg:function(){return(typeof SVGGraphicsElement!=='undefined');}},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){};if(settings.transition&&$.fn.transition!==undefined&&$module.transition('is supported')){module.set.visible();$popup.transition({animation:settings.transition+' in',queue:false,debug:settings.debug,verbose:settings.verbose,duration:settings.duration,onComplete:function(){module.bind.close();callback.call($popup,element);settings.onVisible.call($popup,element);}});}
else{module.error(error.noTransition);}},hide:function(callback){callback=$.isFunction(callback)?callback:function(){};module.debug('Hiding pop-up');if(settings.transition&&$.fn.transition!==undefined&&$module.transition('is supported')){$popup.transition({animation:settings.transition+' out',queue:false,duration:settings.duration,debug:settings.debug,verbose:settings.verbose,onComplete:function(){module.reset();callback.call($popup,element);settings.onHidden.call($popup,element);}});}
else{module.error(error.noTransition);}}},change:{content:function(html){$popup.html(html);}},get:{html:function(){$module.removeData(metadata.html);return $module.data(metadata.html)||settings.html;},title:function(){$module.removeData(metadata.title);return $module.data(metadata.title)||settings.title;},content:function(){$module.removeData(metadata.content);return $module.data(metadata.content)||settings.content||$module.attr('title');},variation:function(){$module.removeData(metadata.variation);return $module.data(metadata.variation)||settings.variation;},popup:function(){return $popup;},popupOffset:function(){return $popup.offset();},calculations:function(){var
$popupOffsetParent=module.get.offsetParent($popup),targetElement=$target[0],isWindow=($boundary[0]==window),targetOffset=$target.offset(),parentOffset=settings.inline||(settings.popup&&settings.movePopup)?$target.offsetParent().offset():{top:0,left:0},screenPosition=(isWindow)?{top:0,left:0}:$boundary.offset(),calculations={},scroll=(isWindow)?{top:$window.scrollTop(),left:$window.scrollLeft()}:{top:0,left:0},screen;calculations={target:{element:$target[0],width:$target.outerWidth(),height:$target.outerHeight(),top:targetOffset.top-parentOffset.top,left:targetOffset.left-parentOffset.left,margin:{}},popup:{width:$popup.outerWidth(),height:$popup.outerHeight()},parent:{width:$offsetParent.outerWidth(),height:$offsetParent.outerHeight()},screen:{top:screenPosition.top,left:screenPosition.left,scroll:{top:scroll.top,left:scroll.left},width:$boundary.width(),height:$boundary.height()}};if($popupOffsetParent.get(0)!==$offsetParent.get(0)){var
popupOffset=$popupOffsetParent.offset();calculations.target.top-=popupOffset.top;calculations.target.left-=popupOffset.left;calculations.parent.width=$popupOffsetParent.outerWidth();calculations.parent.height=$popupOffsetParent.outerHeight();}
if(settings.setFluidWidth&&module.is.fluid()){calculations.container={width:$popup.parent().outerWidth()};calculations.popup.width=calculations.container.width;}
calculations.target.margin.top=(settings.inline)?parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-top'),10):0;calculations.target.margin.left=(settings.inline)?module.is.rtl()?parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-right'),10):parseInt(window.getComputedStyle(targetElement).getPropertyValue('margin-left'),10):0;screen=calculations.screen;calculations.boundary={top:screen.top+screen.scroll.top,bottom:screen.top+screen.scroll.top+screen.height,left:screen.left+screen.scroll.left,right:screen.left+screen.scroll.left+screen.width};return calculations;},id:function(){return id;},startEvent:function(){if(settings.on=='hover'){return'mouseenter';}
else if(settings.on=='focus'){return'focus';}
return false;},scrollEvent:function(){return'scroll';},endEvent:function(){if(settings.on=='hover'){return'mouseleave';}
else if(settings.on=='focus'){return'blur';}
return false;},distanceFromBoundary:function(offset,calculations){var
distanceFromBoundary={},popup,boundary;calculations=calculations||module.get.calculations();popup=calculations.popup;boundary=calculations.boundary;if(offset){distanceFromBoundary={top:(offset.top-boundary.top),left:(offset.left-boundary.left),right:(boundary.right-(offset.left+popup.width)),bottom:(boundary.bottom-(offset.top+popup.height))};module.verbose('Distance from boundaries determined',offset,distanceFromBoundary);}
return distanceFromBoundary;},offsetParent:function($element){var
element=($element!==undefined)?$element[0]:$target[0],parentNode=element.parentNode,$node=$(parentNode);if(parentNode){var
is2D=($node.css('transform')==='none'),isStatic=($node.css('position')==='static'),isBody=$node.is('body');while(parentNode&&!isBody&&isStatic&&is2D){parentNode=parentNode.parentNode;$node=$(parentNode);is2D=($node.css('transform')==='none');isStatic=($node.css('position')==='static');isBody=$node.is('body');}}
return($node&&$node.length>0)?$node:$();},positions:function(){return{'top left':false,'top center':false,'top right':false,'bottom left':false,'bottom center':false,'bottom right':false,'left center':false,'right center':false};},nextPosition:function(position){var
positions=position.split(' '),verticalPosition=positions[0],horizontalPosition=positions[1],opposite={top:'bottom',bottom:'top',left:'right',right:'left'},adjacent={left:'center',center:'right',right:'left'},backup={'top left':'top center','top center':'top right','top right':'right center','right center':'bottom right','bottom right':'bottom center','bottom center':'bottom left','bottom left':'left center','left center':'top left'},adjacentsAvailable=(verticalPosition=='top'||verticalPosition=='bottom'),oppositeTried=false,adjacentTried=false,nextPosition=false;if(!triedPositions){module.verbose('All available positions available');triedPositions=module.get.positions();}
module.debug('Recording last position tried',position);triedPositions[position]=true;if(settings.prefer==='opposite'){nextPosition=[opposite[verticalPosition],horizontalPosition];nextPosition=nextPosition.join(' ');oppositeTried=(triedPositions[nextPosition]===true);module.debug('Trying opposite strategy',nextPosition);}
if((settings.prefer==='adjacent')&&adjacentsAvailable){nextPosition=[verticalPosition,adjacent[horizontalPosition]];nextPosition=nextPosition.join(' ');adjacentTried=(triedPositions[nextPosition]===true);module.debug('Trying adjacent strategy',nextPosition);}
if(adjacentTried||oppositeTried){module.debug('Using backup position',nextPosition);nextPosition=backup[position];}
return nextPosition;}},set:{position:function(position,calculations){if($target.length===0||$popup.length===0){module.error(error.notFound);return;}
var
offset,distanceAway,target,popup,parent,positioning,popupOffset,distanceFromBoundary;calculations=calculations||module.get.calculations();position=position||$module.data(metadata.position)||settings.position;offset=$module.data(metadata.offset)||settings.offset;distanceAway=settings.distanceAway;target=calculations.target;popup=calculations.popup;parent=calculations.parent;if(module.should.centerArrow(calculations)){module.verbose('Adjusting offset to center arrow on small target element');if(position=='top left'||position=='bottom left'){offset+=(target.width/2);offset-=settings.arrowPixelsFromEdge;}
if(position=='top right'||position=='bottom right'){offset-=(target.width/2);offset+=settings.arrowPixelsFromEdge;}}
if(target.width===0&&target.height===0&&!module.is.svg(target.element)){module.debug('Popup target is hidden, no action taken');return false;}
if(settings.inline){module.debug('Adding margin to calculation',target.margin);if(position=='left center'||position=='right center'){offset+=target.margin.top;distanceAway+=-target.margin.left;}
else if(position=='top left'||position=='top center'||position=='top right'){offset+=target.margin.left;distanceAway-=target.margin.top;}
else{offset+=target.margin.left;distanceAway+=target.margin.top;}}
module.debug('Determining popup position from calculations',position,calculations);if(module.is.rtl()){position=position.replace(/left|right/g,function(match){return(match=='left')?'right':'left';});module.debug('RTL: Popup position updated',position);}
if(searchDepth==settings.maxSearchDepth&&typeof settings.lastResort==='string'){position=settings.lastResort;}
switch(position){case'top left':positioning={top:'auto',bottom:parent.height-target.top+distanceAway,left:target.left+offset,right:'auto'};break;case'top center':positioning={bottom:parent.height-target.top+distanceAway,left:target.left+(target.width/2)-(popup.width/2)+offset,top:'auto',right:'auto'};break;case'top right':positioning={bottom:parent.height-target.top+distanceAway,right:parent.width-target.left-target.width-offset,top:'auto',left:'auto'};break;case'left center':positioning={top:target.top+(target.height/2)-(popup.height/2)+offset,right:parent.width-target.left+distanceAway,left:'auto',bottom:'auto'};break;case'right center':positioning={top:target.top+(target.height/2)-(popup.height/2)+offset,left:target.left+target.width+distanceAway,bottom:'auto',right:'auto'};break;case'bottom left':positioning={top:target.top+target.height+distanceAway,left:target.left+offset,bottom:'auto',right:'auto'};break;case'bottom center':positioning={top:target.top+target.height+distanceAway,left:target.left+(target.width/2)-(popup.width/2)+offset,bottom:'auto',right:'auto'};break;case'bottom right':positioning={top:target.top+target.height+distanceAway,right:parent.width-target.left-target.width-offset,left:'auto',bottom:'auto'};break;}
if(positioning===undefined){module.error(error.invalidPosition,position);}
module.debug('Calculated popup positioning values',positioning);$popup.css(positioning).removeClass(className.position).addClass(position).addClass(className.loading);popupOffset=module.get.popupOffset();distanceFromBoundary=module.get.distanceFromBoundary(popupOffset,calculations);if(!settings.forcePosition&&module.is.offstage(distanceFromBoundary,position)){module.debug('Position is outside viewport',position);if(searchDepth<settings.maxSearchDepth){searchDepth++;position=module.get.nextPosition(position);module.debug('Trying new position',position);return($popup)?module.set.position(position,calculations):false;}
else{if(settings.lastResort){module.debug('No position found, showing with last position');}
else{module.debug('Popup could not find a position to display',$popup);module.error(error.cannotPlace,element);module.remove.attempts();module.remove.loading();module.reset();settings.onUnplaceable.call($popup,element);return false;}}}
module.debug('Position is on stage',position);module.remove.attempts();module.remove.loading();if(settings.setFluidWidth&&module.is.fluid()){module.set.fluidWidth(calculations);}
return true;},fluidWidth:function(calculations){calculations=calculations||module.get.calculations();module.debug('Automatically setting element width to parent width',calculations.parent.width);$popup.css('width',calculations.container.width);},variation:function(variation){variation=variation||module.get.variation();if(variation&&module.has.popup()){module.verbose('Adding variation to popup',variation);$popup.addClass(variation);}},visible:function(){$module.addClass(className.visible);}},remove:{loading:function(){$popup.removeClass(className.loading);},variation:function(variation){variation=variation||module.get.variation();if(variation){module.verbose('Removing variation',variation);$popup.removeClass(variation);}},visible:function(){$module.removeClass(className.visible);},attempts:function(){module.verbose('Resetting all searched positions');searchDepth=0;triedPositions=false;}},bind:{events:function(){module.debug('Binding popup events to module');if(settings.on=='click'){$module.on(clickEvent+eventNamespace,module.toggle);}
if(settings.on=='hover'){$module.on('touchstart'+eventNamespace,module.event.touchstart);}
if(module.get.startEvent()){$module.on(module.get.startEvent()+eventNamespace,module.event.start).on(module.get.endEvent()+eventNamespace,module.event.end);}
if(settings.target){module.debug('Target set to element',$target);}
$window.on('resize'+elementNamespace,module.event.resize);},popup:function(){module.verbose('Allowing hover events on popup to prevent closing');if($popup&&module.has.popup()){$popup.on('mouseenter'+eventNamespace,module.event.start).on('mouseleave'+eventNamespace,module.event.end);}},close:function(){if(settings.hideOnScroll===true||(settings.hideOnScroll=='auto'&&settings.on!='click')){module.bind.closeOnScroll();}
if(module.is.closable()){module.bind.clickaway();}
else if(settings.on=='hover'&&openedWithTouch){module.bind.touchClose();}},closeOnScroll:function(){module.verbose('Binding scroll close event to document');$scrollContext.one(module.get.scrollEvent()+elementNamespace,module.event.hideGracefully);},touchClose:function(){module.verbose('Binding popup touchclose event to document');$document.on('touchstart'+elementNamespace,function(event){module.verbose('Touched away from popup');module.event.hideGracefully.call(element,event);});},clickaway:function(){module.verbose('Binding popup close event to document');$document.on(clickEvent+elementNamespace,function(event){module.verbose('Clicked away from popup');module.event.hideGracefully.call(element,event);});}},unbind:{events:function(){$window.off(elementNamespace);$module.off(eventNamespace);},close:function(){$document.off(elementNamespace);$scrollContext.off(elementNamespace);},},has:{popup:function(){return($popup&&$popup.length>0);}},should:{centerArrow:function(calculations){return!module.is.basic()&&calculations.target.width<=(settings.arrowPixelsFromEdge*2);},},is:{closable:function(){if(settings.closable=='auto'){if(settings.on=='hover'){return false;}
return true;}
return settings.closable;},offstage:function(distanceFromBoundary,position){var
offstage=[];$.each(distanceFromBoundary,function(direction,distance){if(distance<-settings.jitter){module.debug('Position exceeds allowable distance from edge',direction,distance,position);offstage.push(direction);}});if(offstage.length>0){return true;}
else{return false;}},svg:function(element){return module.supports.svg()&&(element instanceof SVGGraphicsElement);},basic:function(){return $module.hasClass(className.basic);},active:function(){return $module.hasClass(className.active);},animating:function(){return($popup!==undefined&&$popup.hasClass(className.animating));},fluid:function(){return($popup!==undefined&&$popup.hasClass(className.fluid));},visible:function(){return($popup!==undefined&&$popup.hasClass(className.popupVisible));},dropdown:function(){return $module.hasClass(className.dropdown);},hidden:function(){return!module.is.visible();},rtl:function(){return $module.attr('dir')==='rtl'||$module.css('direction')==='rtl';}},reset:function(){module.remove.visible();if(settings.preserve){if($.fn.transition!==undefined){$popup.transition('remove transition');}}
else{module.removePopup();}},setting:function(name,value){if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){settings[name]=value;}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.popup.settings={name:'Popup',silent:false,debug:false,verbose:false,performance:true,namespace:'popup',observeChanges:true,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:'hover',boundary:window,addTouchEvents:true,position:'top left',forcePosition:false,variation:'',movePopup:true,target:false,popup:false,inline:false,preserve:false,hoverable:false,content:false,html:false,title:false,closable:true,hideOnScroll:'auto',exclusive:false,context:'body',scrollContext:window,prefer:'opposite',lastResort:false,arrowPixelsFromEdge:20,delay:{show:50,hide:70},setFluidWidth:true,duration:200,transition:'scale',distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:'The position you specified is not a valid position',cannotPlace:'Popup does not fit within the boundaries of the viewport',method:'The method you called is not defined.',noTransition:'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',notFound:'The target or popup you specified does not exist on the page'},metadata:{activator:'activator',content:'content',html:'html',offset:'offset',position:'position',title:'title',variation:'variation'},className:{active:'active',basic:'basic',animating:'animating',dropdown:'dropdown',fluid:'fluid',loading:'loading',popup:'ui popup',position:'top left center bottom right',visible:'visible',popupVisible:'visible'},selector:{popup:'.ui.popup'},templates:{escape:function(string){var
badChars=/[<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr];};if(shouldEscape.test(string)){string=string.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;");return string.replace(badChars,escapedChar);}
return string;},popup:function(text){var
html='',escape=$.fn.popup.settings.templates.escape;if(typeof text!==undefined){if(typeof text.title!==undefined&&text.title){text.title=escape(text.title);html+='<div class="header">'+text.title+'</div>';}
if(typeof text.content!==undefined&&text.content){text.content=escape(text.content);html+='<div class="content">'+text.content+'</div>';}}
return html;}}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.progress=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.progress.settings,parameters):$.extend({},$.fn.progress.settings),className=settings.className,metadata=settings.metadata,namespace=settings.namespace,selector=settings.selector,error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$bars=$(this).find(selector.bar),$progresses=$(this).find(selector.progress),$label=$(this).find(selector.label),element=this,instance=$module.data(moduleNamespace),animating=false,transitionEnd,module;module={helper:{sum:function(nums){return Array.isArray(nums)?nums.reduce(function(left,right){return left+Number(right);},0):0;},derivePrecision:function(min,total){var precisionPower=0
var precision=1;var ratio=min/total;while(precisionPower<10){ratio=ratio*precision;if(ratio>1){break;}
precision=Math.pow(10,precisionPower++);}
return precision;},forceArray:function(element){return Array.isArray(element)?element:!isNaN(element)?[element]:typeof element=='string'?element.split(','):[];}},initialize:function(){module.set.duration();module.set.transitionEvent();module.debug(element);module.read.metadata();module.read.settings();module.instantiate();},instantiate:function(){module.verbose('Storing instance of progress',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying previous progress for',$module);clearInterval(instance.interval);module.remove.state();$module.removeData(moduleNamespace);instance=undefined;},reset:function(){module.remove.nextValue();module.update.progress(0);},complete:function(keepState){if(module.percent===undefined||module.percent<100){module.remove.progressPoll();if(keepState!==true){module.set.percent(100);}}},read:{metadata:function(){var
data={percent:module.helper.forceArray($module.data(metadata.percent)),total:$module.data(metadata.total),value:module.helper.forceArray($module.data(metadata.value))};if(data.total!==undefined){module.debug('Total value set from metadata',data.total);module.set.total(data.total);}
if(data.value.length>0){module.debug('Current value set from metadata',data.value);module.set.value(data.value);module.set.progress(data.value);}
if(data.percent.length>0){module.debug('Current percent value set from metadata',data.percent);module.set.percent(data.percent);}},settings:function(){if(settings.total!==false){module.debug('Current total set in settings',settings.total);module.set.total(settings.total);}
if(settings.value!==false){module.debug('Current value set in settings',settings.value);module.set.value(settings.value);module.set.progress(module.value);}
if(settings.percent!==false){module.debug('Current percent set in settings',settings.percent);module.set.percent(settings.percent);}}},bind:{transitionEnd:function(callback){var
transitionEnd=module.get.transitionEnd();$bars.one(transitionEnd+eventNamespace,function(event){clearTimeout(module.failSafeTimer);callback.call(this,event);});module.failSafeTimer=setTimeout(function(){$bars.triggerHandler(transitionEnd);},settings.duration+settings.failSafeDelay);module.verbose('Adding fail safe timer',module.timer);}},increment:function(incrementValue){var
startValue,newValue;if(module.has.total()){startValue=module.get.value();incrementValue=incrementValue||1;}
else{startValue=module.get.percent();incrementValue=incrementValue||module.get.randomValue();}
newValue=startValue+incrementValue;module.debug('Incrementing percentage by',startValue,newValue,incrementValue);newValue=module.get.normalizedValue(newValue);module.set.progress(newValue);},decrement:function(decrementValue){var
total=module.get.total(),startValue,newValue;if(total){startValue=module.get.value();decrementValue=decrementValue||1;newValue=startValue-decrementValue;module.debug('Decrementing value by',decrementValue,startValue);}
else{startValue=module.get.percent();decrementValue=decrementValue||module.get.randomValue();newValue=startValue-decrementValue;module.debug('Decrementing percentage by',decrementValue,startValue);}
newValue=module.get.normalizedValue(newValue);module.set.progress(newValue);},has:{progressPoll:function(){return module.progressPoll;},total:function(){return(module.get.total()!==false);}},get:{text:function(templateText,index){var
index_=index||0,value=module.get.value(index_),total=module.get.total(),percent=(animating)?module.get.displayPercent(index_):module.get.percent(index_),left=(total!==false)?Math.max(0,total-value):(100-percent);templateText=templateText||'';templateText=templateText.replace('{value}',value).replace('{total}',total||0).replace('{left}',left).replace('{percent}',percent).replace('{bar}',settings.text.bars[index_]||'');module.verbose('Adding variables to progress bar text',templateText);return templateText;},normalizedValue:function(value){if(value<0){module.debug('Value cannot decrement below 0');return 0;}
if(module.has.total()){if(value>module.total){module.debug('Value cannot increment above total',module.total);return module.total;}}
else if(value>100){module.debug('Value cannot increment above 100 percent');return 100;}
return value;},updateInterval:function(){if(settings.updateInterval=='auto'){return settings.duration;}
return settings.updateInterval;},randomValue:function(){module.debug('Generating random increment percentage');return Math.floor((Math.random()*settings.random.max)+settings.random.min);},numericValue:function(value){return(typeof value==='string')?(value.replace(/[^\d.]/g,'')!=='')?+(value.replace(/[^\d.]/g,'')):false:value;},transitionEnd:function(){var
element=document.createElement('element'),transitions={'transition':'transitionend','OTransition':'oTransitionEnd','MozTransition':'transitionend','WebkitTransition':'webkitTransitionEnd'},transition;for(transition in transitions){if(element.style[transition]!==undefined){return transitions[transition];}}},displayPercent:function(index){var
$bar=$($bars[index]),barWidth=$bar.width(),totalWidth=$module.width(),minDisplay=parseInt($bar.css('min-width'),10),displayPercent=(barWidth>minDisplay)?(barWidth/totalWidth*100):module.percent;return(settings.precision>0)?Math.round(displayPercent*(10*settings.precision))/(10*settings.precision):Math.round(displayPercent);},percent:function(index){return module.percent&&module.percent[index||0]||0;},value:function(index){return module.nextValue||module.value&&module.value[index||0]||0;},total:function(){return module.total!==undefined?module.total:false;}},create:{progressPoll:function(){module.progressPoll=setTimeout(function(){module.update.toNextValue();module.remove.progressPoll();},module.get.updateInterval());},},is:{complete:function(){return module.is.success()||module.is.warning()||module.is.error();},success:function(){return $module.hasClass(className.success);},warning:function(){return $module.hasClass(className.warning);},error:function(){return $module.hasClass(className.error);},active:function(){return $module.hasClass(className.active);},visible:function(){return $module.is(':visible');}},remove:{progressPoll:function(){module.verbose('Removing progress poll timer');if(module.progressPoll){clearTimeout(module.progressPoll);delete module.progressPoll;}},nextValue:function(){module.verbose('Removing progress value stored for next update');delete module.nextValue;},state:function(){module.verbose('Removing stored state');delete module.total;delete module.percent;delete module.value;},active:function(){module.verbose('Removing active state');$module.removeClass(className.active);},success:function(){module.verbose('Removing success state');$module.removeClass(className.success);},warning:function(){module.verbose('Removing warning state');$module.removeClass(className.warning);},error:function(){module.verbose('Removing error state');$module.removeClass(className.error);}},set:{barWidth:function(values){module.debug("set bar width with ",values);values=module.helper.forceArray(values);var firstNonZeroIndex=-1;var lastNonZeroIndex=-1;var valuesSum=module.helper.sum(values);var barCounts=$bars.length;var isMultiple=barCounts>1;var percents=values.map(function(value,index){var allZero=(index===barCounts-1&&valuesSum===0);var $bar=$($bars[index]);if(value===0&&isMultiple&&!allZero){$bar.css('display','none');}else{if(isMultiple&&allZero){$bar.css('background','transparent');}
if(firstNonZeroIndex==-1){firstNonZeroIndex=index;}
lastNonZeroIndex=index;$bar.css({display:'block',width:value+'%'});}
return parseFloat(value);});values.forEach(function(_,index){var $bar=$($bars[index]);$bar.css({borderTopLeftRadius:index==firstNonZeroIndex?'':0,borderBottomLeftRadius:index==firstNonZeroIndex?'':0,borderTopRightRadius:index==lastNonZeroIndex?'':0,borderBottomRightRadius:index==lastNonZeroIndex?'':0});});$module.attr('data-percent',percents);},duration:function(duration){duration=duration||settings.duration;duration=(typeof duration=='number')?duration+'ms':duration;module.verbose('Setting progress bar transition duration',duration);$bars.css({'transition-duration':duration});},percent:function(percents){percents=module.helper.forceArray(percents).map(function(percent){return(typeof percent=='string')?+(percent.replace('%','')):percent;});var hasTotal=module.has.total();var totalPercent=module.helper.sum(percents);var isMultipleValues=percents.length>1&&hasTotal;var sumTotal=module.helper.sum(module.helper.forceArray(module.value));if(isMultipleValues&&sumTotal>module.total){module.error(error.sumExceedsTotal,sumTotal,module.total);}else if(!isMultipleValues&&totalPercent>100){module.error(error.tooHigh,totalPercent);}else if(totalPercent<0){module.error(error.tooLow,totalPercent);}else{var autoPrecision=settings.precision>0?settings.precision:isMultipleValues?module.helper.derivePrecision(Math.min.apply(null,module.value),module.total):0;var roundedPercents=percents.map(function(percent){return(autoPrecision>0)?Math.round(percent*(10*autoPrecision))/(10*autoPrecision):Math.round(percent);});module.percent=roundedPercents;if(hasTotal){module.value=roundedPercents.map(function(percent){return(autoPrecision>0)?Math.round((percent/100)*module.total*(10*autoPrecision))/(10*autoPrecision):Math.round((percent/100)*module.total*10)/10;});if(settings.limitValues){module.value=module.value.map(function(value){return Math.max(0,Math.min(100,value));});}}
module.set.barWidth(percents);module.set.labelInterval();module.set.labels();}
settings.onChange.call(element,percents,module.value,module.total);},labelInterval:function(){var
animationCallback=function(){module.verbose('Bar finished animating, removing continuous label updates');clearInterval(module.interval);animating=false;module.set.labels();};clearInterval(module.interval);module.bind.transitionEnd(animationCallback);animating=true;module.interval=setInterval(function(){var
isInDOM=$.contains(document.documentElement,element);if(!isInDOM){clearInterval(module.interval);animating=false;}
module.set.labels();},settings.framerate);},labels:function(){module.verbose('Setting both bar progress and outer label text');module.set.barLabel();module.set.state();},label:function(text){text=text||'';if(text){text=module.get.text(text);module.verbose('Setting label to text',text);$label.text(text);}},state:function(percent){percent=(percent!==undefined)?percent:module.helper.sum(module.percent);if(percent===100){if(settings.autoSuccess&&$bars.length===1&&!(module.is.warning()||module.is.error()||module.is.success())){module.set.success();module.debug('Automatically triggering success at 100%');}
else{module.verbose('Reached 100% removing active state');module.remove.active();module.remove.progressPoll();}}
else if(percent>0){module.verbose('Adjusting active progress bar label',percent);module.set.active();}
else{module.remove.active();module.set.label(settings.text.active);}},barLabel:function(text){$progresses.map(function(index,element){var $progress=$(element);if(text!==undefined){$progress.text(module.get.text(text,index));}
else if(settings.label=='ratio'&&module.has.total()){module.verbose('Adding ratio to bar label');$progress.text(module.get.text(settings.text.ratio,index));}
else if(settings.label=='percent'){module.verbose('Adding percentage to bar label');$progress.text(module.get.text(settings.text.percent,index));}});},active:function(text){text=text||settings.text.active;module.debug('Setting active state');if(settings.showActivity&&!module.is.active()){$module.addClass(className.active);}
module.remove.warning();module.remove.error();module.remove.success();text=settings.onLabelUpdate('active',text,module.value,module.total);if(text){module.set.label(text);}
module.bind.transitionEnd(function(){settings.onActive.call(element,module.value,module.total);});},success:function(text,keepState){text=text||settings.text.success||settings.text.active;module.debug('Setting success state');$module.addClass(className.success);module.remove.active();module.remove.warning();module.remove.error();module.complete(keepState);if(settings.text.success){text=settings.onLabelUpdate('success',text,module.value,module.total);module.set.label(text);}
else{text=settings.onLabelUpdate('active',text,module.value,module.total);module.set.label(text);}
module.bind.transitionEnd(function(){settings.onSuccess.call(element,module.total);});},warning:function(text,keepState){text=text||settings.text.warning;module.debug('Setting warning state');$module.addClass(className.warning);module.remove.active();module.remove.success();module.remove.error();module.complete(keepState);text=settings.onLabelUpdate('warning',text,module.value,module.total);if(text){module.set.label(text);}
module.bind.transitionEnd(function(){settings.onWarning.call(element,module.value,module.total);});},error:function(text,keepState){text=text||settings.text.error;module.debug('Setting error state');$module.addClass(className.error);module.remove.active();module.remove.success();module.remove.warning();module.complete(keepState);text=settings.onLabelUpdate('error',text,module.value,module.total);if(text){module.set.label(text);}
module.bind.transitionEnd(function(){settings.onError.call(element,module.value,module.total);});},transitionEvent:function(){transitionEnd=module.get.transitionEnd();},total:function(totalValue){module.total=totalValue;},value:function(value){module.value=module.helper.forceArray(value);},progress:function(value){if(!module.has.progressPoll()){module.debug('First update in progress update interval, immediately updating',value);module.update.progress(value);module.create.progressPoll();}
else{module.debug('Updated within interval, setting next update to use new value',value);module.set.nextValue(value);}},nextValue:function(value){module.nextValue=value;}},update:{toNextValue:function(){var
nextValue=module.nextValue;if(nextValue){module.debug('Update interval complete using last updated value',nextValue);module.update.progress(nextValue);module.remove.nextValue();}},progress:function(values){var hasTotal=module.has.total();if(hasTotal){module.set.value(values);}
var percentCompletes=module.helper.forceArray(values).map(function(value){var
percentComplete;value=module.get.numericValue(value);if(value===false){module.error(error.nonNumeric,value);}
value=module.get.normalizedValue(value);if(hasTotal){percentComplete=module.total>0?(value/module.total)*100:100;module.debug('Calculating percent complete from total',percentComplete);}
else{percentComplete=value;module.debug('Setting value to exact percentage value',percentComplete);}
return percentComplete;});module.set.percent(percentCompletes);}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.progress.settings={name:'Progress',namespace:'progress',silent:false,debug:false,verbose:false,performance:true,random:{min:2,max:5},duration:300,updateInterval:'auto',autoSuccess:true,showActivity:true,limitValues:true,label:'percent',precision:0,framerate:(1000/30),percent:false,total:false,value:false,failSafeDelay:100,onLabelUpdate:function(state,text,value,total){return text;},onChange:function(percent,value,total){},onSuccess:function(total){},onActive:function(value,total){},onError:function(value,total){},onWarning:function(value,total){},error:{method:'The method you called is not defined.',nonNumeric:'Progress value is non numeric',tooHigh:'Value specified is above 100%',tooLow:'Value specified is below 0%',sumExceedsTotal:'Sum of multple values exceed total',},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:'percent',total:'total',value:'value'},selector:{bar:'> .bar',label:'> .label',progress:'.bar > .progress'},text:{active:false,error:false,success:false,warning:false,percent:'{percent}%',ratio:'{value} of {total}',bars:['']},className:{active:'active',error:'error',success:'success',warning:'warning'}};})(jQuery,window,document);;(function($,window,document,undefined){"use strict";window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.slider=function(parameters){var
$allModules=$(this),$window=$(window),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),alphabet=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'],SINGLE_STEP=1,BIG_STEP=2,NO_STEP=0,SINGLE_BACKSTEP=-1,BIG_BACKSTEP=-2,currentRange=0,returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.slider.settings,parameters):$.extend({},$.fn.slider.settings),className=settings.className,metadata=settings.metadata,namespace=settings.namespace,error=settings.error,keys=settings.keys,interpretLabel=settings.interpretLabel,isHover=false,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$currThumb,$thumb,$secondThumb,$track,$trackFill,$labels,element=this,instance=$module.data(moduleNamespace),documentEventID,value,position,secondPos,offset,precision,isTouch,gapRatio=1,initialPosition,initialLoad,module;module={initialize:function(){module.debug('Initializing slider',settings);initialLoad=true;currentRange+=1;documentEventID=currentRange;isTouch=module.setup.testOutTouch();module.setup.layout();module.setup.labels();if(!module.is.disabled()){module.bind.events();}
module.read.metadata();module.read.settings();initialLoad=false;module.instantiate();},instantiate:function(){module.verbose('Storing instance of slider',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying previous slider for',$module);clearInterval(instance.interval);module.unbind.events();module.unbind.slidingEvents();$module.removeData(moduleNamespace);instance=undefined;},setup:{layout:function(){if($module.attr('tabindex')===undefined){$module.attr('tabindex',0);}
if($module.find('.inner').length==0){$module.append("<div class='inner'>"
+"<div class='track'></div>"
+"<div class='track-fill'></div>"
+"<div class='thumb'></div>"
+"</div>");}
precision=module.get.precision();$thumb=$module.find('.thumb:not(.second)');$currThumb=$thumb;if(module.is.range()){if($module.find('.thumb.second').length==0){$module.find('.inner').append("<div class='thumb second'></div>");}
$secondThumb=$module.find('.thumb.second');}
$track=$module.find('.track');$trackFill=$module.find('.track-fill');offset=$thumb.width()/2;},labels:function(){if(module.is.labeled()){$labels=$module.find('.labels:not(.auto)');if($labels.length!=0){module.setup.customLabel();}else{module.setup.autoLabel();}
if(settings.showLabelTicks){$module.addClass(className.ticked)}}},testOutTouch:function(){try{document.createEvent('TouchEvent');return true;}catch(e){return false;}},customLabel:function(){var
$children=$labels.find('.label'),numChildren=$children.length,min=module.get.min(),max=module.get.max(),ratio;$children.each(function(index){var
$child=$(this),attrValue=$child.attr('data-value');if(attrValue){attrValue=attrValue>max?max:attrValue<min?min:attrValue;ratio=(attrValue-min)/(max-min);}else{ratio=(index+1)/(numChildren+1);}
module.update.labelPosition(ratio,$(this));});},autoLabel:function(){if(module.get.step()!=0){$labels=$module.find('.labels');if($labels.length!=0){$labels.empty();}
else{$labels=$module.append('<ul class="auto labels"></ul>').find('.labels');}
for(var i=0,len=module.get.numLabels();i<=len;i++){var
labelText=module.get.label(i),$label=(labelText!=="")?!(i%module.get.gapRatio())?$('<li class="label">'+labelText+'</li>'):$('<li class="halftick label"></li>'):null,ratio=i/len;if($label){module.update.labelPosition(ratio,$label);$labels.append($label);}}}}},bind:{events:function(){module.bind.globalKeyboardEvents();module.bind.keyboardEvents();module.bind.mouseEvents();if(module.is.touch()){module.bind.touchEvents();}
if(settings.autoAdjustLabels){module.bind.windowEvents();}},keyboardEvents:function(){module.verbose('Binding keyboard events');$module.on('keydown'+eventNamespace,module.event.keydown);},globalKeyboardEvents:function(){$(document).on('keydown'+eventNamespace+documentEventID,module.event.activateFocus);},mouseEvents:function(){module.verbose('Binding mouse events');$module.find('.track, .thumb, .inner').on('mousedown'+eventNamespace,function(event){event.stopImmediatePropagation();event.preventDefault();module.event.down(event);});$module.on('mousedown'+eventNamespace,module.event.down);$module.on('mouseenter'+eventNamespace,function(event){isHover=true;});$module.on('mouseleave'+eventNamespace,function(event){isHover=false;});},touchEvents:function(){module.verbose('Binding touch events');$module.find('.track, .thumb, .inner').on('touchstart'+eventNamespace,function(event){event.stopImmediatePropagation();event.preventDefault();module.event.down(event);});$module.on('touchstart'+eventNamespace,module.event.down);},slidingEvents:function(){module.verbose('Binding page wide events while handle is being draged');if(module.is.touch()){$(document).on('touchmove'+eventNamespace,module.event.move);$(document).on('touchend'+eventNamespace,module.event.up);}
else{$(document).on('mousemove'+eventNamespace,module.event.move);$(document).on('mouseup'+eventNamespace,module.event.up);}},windowEvents:function(){$window.on('resize'+eventNamespace,module.event.resize);}},unbind:{events:function(){$module.find('.track, .thumb, .inner').off('mousedown'+eventNamespace);$module.find('.track, .thumb, .inner').off('touchstart'+eventNamespace);$module.off('mousedown'+eventNamespace);$module.off('mouseenter'+eventNamespace);$module.off('mouseleave'+eventNamespace);$module.off('touchstart'+eventNamespace);$module.off('keydown'+eventNamespace);$module.off('focusout'+eventNamespace);$(document).off('keydown'+eventNamespace+documentEventID,module.event.activateFocus);$window.off('resize'+eventNamespace);},slidingEvents:function(){if(module.is.touch()){$(document).off('touchmove'+eventNamespace);$(document).off('touchend'+eventNamespace);}else{$(document).off('mousemove'+eventNamespace);$(document).off('mouseup'+eventNamespace);}},},event:{down:function(event){event.preventDefault();if(module.is.range()){var
eventPos=module.determine.eventPos(event),newPos=module.determine.pos(eventPos);if(settings.preventCrossover&&module.is.range()&&module.thumbVal===module.secondThumbVal){initialPosition=newPos;$currThumb=undefined;}else{$currThumb=module.determine.closestThumb(newPos);}}
if(!module.is.disabled()){module.bind.slidingEvents();}},move:function(event){event.preventDefault();var value=module.determine.valueFromEvent(event);if($currThumb===undefined){var
eventPos=module.determine.eventPos(event),newPos=module.determine.pos(eventPos);$currThumb=initialPosition>newPos?$thumb:$secondThumb;}
if(module.get.step()==0||module.is.smooth()){var
thumbVal=module.thumbVal,secondThumbVal=module.secondThumbVal,thumbSmoothVal=module.determine.smoothValueFromEvent(event);if(!$currThumb.hasClass('second')){if(settings.preventCrossover&&module.is.range()){value=Math.min(secondThumbVal,value);thumbSmoothVal=Math.min(secondThumbVal,thumbSmoothVal);}
thumbVal=value;}else{if(settings.preventCrossover&&module.is.range()){value=Math.max(thumbVal,value);thumbSmoothVal=Math.max(thumbVal,thumbSmoothVal);}
secondThumbVal=value;}
value=Math.abs(thumbVal-(secondThumbVal||0));module.update.position(thumbSmoothVal);settings.onMove.call(element,value,thumbVal,secondThumbVal);}else{module.update.value(value,function(value,thumbVal,secondThumbVal){settings.onMove.call(element,value,thumbVal,secondThumbVal);});}},up:function(event){event.preventDefault();var value=module.determine.valueFromEvent(event);module.set.value(value);module.unbind.slidingEvents();},keydown:function(event,first){if(settings.preventCrossover&&module.is.range()&&module.thumbVal===module.secondThumbVal){$currThumb=undefined;}
if(module.is.focused()){$(document).trigger(event);}
if(first||module.is.focused()){var step=module.determine.keyMovement(event);if(step!=NO_STEP){event.preventDefault();switch(step){case SINGLE_STEP:module.takeStep();break;case BIG_STEP:module.takeStep(module.get.multiplier());break;case SINGLE_BACKSTEP:module.backStep();break;case BIG_BACKSTEP:module.backStep(module.get.multiplier());break;}}}},activateFocus:function(event){if(!module.is.focused()&&module.is.hover()&&module.determine.keyMovement(event)!=NO_STEP){event.preventDefault();module.event.keydown(event,true);$module.focus();}},resize:function(_event){if(gapRatio!=module.get.gapRatio()){module.setup.labels();gapRatio=module.get.gapRatio();}}},resync:function(){module.verbose('Resyncing thumb position based on value');if(module.is.range()){module.update.position(module.secondThumbVal,$secondThumb);}
module.update.position(module.thumbVal,$thumb);module.setup.labels();},takeStep:function(multiplier){var
multiplier=multiplier!=undefined?multiplier:1,step=module.get.step(),currValue=module.get.currentThumbValue();module.verbose('Taking a step');if(step>0){module.set.value(currValue+step*multiplier);}else if(step==0){var
precision=module.get.precision(),newValue=currValue+(multiplier/precision);module.set.value(Math.round(newValue*precision)/precision);}},backStep:function(multiplier){var
multiplier=multiplier!=undefined?multiplier:1,step=module.get.step(),currValue=module.get.currentThumbValue();module.verbose('Going back a step');if(step>0){module.set.value(currValue-step*multiplier);}else if(step==0){var
precision=module.get.precision(),newValue=currValue-(multiplier/precision);module.set.value(Math.round(newValue*precision)/precision);}},is:{range:function(){return $module.hasClass(settings.className.range);},hover:function(){return isHover;},focused:function(){return $module.is(':focus');},disabled:function(){return $module.hasClass(settings.className.disabled);},labeled:function(){return $module.hasClass(settings.className.labeled);},reversed:function(){return $module.hasClass(settings.className.reversed);},vertical:function(){return $module.hasClass(settings.className.vertical);},smooth:function(){return settings.smooth||$module.hasClass(settings.className.smooth);},touch:function(){return isTouch;}},get:{trackOffset:function(){if(module.is.vertical()){return $track.offset().top;}else{return $track.offset().left;}},trackLength:function(){if(module.is.vertical()){return $track.height();}else{return $track.width();}},trackLeft:function(){if(module.is.vertical()){return $track.position().top;}else{return $track.position().left;}},trackStartPos:function(){return module.is.reversed()?module.get.trackLeft()+module.get.trackLength():module.get.trackLeft();},trackEndPos:function(){return module.is.reversed()?module.get.trackLeft():module.get.trackLeft()+module.get.trackLength();},trackStartMargin:function(){var margin;if(module.is.vertical()){margin=module.is.reversed()?$module.css('padding-bottom'):$module.css('padding-top');}else{margin=module.is.reversed()?$module.css('padding-right'):$module.css('padding-left');}
return margin||'0px';},trackEndMargin:function(){var margin;if(module.is.vertical()){margin=module.is.reversed()?$module.css('padding-top'):$module.css('padding-bottom');}else{margin=module.is.reversed()?$module.css('padding-left'):$module.css('padding-right');}
return margin||'0px';},precision:function(){var
decimalPlaces,step=module.get.step();if(step!=0){var split=String(step).split('.');if(split.length==2){decimalPlaces=split[1].length;}else{decimalPlaces=0;}}else{decimalPlaces=settings.decimalPlaces;}
var precision=Math.pow(10,decimalPlaces);module.debug('Precision determined',precision);return precision;},min:function(){return settings.min;},max:function(){var step=module.get.step(),min=module.get.min(),quotient=step===0?0:Math.floor((settings.max-min)/step),remainder=step===0?0:(settings.max-min)%step;return remainder===0?settings.max:min+quotient*step;},step:function(){return settings.step;},numLabels:function(){var value=Math.round((module.get.max()-module.get.min())/module.get.step());module.debug('Determined that there should be '+value+' labels');return value;},labelType:function(){return settings.labelType;},label:function(value){if(interpretLabel){return interpretLabel(value);}
switch(settings.labelType){case settings.labelTypes.number:return Math.round(((value*module.get.step())+module.get.min())*precision)/precision;case settings.labelTypes.letter:return alphabet[(value)%26];default:return value;}},value:function(){return value;},currentThumbValue:function(){return $currThumb!==undefined&&$currThumb.hasClass('second')?module.secondThumbVal:module.thumbVal;},thumbValue:function(which){switch(which){case'second':if(module.is.range()){return module.secondThumbVal;}
else{module.error(error.notrange);break;}
case'first':default:return module.thumbVal;}},multiplier:function(){return settings.pageMultiplier;},thumbPosition:function(which){switch(which){case'second':if(module.is.range()){return secondPos;}
else{module.error(error.notrange);break;}
case'first':default:return position;}},gapRatio:function(){var gapRatio=1;if(settings.autoAdjustLabels){var
numLabels=module.get.numLabels(),trackLength=module.get.trackLength(),gapCounter=1;if(trackLength>0){while((trackLength/numLabels)*gapCounter<settings.labelDistance){if(!(numLabels%gapCounter)){gapRatio=gapCounter;}
gapCounter+=1;}}}
return gapRatio;}},determine:{pos:function(pagePos){return module.is.reversed()?module.get.trackStartPos()-pagePos+module.get.trackOffset():pagePos-module.get.trackOffset()-module.get.trackStartPos();},closestThumb:function(eventPos){var
thumbPos=parseFloat(module.determine.thumbPos($thumb)),thumbDelta=Math.abs(eventPos-thumbPos),secondThumbPos=parseFloat(module.determine.thumbPos($secondThumb)),secondThumbDelta=Math.abs(eventPos-secondThumbPos);if(thumbDelta===secondThumbDelta&&module.get.thumbValue()===module.get.min()){return $secondThumb;}
return thumbDelta<=secondThumbDelta?$thumb:$secondThumb;},closestThumbPos:function(eventPos){var
thumbPos=parseFloat(module.determine.thumbPos($thumb)),thumbDelta=Math.abs(eventPos-thumbPos),secondThumbPos=parseFloat(module.determine.thumbPos($secondThumb)),secondThumbDelta=Math.abs(eventPos-secondThumbPos);return thumbDelta<=secondThumbDelta?thumbPos:secondThumbPos;},thumbPos:function($element){var pos=module.is.vertical()?module.is.reversed()?$element.css('bottom'):$element.css('top'):module.is.reversed()?$element.css('right'):$element.css('left');return pos;},positionFromValue:function(value){var
min=module.get.min(),max=module.get.max(),value=value>max?max:value<min?min:value,trackLength=module.get.trackLength(),ratio=(value-min)/(max-min),position=Math.round(ratio*trackLength);module.verbose('Determined position: '+position+' from value: '+value);return position;},positionFromRatio:function(ratio){var
trackLength=module.get.trackLength(),step=module.get.step(),position=Math.round(ratio*trackLength),adjustedPos=(step==0)?position:Math.round(position/step)*step;return adjustedPos;},valueFromEvent:function(event){var
eventPos=module.determine.eventPos(event),newPos=module.determine.pos(eventPos),value;if(eventPos<module.get.trackOffset()){value=module.is.reversed()?module.get.max():module.get.min();}else if(eventPos>module.get.trackOffset()+module.get.trackLength()){value=module.is.reversed()?module.get.min():module.get.max();}else{value=module.determine.value(newPos);}
return value;},smoothValueFromEvent:function(event){var
min=module.get.min(),max=module.get.max(),trackLength=module.get.trackLength(),eventPos=module.determine.eventPos(event),newPos=eventPos-module.get.trackOffset(),ratio,value;newPos=newPos<0?0:newPos>trackLength?trackLength:newPos;ratio=newPos/trackLength;if(module.is.reversed()){ratio=1-ratio;}
value=ratio*(max-min)+min;return value;},eventPos:function(event){if(module.is.touch()){var
touchEvent=event.changedTouches?event:event.originalEvent,touches=touchEvent.changedTouches[0]?touchEvent.changedTouches:touchEvent.touches,touchY=touches[0].pageY,touchX=touches[0].pageX;return module.is.vertical()?touchY:touchX;}
var
clickY=event.pageY||event.originalEvent.pageY,clickX=event.pageX||event.originalEvent.pageX;return module.is.vertical()?clickY:clickX;},value:function(position){var
startPos=module.is.reversed()?module.get.trackEndPos():module.get.trackStartPos(),endPos=module.is.reversed()?module.get.trackStartPos():module.get.trackEndPos(),ratio=(position-startPos)/(endPos-startPos),range=module.get.max()-module.get.min(),step=module.get.step(),value=(ratio*range),difference=(step==0)?value:Math.round(value/step)*step;module.verbose('Determined value based upon position: '+position+' as: '+value);if(value!=difference){module.verbose('Rounding value to closest step: '+difference);}
module.verbose('Cutting off additional decimal places');return Math.round((difference+module.get.min())*precision)/precision;},keyMovement:function(event){var
key=event.which,downArrow=module.is.vertical()?module.is.reversed()?keys.downArrow:keys.upArrow:keys.downArrow,upArrow=module.is.vertical()?module.is.reversed()?keys.upArrow:keys.downArrow:keys.upArrow,leftArrow=!module.is.vertical()?module.is.reversed()?keys.rightArrow:keys.leftArrow:keys.leftArrow,rightArrow=!module.is.vertical()?module.is.reversed()?keys.leftArrow:keys.rightArrow:keys.rightArrow;if(key==downArrow||key==leftArrow){return SINGLE_BACKSTEP;}else if(key==upArrow||key==rightArrow){return SINGLE_STEP;}else if(key==keys.pageDown){return BIG_BACKSTEP;}else if(key==keys.pageUp){return BIG_STEP;}else{return NO_STEP;}}},handleNewValuePosition:function(val){var
min=module.get.min(),max=module.get.max(),newPos;if(val<=min){val=min;}else if(val>=max){val=max;}
newPos=module.determine.positionFromValue(val);return newPos;},set:{value:function(newValue){module.update.value(newValue,function(value,thumbVal,secondThumbVal){if(!initialLoad||settings.fireOnInit){settings.onChange.call(element,value,thumbVal,secondThumbVal);settings.onMove.call(element,value,thumbVal,secondThumbVal);}});},rangeValue:function(first,second){if(module.is.range()){var
min=module.get.min(),max=module.get.max();if(first<=min){first=min;}else if(first>=max){first=max;}
if(second<=min){second=min;}else if(second>=max){second=max;}
module.thumbVal=first;module.secondThumbVal=second;value=Math.abs(module.thumbVal-module.secondThumbVal);module.update.position(module.thumbVal,$thumb);module.update.position(module.secondThumbVal,$secondThumb);if(!initialLoad||settings.fireOnInit){settings.onChange.call(element,value,module.thumbVal,module.secondThumbVal);settings.onMove.call(element,value,module.thumbVal,module.secondThumbVal);}}else{module.error(error.notrange);}},position:function(position,which){var thumbVal=module.determine.value(position);switch(which){case'second':module.secondThumbVal=thumbVal;module.update.position(thumbVal,$secondThumb);break;default:module.thumbVal=thumbVal;module.update.position(thumbVal,$thumb);}
value=Math.abs(module.thumbVal-(module.secondThumbVal||0));module.set.value(value);}},update:{value:function(newValue,callback){var
min=module.get.min(),max=module.get.max();if(newValue<=min){newValue=min;}else if(newValue>=max){newValue=max;}
if(!module.is.range()){value=newValue;module.thumbVal=value;}else{if($currThumb===undefined){$currThumb=newValue<=module.get.currentThumbValue()?$thumb:$secondThumb;}
if(!$currThumb.hasClass('second')){if(settings.preventCrossover&&module.is.range()){newValue=Math.min(module.secondThumbVal,newValue);}
module.thumbVal=newValue;}else{if(settings.preventCrossover&&module.is.range()){newValue=Math.max(module.thumbVal,newValue);}
module.secondThumbVal=newValue;}
value=Math.abs(module.thumbVal-module.secondThumbVal);}
module.update.position(newValue);module.debug('Setting slider value to '+value);if(typeof callback==='function'){callback(value,module.thumbVal,module.secondThumbVal);}},position:function(newValue,$element){var
newPos=module.handleNewValuePosition(newValue),$targetThumb=$element!=undefined?$element:$currThumb,thumbVal=module.thumbVal||module.get.min(),secondThumbVal=module.secondThumbVal||module.get.min();if(module.is.range()){if(!$targetThumb.hasClass('second')){position=newPos;thumbVal=newValue;}else{secondPos=newPos;secondThumbVal=newValue;}}else{position=newPos;thumbVal=newValue;}
var
trackPosValue,thumbPosValue,min=module.get.min(),max=module.get.max(),thumbPosPercent=100*(newValue-min)/(max-min),trackStartPosPercent=100*(Math.min(thumbVal,secondThumbVal)-min)/(max-min),trackEndPosPercent=100*(1-(Math.max(thumbVal,secondThumbVal)-min)/(max-min));if(module.is.vertical()){if(module.is.reversed()){thumbPosValue={bottom:'calc('+thumbPosPercent+'% - '+offset+'px)',top:'auto'};trackPosValue={bottom:trackStartPosPercent+'%',top:trackEndPosPercent+'%'};}
else{thumbPosValue={top:'calc('+thumbPosPercent+'% - '+offset+'px)',bottom:'auto'};trackPosValue={top:trackStartPosPercent+'%',bottom:trackEndPosPercent+'%'};}}else{if(module.is.reversed()){thumbPosValue={right:'calc('+thumbPosPercent+'% - '+offset+'px)',left:'auto'};trackPosValue={right:trackStartPosPercent+'%',left:trackEndPosPercent+'%'};}
else{thumbPosValue={left:'calc('+thumbPosPercent+'% - '+offset+'px)',right:'auto'};trackPosValue={left:trackStartPosPercent+'%',right:trackEndPosPercent+'%'};}}
$targetThumb.css(thumbPosValue);$trackFill.css(trackPosValue);module.debug('Setting slider position to '+newPos);},labelPosition:function(ratio,$label){var
startMargin=module.get.trackStartMargin(),endMargin=module.get.trackEndMargin(),posDir=module.is.vertical()?module.is.reversed()?'bottom':'top':module.is.reversed()?'right':'left',startMarginMod=module.is.reversed()&&!module.is.vertical()?' - ':' + ';var position='(100% - '+startMargin+' - '+endMargin+') * '+ratio;$label.css(posDir,'calc('+position+startMarginMod+startMargin+')');}},goto:{max:function(){module.set.value(module.get.max());},min:function(){module.set.value(module.get.min());},},read:{metadata:function(){var
data={thumbVal:$module.data(metadata.thumbVal),secondThumbVal:$module.data(metadata.secondThumbVal)};if(data.thumbVal){if(module.is.range()&&data.secondThumbVal){module.debug('Current value set from metadata',data.thumbVal,data.secondThumbVal);module.set.rangeValue(data.thumbVal,data.secondThumbVal);}else{module.debug('Current value set from metadata',data.thumbVal);module.set.value(data.thumbVal);}}},settings:function(){if(settings.start!==false){if(module.is.range()){module.debug('Start position set from settings',settings.start,settings.end);module.set.rangeValue(settings.start,settings.end);}else{module.debug('Start position set from settings',settings.start);module.set.value(settings.start);}}}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if($.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.slider.settings={silent:false,debug:false,verbose:false,performance:true,name:'Slider',namespace:'slider',error:{method:'The method you called is not defined.',notrange:'This slider is not a range slider'},metadata:{thumbVal:'thumbVal',secondThumbVal:'secondThumbVal'},min:0,max:20,step:1,start:0,end:20,labelType:'number',showLabelTicks:false,smooth:false,autoAdjustLabels:true,labelDistance:100,preventCrossover:true,fireOnInit:false,interpretLabel:false,decimalPlaces:2,pageMultiplier:2,selector:{},className:{reversed:'reversed',disabled:'disabled',labeled:'labeled',ticked:'ticked',vertical:'vertical',range:'range',smooth:'smooth'},keys:{pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},labelTypes:{number:'number',letter:'letter'},onChange:function(value,thumbVal,secondThumbVal){},onMove:function(value,thumbVal,secondThumbVal){},};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.rating=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.rating.settings,parameters):$.extend({},$.fn.rating.settings),namespace=settings.namespace,className=settings.className,metadata=settings.metadata,selector=settings.selector,cssVars=settings.cssVars,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,element=this,instance=$(this).data(moduleNamespace),$module=$(this),$icon=$module.find(selector.icon),initialLoad,module;module={initialize:function(){module.verbose('Initializing rating module',settings);if($icon.length===0){module.setup.layout();}
if(settings.interactive&&!module.is.disabled()){module.enable();}
else{module.disable();}
module.set.initialLoad();module.set.rating(module.get.initialRating());module.remove.initialLoad();module.instantiate();},instantiate:function(){module.verbose('Instantiating module',settings);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying previous instance',instance);module.remove.events();$module.removeData(moduleNamespace);},refresh:function(){$icon=$module.find(selector.icon);},setup:{layout:function(){var
maxRating=module.get.maxRating(),icon=module.get.icon(),html=$.fn.rating.settings.templates.icon(maxRating,icon);module.debug('Generating icon html dynamically');$module.html(html);module.refresh();}},event:{mouseenter:function(){var
$activeIcon=$(this);$activeIcon.nextAll().removeClass(className.selected);$module.addClass(className.selected);$activeIcon.addClass(className.selected).prevAll().addClass(className.selected);},mouseleave:function(){$module.removeClass(className.selected);$icon.removeClass(className.selected);},click:function(){var
$activeIcon=$(this),currentRating=module.get.rating(),rating=$icon.index($activeIcon)+1,canClear=(settings.clearable=='auto')?($icon.length===1):settings.clearable;if(canClear&&currentRating==rating){module.clearRating();}
else{module.set.rating(rating);}}},clearRating:function(){module.debug('Clearing current rating');module.set.rating(0);},bind:{events:function(){module.verbose('Binding events');$module.on('mouseenter'+eventNamespace,selector.icon,module.event.mouseenter).on('mouseleave'+eventNamespace,selector.icon,module.event.mouseleave).on('click'+eventNamespace,selector.icon,module.event.click);}},remove:{events:function(){module.verbose('Removing events');$module.off(eventNamespace);},initialLoad:function(){initialLoad=false;}},enable:function(){module.debug('Setting rating to interactive mode');module.bind.events();$module.removeClass(className.disabled);},disable:function(){module.debug('Setting rating to read-only mode');module.remove.events();$module.addClass(className.disabled);},is:{initialLoad:function(){return initialLoad;},disabled:function(){return $module.hasClass(className.disabled);}},get:{icon:function(){var icon=$module.data(metadata.icon);if(icon){$module.removeData(metadata.icon);}
return icon||settings.icon;},initialRating:function(){if($module.data(metadata.rating)!==undefined){$module.removeData(metadata.rating);return $module.data(metadata.rating);}
return settings.initialRating;},maxRating:function(){if($module.data(metadata.maxRating)!==undefined){$module.removeData(metadata.maxRating);return $module.data(metadata.maxRating);}
return settings.maxRating;},rating:function(){var
currentRating=$icon.filter('.'+className.active).length;module.verbose('Current rating retrieved',currentRating);return currentRating;}},set:{rating:function(rating){var
ratingIndex=Math.floor((rating-1>=0)?(rating-1):0),$activeIcon=$icon.eq(ratingIndex),$partialActiveIcon=rating<=1?$activeIcon:$activeIcon.next(),filledPercentage=(rating%1)*100;$module.removeClass(className.selected);$icon.removeClass(className.selected).removeClass(className.active).removeClass(className.partiallyActive);if(rating>0){module.verbose('Setting current rating to',rating);$activeIcon.prevAll().addBack().addClass(className.active);if($activeIcon.next()&&rating%1!==0){$partialActiveIcon.addClass(className.partiallyActive).addClass(className.active);$partialActiveIcon.css(cssVars.filledCustomPropName,filledPercentage+'%');if($partialActiveIcon.css('backgroundColor')==='transparent'){$partialActiveIcon.removeClass(className.partiallyActive).removeClass(className.active);}}}
if(!module.is.initialLoad()){settings.onRate.call(element,rating);}},initialLoad:function(){initialLoad=true;}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if($allModules.length>1){title+=' '+'('+$allModules.length+')';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.rating.settings={name:'Rating',namespace:'rating',icon:'star',silent:false,debug:false,verbose:false,performance:true,initialRating:0,interactive:true,maxRating:4,clearable:'auto',fireOnInit:false,onRate:function(rating){},error:{method:'The method you called is not defined',noMaximum:'No maximum rating specified. Cannot generate HTML automatically'},metadata:{rating:'rating',maxRating:'maxRating',icon:'icon'},className:{active:'active',disabled:'disabled',selected:'selected',loading:'loading',partiallyActive:'partial'},cssVars:{filledCustomPropName:'--full'},selector:{icon:'.icon'},templates:{icon:function(maxRating,iconClass){var
icon=1,html='';while(icon<=maxRating){html+='<i class="'+iconClass+' icon"></i>';icon++;}
return html;}}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.search=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$(this).each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.search.settings,parameters):$.extend({},$.fn.search.settings),className=settings.className,metadata=settings.metadata,regExp=settings.regExp,fields=settings.fields,selector=settings.selector,error=settings.error,namespace=settings.namespace,eventNamespace='.'+namespace,moduleNamespace=namespace+'-module',$module=$(this),$prompt=$module.find(selector.prompt),$searchButton=$module.find(selector.searchButton),$results=$module.find(selector.results),$result=$module.find(selector.result),$category=$module.find(selector.category),element=this,instance=$module.data(moduleNamespace),disabledBubbled=false,resultsDismissed=false,module;module={initialize:function(){module.verbose('Initializing module');module.get.settings();module.determine.searchFields();module.bind.events();module.set.type();module.create.results();module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying instance');$module.off(eventNamespace).removeData(moduleNamespace);},refresh:function(){module.debug('Refreshing selector cache');$prompt=$module.find(selector.prompt);$searchButton=$module.find(selector.searchButton);$category=$module.find(selector.category);$results=$module.find(selector.results);$result=$module.find(selector.result);},refreshResults:function(){$results=$module.find(selector.results);$result=$module.find(selector.result);},bind:{events:function(){module.verbose('Binding events to search');if(settings.automatic){$module.on(module.get.inputEvent()+eventNamespace,selector.prompt,module.event.input);$prompt.attr('autocomplete','off');}
$module.on('focus'+eventNamespace,selector.prompt,module.event.focus).on('blur'+eventNamespace,selector.prompt,module.event.blur).on('keydown'+eventNamespace,selector.prompt,module.handleKeyboard).on('click'+eventNamespace,selector.searchButton,module.query).on('mousedown'+eventNamespace,selector.results,module.event.result.mousedown).on('mouseup'+eventNamespace,selector.results,module.event.result.mouseup).on('click'+eventNamespace,selector.result,module.event.result.click);}},determine:{searchFields:function(){if(parameters&&parameters.searchFields!==undefined){settings.searchFields=parameters.searchFields;}}},event:{input:function(){if(settings.searchDelay){clearTimeout(module.timer);module.timer=setTimeout(function(){if(module.is.focused()){module.query();}},settings.searchDelay);}
else{module.query();}},focus:function(){module.set.focus();if(settings.searchOnFocus&&module.has.minimumCharacters()){module.query(function(){if(module.can.show()){module.showResults();}});}},blur:function(event){var
pageLostFocus=(document.activeElement===this),callback=function(){module.cancel.query();module.remove.focus();module.timer=setTimeout(module.hideResults,settings.hideDelay);};if(pageLostFocus){return;}
resultsDismissed=false;if(module.resultsClicked){module.debug('Determining if user action caused search to close');$module.one('click.close'+eventNamespace,selector.results,function(event){if(module.is.inMessage(event)||disabledBubbled){$prompt.focus();return;}
disabledBubbled=false;if(!module.is.animating()&&!module.is.hidden()){callback();}});}
else{module.debug('Input blurred without user action, closing results');callback();}},result:{mousedown:function(){module.resultsClicked=true;},mouseup:function(){module.resultsClicked=false;},click:function(event){module.debug('Search result selected');var
$result=$(this),$title=$result.find(selector.title).eq(0),$link=$result.is('a[href]')?$result:$result.find('a[href]').eq(0),href=$link.attr('href')||false,target=$link.attr('target')||false,value=($title.length>0)?$title.text():false,results=module.get.results(),result=$result.data(metadata.result)||module.get.result(value,results);if(value){module.set.value(value);}
if($.isFunction(settings.onSelect)){if(settings.onSelect.call(element,result,results)===false){module.debug('Custom onSelect callback cancelled default select action');disabledBubbled=true;return;}}
module.hideResults();if(href){event.preventDefault();module.verbose('Opening search link found in result',$link);if(target=='_blank'||event.ctrlKey){window.open(href);}
else{window.location.href=(href);}}}}},ensureVisible:function ensureVisible($el){var elTop,elBottom,resultsScrollTop,resultsHeight;elTop=$el.position().top;elBottom=elTop+$el.outerHeight(true);resultsScrollTop=$results.scrollTop();resultsHeight=$results.height()
parseInt($results.css('paddingTop'),0)+
parseInt($results.css('paddingBottom'),0);if(elTop<0){$results.scrollTop(resultsScrollTop+elTop);}
else if(resultsHeight<elBottom){$results.scrollTop(resultsScrollTop+(elBottom-resultsHeight));}},handleKeyboard:function(event){var
$result=$module.find(selector.result),$category=$module.find(selector.category),$activeResult=$result.filter('.'+className.active),currentIndex=$result.index($activeResult),resultSize=$result.length,hasActiveResult=$activeResult.length>0,keyCode=event.which,keys={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40},newIndex;if(keyCode==keys.escape){module.verbose('Escape key pressed, blurring search field');module.hideResults();resultsDismissed=true;}
if(module.is.visible()){if(keyCode==keys.enter){module.verbose('Enter key pressed, selecting active result');if($result.filter('.'+className.active).length>0){module.event.result.click.call($result.filter('.'+className.active),event);event.preventDefault();return false;}}
else if(keyCode==keys.upArrow&&hasActiveResult){module.verbose('Up key pressed, changing active result');newIndex=(currentIndex-1<0)?currentIndex:currentIndex-1;$category.removeClass(className.active);$result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);module.ensureVisible($result.eq(newIndex));event.preventDefault();}
else if(keyCode==keys.downArrow){module.verbose('Down key pressed, changing active result');newIndex=(currentIndex+1>=resultSize)?currentIndex:currentIndex+1;$category.removeClass(className.active);$result.removeClass(className.active).eq(newIndex).addClass(className.active).closest($category).addClass(className.active);module.ensureVisible($result.eq(newIndex));event.preventDefault();}}
else{if(keyCode==keys.enter){module.verbose('Enter key pressed, executing query');module.query();module.set.buttonPressed();$prompt.one('keyup',module.remove.buttonFocus);}}},setup:{api:function(searchTerm,callback){var
apiSettings={debug:settings.debug,on:false,cache:settings.cache,action:'search',urlData:{query:searchTerm},onSuccess:function(response){module.parse.response.call(element,response,searchTerm);callback();},onFailure:function(){module.displayMessage(error.serverError);callback();},onAbort:function(response){},onError:module.error};$.extend(true,apiSettings,settings.apiSettings);module.verbose('Setting up API request',apiSettings);$module.api(apiSettings);}},can:{useAPI:function(){return $.fn.api!==undefined;},show:function(){return module.is.focused()&&!module.is.visible()&&!module.is.empty();},transition:function(){return settings.transition&&$.fn.transition!==undefined&&$module.transition('is supported');}},is:{animating:function(){return $results.hasClass(className.animating);},hidden:function(){return $results.hasClass(className.hidden);},inMessage:function(event){if(!event.target){return;}
var
$target=$(event.target),isInDOM=$.contains(document.documentElement,event.target);return(isInDOM&&$target.closest(selector.message).length>0);},empty:function(){return($results.html()==='');},visible:function(){return($results.filter(':visible').length>0);},focused:function(){return($prompt.filter(':focus').length>0);}},get:{settings:function(){if($.isPlainObject(parameters)&&parameters.searchFullText){settings.fullTextSearch=parameters.searchFullText;module.error(settings.error.oldSearchSyntax,element);}
if(settings.ignoreDiacritics&&!String.prototype.normalize){settings.ignoreDiacritics=false;module.error(error.noNormalize,element);}},inputEvent:function(){var
prompt=$prompt[0],inputEvent=(prompt!==undefined&&prompt.oninput!==undefined)?'input':(prompt!==undefined&&prompt.onpropertychange!==undefined)?'propertychange':'keyup';return inputEvent;},value:function(){return $prompt.val();},results:function(){var
results=$module.data(metadata.results);return results;},result:function(value,results){var
result=false;value=(value!==undefined)?value:module.get.value();results=(results!==undefined)?results:module.get.results();if(settings.type==='category'){module.debug('Finding result that matches',value);$.each(results,function(index,category){if(Array.isArray(category.results)){result=module.search.object(value,category.results)[0];if(result){return false;}}});}
else{module.debug('Finding result in results object',value);result=module.search.object(value,results)[0];}
return result||false;},},select:{firstResult:function(){module.verbose('Selecting first result');$result.first().addClass(className.active);}},set:{focus:function(){$module.addClass(className.focus);},loading:function(){$module.addClass(className.loading);},value:function(value){module.verbose('Setting search input value',value);$prompt.val(value);},type:function(type){type=type||settings.type;if(settings.type=='category'){$module.addClass(settings.type);}},buttonPressed:function(){$searchButton.addClass(className.pressed);}},remove:{loading:function(){$module.removeClass(className.loading);},focus:function(){$module.removeClass(className.focus);},buttonPressed:function(){$searchButton.removeClass(className.pressed);},diacritics:function(text){return settings.ignoreDiacritics?text.normalize('NFD').replace(/[\u0300-\u036f]/g,''):text;}},query:function(callback){callback=$.isFunction(callback)?callback:function(){};var
searchTerm=module.get.value(),cache=module.read.cache(searchTerm);callback=callback||function(){};if(module.has.minimumCharacters()){if(cache){module.debug('Reading result from cache',searchTerm);module.save.results(cache.results);module.addResults(cache.html);module.inject.id(cache.results);callback();}
else{module.debug('Querying for',searchTerm);if($.isPlainObject(settings.source)||Array.isArray(settings.source)){module.search.local(searchTerm);callback();}
else if(module.can.useAPI()){module.search.remote(searchTerm,callback);}
else{module.error(error.source);callback();}}
settings.onSearchQuery.call(element,searchTerm);}
else{module.hideResults();}},search:{local:function(searchTerm){var
results=module.search.object(searchTerm,settings.source),searchHTML;module.set.loading();module.save.results(results);module.debug('Returned full local search results',results);if(settings.maxResults>0){module.debug('Using specified max results',results);results=results.slice(0,settings.maxResults);}
if(settings.type=='category'){results=module.create.categoryResults(results);}
searchHTML=module.generateResults({results:results});module.remove.loading();module.addResults(searchHTML);module.inject.id(results);module.write.cache(searchTerm,{html:searchHTML,results:results});},remote:function(searchTerm,callback){callback=$.isFunction(callback)?callback:function(){};if($module.api('is loading')){$module.api('abort');}
module.setup.api(searchTerm,callback);$module.api('query');},object:function(searchTerm,source,searchFields){searchTerm=module.remove.diacritics(String(searchTerm));var
results=[],exactResults=[],fuzzyResults=[],searchExp=searchTerm.replace(regExp.escape,'\\$&'),matchRegExp=new RegExp(regExp.beginsWith+searchExp,'i'),addResult=function(array,result){var
notResult=($.inArray(result,results)==-1),notFuzzyResult=($.inArray(result,fuzzyResults)==-1),notExactResults=($.inArray(result,exactResults)==-1);if(notResult&&notFuzzyResult&&notExactResults){array.push(result);}};source=source||settings.source;searchFields=(searchFields!==undefined)?searchFields:settings.searchFields;if(!Array.isArray(searchFields)){searchFields=[searchFields];}
if(source===undefined||source===false){module.error(error.source);return[];}
$.each(searchFields,function(index,field){$.each(source,function(label,content){var
fieldExists=(typeof content[field]=='string')||(typeof content[field]=='number');if(fieldExists){var text;if(typeof content[field]==='string'){text=module.remove.diacritics(content[field]);}else{text=content[field].toString();}
if(text.search(matchRegExp)!==-1){addResult(results,content);}
else if(settings.fullTextSearch==='exact'&&module.exactSearch(searchTerm,text)){addResult(exactResults,content);}
else if(settings.fullTextSearch==true&&module.fuzzySearch(searchTerm,text)){addResult(fuzzyResults,content);}}});});$.merge(exactResults,fuzzyResults);$.merge(results,exactResults);return results;}},exactSearch:function(query,term){query=query.toLowerCase();term=term.toLowerCase();return term.indexOf(query)>-1;},fuzzySearch:function(query,term){var
termLength=term.length,queryLength=query.length;if(typeof query!=='string'){return false;}
query=query.toLowerCase();term=term.toLowerCase();if(queryLength>termLength){return false;}
if(queryLength===termLength){return(query===term);}
search:for(var characterIndex=0,nextCharacterIndex=0;characterIndex<queryLength;characterIndex++){var
queryCharacter=query.charCodeAt(characterIndex);while(nextCharacterIndex<termLength){if(term.charCodeAt(nextCharacterIndex++)===queryCharacter){continue search;}}
return false;}
return true;},parse:{response:function(response,searchTerm){if(Array.isArray(response)){var o={};o[fields.results]=response;response=o;}
var
searchHTML=module.generateResults(response);module.verbose('Parsing server response',response);if(response!==undefined){if(searchTerm!==undefined&&response[fields.results]!==undefined){module.addResults(searchHTML);module.inject.id(response[fields.results]);module.write.cache(searchTerm,{html:searchHTML,results:response[fields.results]});module.save.results(response[fields.results]);}}}},cancel:{query:function(){if(module.can.useAPI()){$module.api('abort');}}},has:{minimumCharacters:function(){var
searchTerm=module.get.value(),numCharacters=searchTerm.length;return(numCharacters>=settings.minCharacters);},results:function(){if($results.length===0){return false;}
var
html=$results.html();return html!='';}},clear:{cache:function(value){var
cache=$module.data(metadata.cache);if(!value){module.debug('Clearing cache',value);$module.removeData(metadata.cache);}
else if(value&&cache&&cache[value]){module.debug('Removing value from cache',value);delete cache[value];$module.data(metadata.cache,cache);}}},read:{cache:function(name){var
cache=$module.data(metadata.cache);if(settings.cache){module.verbose('Checking cache for generated html for query',name);return(typeof cache=='object')&&(cache[name]!==undefined)?cache[name]:false;}
return false;}},create:{categoryResults:function(results){var
categoryResults={};$.each(results,function(index,result){if(!result.category){return;}
if(categoryResults[result.category]===undefined){module.verbose('Creating new category of results',result.category);categoryResults[result.category]={name:result.category,results:[result]};}
else{categoryResults[result.category].results.push(result);}});return categoryResults;},id:function(resultIndex,categoryIndex){var
resultID=(resultIndex+1),letterID,id;if(categoryIndex!==undefined){letterID=String.fromCharCode(97+categoryIndex);id=letterID+resultID;module.verbose('Creating category result id',id);}
else{id=resultID;module.verbose('Creating result id',id);}
return id;},results:function(){if($results.length===0){$results=$('<div />').addClass(className.results).appendTo($module);}}},inject:{result:function(result,resultIndex,categoryIndex){module.verbose('Injecting result into results');var
$selectedResult=(categoryIndex!==undefined)?$results.children().eq(categoryIndex).children(selector.results).first().children(selector.result).eq(resultIndex):$results.children(selector.result).eq(resultIndex);module.verbose('Injecting results metadata',$selectedResult);$selectedResult.data(metadata.result,result);},id:function(results){module.debug('Injecting unique ids into results');var
categoryIndex=0,resultIndex=0;if(settings.type==='category'){$.each(results,function(index,category){if(category.results.length>0){resultIndex=0;$.each(category.results,function(index,result){if(result.id===undefined){result.id=module.create.id(resultIndex,categoryIndex);}
module.inject.result(result,resultIndex,categoryIndex);resultIndex++;});categoryIndex++;}});}
else{$.each(results,function(index,result){if(result.id===undefined){result.id=module.create.id(resultIndex);}
module.inject.result(result,resultIndex);resultIndex++;});}
return results;}},save:{results:function(results){module.verbose('Saving current search results to metadata',results);$module.data(metadata.results,results);}},write:{cache:function(name,value){var
cache=($module.data(metadata.cache)!==undefined)?$module.data(metadata.cache):{};if(settings.cache){module.verbose('Writing generated html to cache',name,value);cache[name]=value;$module.data(metadata.cache,cache);}}},addResults:function(html){if($.isFunction(settings.onResultsAdd)){if(settings.onResultsAdd.call($results,html)===false){module.debug('onResultsAdd callback cancelled default action');return false;}}
if(html){$results.html(html);module.refreshResults();if(settings.selectFirstResult){module.select.firstResult();}
module.showResults();}
else{module.hideResults(function(){$results.empty();});}},showResults:function(callback){callback=$.isFunction(callback)?callback:function(){};if(resultsDismissed){return;}
if(!module.is.visible()&&module.has.results()){if(module.can.transition()){module.debug('Showing results with css animations');$results.transition({animation:settings.transition+' in',debug:settings.debug,verbose:settings.verbose,duration:settings.duration,onShow:function(){var $firstResult=$module.find(selector.result).eq(0);if($firstResult.length>0){module.ensureVisible($firstResult);}},onComplete:function(){callback();},queue:true});}
else{module.debug('Showing results with javascript');$results.stop().fadeIn(settings.duration,settings.easing);}
settings.onResultsOpen.call($results);}},hideResults:function(callback){callback=$.isFunction(callback)?callback:function(){};if(module.is.visible()){if(module.can.transition()){module.debug('Hiding results with css animations');$results.transition({animation:settings.transition+' out',debug:settings.debug,verbose:settings.verbose,duration:settings.duration,onComplete:function(){callback();},queue:true});}
else{module.debug('Hiding results with javascript');$results.stop().fadeOut(settings.duration,settings.easing);}
settings.onResultsClose.call($results);}},generateResults:function(response){module.debug('Generating html from response',response);var
template=settings.templates[settings.type],isProperObject=($.isPlainObject(response[fields.results])&&!$.isEmptyObject(response[fields.results])),isProperArray=(Array.isArray(response[fields.results])&&response[fields.results].length>0),html='';if(isProperObject||isProperArray){if(settings.maxResults>0){if(isProperObject){if(settings.type=='standard'){module.error(error.maxResults);}}
else{response[fields.results]=response[fields.results].slice(0,settings.maxResults);}}
if($.isFunction(template)){html=template(response,fields,settings.preserveHTML);}
else{module.error(error.noTemplate,false);}}
else if(settings.showNoResults){html=module.displayMessage(error.noResults,'empty',error.noResultsHeader);}
settings.onResults.call(element,response);return html;},displayMessage:function(text,type,header){type=type||'standard';module.debug('Displaying message',text,type,header);module.addResults(settings.templates.message(text,type,header));return settings.templates.message(text,type,header);},setting:function(name,value){if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){settings[name]=value;}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if($allModules.length>1){title+=' '+'('+$allModules.length+')';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.search.settings={name:'Search',namespace:'search',silent:false,debug:false,verbose:false,performance:true,type:'standard',minCharacters:1,selectFirstResult:false,apiSettings:false,source:false,searchOnFocus:true,searchFields:['id','title','description'],displayField:'',fullTextSearch:'exact',ignoreDiacritics:false,automatic:true,hideDelay:0,searchDelay:200,maxResults:7,cache:true,showNoResults:true,preserveHTML:true,transition:'scale',duration:200,easing:'easeOutExpo',onSelect:false,onResultsAdd:false,onSearchQuery:function(query){},onResults:function(response){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:'animating',active:'active',empty:'empty',focus:'focus',hidden:'hidden',loading:'loading',results:'results',pressed:'down'},error:{source:'Cannot search. No source used, and Semantic API module was not included',noResultsHeader:'No Results',noResults:'Your search returned no results',logging:'Error in debug logging, exiting.',noEndpoint:'No search endpoint was specified',noTemplate:'A valid template name was not specified.',oldSearchSyntax:'searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.',serverError:'There was an issue querying the server.',maxResults:'Results must be an array to use maxResults setting',method:'The method you called is not defined.',noNormalize:'"ignoreDiacritics" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'},metadata:{cache:'cache',results:'results',result:'result'},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:'(?:\s|^)'},fields:{categories:'results',categoryName:'name',categoryResults:'results',description:'description',image:'image',price:'price',results:'results',title:'title',url:'url',action:'action',actionText:'text',actionURL:'url'},selector:{prompt:'.prompt',searchButton:'.search.button',results:'.results',message:'.results > .message',category:'.category',result:'.result',title:'.title, .name'},templates:{escape:function(string,preserveHTML){if(preserveHTML){return string;}
var
badChars=/[<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr];};if(shouldEscape.test(string)){string=string.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;");return string.replace(badChars,escapedChar);}
return string;},message:function(message,type,header){var
html='';if(message!==undefined&&type!==undefined){html+=''
+'<div class="message '+type+'">';if(header){html+=''
+'<div class="header">'+header+'</div>';}
html+=' <div class="description">'+message+'</div>';html+='</div>';}
return html;},category:function(response,fields,preserveHTML){var
html='',escape=$.fn.search.settings.templates.escape;if(response[fields.categoryResults]!==undefined){$.each(response[fields.categoryResults],function(index,category){if(category[fields.results]!==undefined&&category.results.length>0){html+='<div class="category">';if(category[fields.categoryName]!==undefined){html+='<div class="name">'+escape(category[fields.categoryName],preserveHTML)+'</div>';}
html+='<div class="results">';$.each(category.results,function(index,result){if(result[fields.url]){html+='<a class="result" href="'+result[fields.url].replace(/"/g,"")+'">';}
else{html+='<a class="result">';}
if(result[fields.image]!==undefined){html+=''
+'<div class="image">'
+' <img src="'+result[fields.image].replace(/"/g,"")+'">'
+'</div>';}
html+='<div class="content">';if(result[fields.price]!==undefined){html+='<div class="price">'+escape(result[fields.price],preserveHTML)+'</div>';}
if(result[fields.title]!==undefined){html+='<div class="title">'+escape(result[fields.title],preserveHTML)+'</div>';}
if(result[fields.description]!==undefined){html+='<div class="description">'+escape(result[fields.description],preserveHTML)+'</div>';}
html+=''
+'</div>';html+='</a>';});html+='</div>';html+=''
+'</div>';}});if(response[fields.action]){if(fields.actionURL===false){html+=''
+'<div class="action">'
+escape(response[fields.action][fields.actionText],preserveHTML)
+'</div>';}else{html+=''
+'<a href="'+response[fields.action][fields.actionURL].replace(/"/g,"")+'" class="action">'
+escape(response[fields.action][fields.actionText],preserveHTML)
+'</a>';}}
return html;}
return false;},standard:function(response,fields,preserveHTML){var
html='',escape=$.fn.search.settings.templates.escape;if(response[fields.results]!==undefined){$.each(response[fields.results],function(index,result){if(result[fields.url]){html+='<a class="result" href="'+result[fields.url].replace(/"/g,"")+'">';}
else{html+='<a class="result">';}
if(result[fields.image]!==undefined){html+=''
+'<div class="image">'
+' <img src="'+result[fields.image].replace(/"/g,"")+'">'
+'</div>';}
html+='<div class="content">';if(result[fields.price]!==undefined){html+='<div class="price">'+escape(result[fields.price],preserveHTML)+'</div>';}
if(result[fields.title]!==undefined){html+='<div class="title">'+escape(result[fields.title],preserveHTML)+'</div>';}
if(result[fields.description]!==undefined){html+='<div class="description">'+escape(result[fields.description],preserveHTML)+'</div>';}
html+=''
+'</div>';html+='</a>';});if(response[fields.action]){if(fields.actionURL===false){html+=''
+'<div class="action">'
+escape(response[fields.action][fields.actionText],preserveHTML)
+'</div>';}else{html+=''
+'<a href="'+response[fields.action][fields.actionURL].replace(/"/g,"")+'" class="action">'
+escape(response[fields.action][fields.actionText],preserveHTML)
+'</a>';}}
return html;}
return false;}}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.shape=function(parameters){var
$allModules=$(this),time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0);},returnedValue;$allModules.each(function(){var
moduleSelector=$allModules.selector||'',settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.shape.settings,parameters):$.extend({},$.fn.shape.settings),namespace=settings.namespace,selector=settings.selector,error=settings.error,className=settings.className,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$sides=$module.find('>'+selector.sides),$side=$sides.find('>'+selector.side),nextIndex=false,$activeSide,$nextSide,element=this,instance=$module.data(moduleNamespace),module;module={initialize:function(){module.verbose('Initializing module for',element);module.set.defaultSide();module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,instance);},destroy:function(){module.verbose('Destroying previous module for',element);$module.removeData(moduleNamespace).off(eventNamespace);},refresh:function(){module.verbose('Refreshing selector cache for',element);$module=$(element);$sides=$(this).find(selector.sides);$side=$(this).find(selector.side);},repaint:function(){module.verbose('Forcing repaint event');var
shape=$sides[0]||document.createElement('div'),fakeAssignment=shape.offsetWidth;},animate:function(propertyObject,callback){module.verbose('Animating box with properties',propertyObject);callback=callback||function(event){module.verbose('Executing animation callback');if(event!==undefined){event.stopPropagation();}
module.reset();module.set.active();};settings.beforeChange.call($nextSide[0]);if(module.get.transitionEvent()){module.verbose('Starting CSS animation');$module.addClass(className.animating);$sides.css(propertyObject).one(module.get.transitionEvent(),callback);module.set.duration(settings.duration);requestAnimationFrame(function(){$module.addClass(className.animating);$activeSide.addClass(className.hidden);});}
else{callback();}},queue:function(method){module.debug('Queueing animation of',method);$sides.one(module.get.transitionEvent(),function(){module.debug('Executing queued animation');setTimeout(function(){$module.shape(method);},0);});},reset:function(){module.verbose('Animating states reset');$module.removeClass(className.animating).attr('style','').removeAttr('style');$sides.attr('style','').removeAttr('style');$side.attr('style','').removeAttr('style').removeClass(className.hidden);$nextSide.removeClass(className.animating).attr('style','').removeAttr('style');},is:{complete:function(){return($side.filter('.'+className.active)[0]==$nextSide[0]);},animating:function(){return $module.hasClass(className.animating);},hidden:function(){return $module.closest(':hidden').length>0;}},set:{defaultSide:function(){$activeSide=$side.filter('.'+settings.className.active);$nextSide=($activeSide.next(selector.side).length>0)?$activeSide.next(selector.side):$side.first();nextIndex=false;module.verbose('Active side set to',$activeSide);module.verbose('Next side set to',$nextSide);},duration:function(duration){duration=duration||settings.duration;duration=(typeof duration=='number')?duration+'ms':duration;module.verbose('Setting animation duration',duration);if(settings.duration||settings.duration===0){$sides.add($side).css({'-webkit-transition-duration':duration,'-moz-transition-duration':duration,'-ms-transition-duration':duration,'-o-transition-duration':duration,'transition-duration':duration});}},currentStageSize:function(){var
$activeSide=$side.filter('.'+settings.className.active),width=$activeSide.outerWidth(true),height=$activeSide.outerHeight(true);$module.css({width:width,height:height});},stageSize:function(){var
$clone=$module.clone().addClass(className.loading),$side=$clone.find('>'+selector.sides+'>'+selector.side),$activeSide=$side.filter('.'+settings.className.active),$nextSide=(nextIndex)?$side.eq(nextIndex):($activeSide.next(selector.side).length>0)?$activeSide.next(selector.side):$side.first(),newWidth=(settings.width==='next')?$nextSide.outerWidth(true):(settings.width==='initial')?$module.width():settings.width,newHeight=(settings.height==='next')?$nextSide.outerHeight(true):(settings.height==='initial')?$module.height():settings.height;$activeSide.removeClass(className.active);$nextSide.addClass(className.active);$clone.insertAfter($module);$clone.remove();if(settings.width!=='auto'){$module.css('width',newWidth+settings.jitter);module.verbose('Specifying width during animation',newWidth);}
if(settings.height!=='auto'){$module.css('height',newHeight+settings.jitter);module.verbose('Specifying height during animation',newHeight);}},nextSide:function(selector){nextIndex=selector;$nextSide=$side.filter(selector);nextIndex=$side.index($nextSide);if($nextSide.length===0){module.set.defaultSide();module.error(error.side);}
module.verbose('Next side manually set to',$nextSide);},active:function(){module.verbose('Setting new side to active',$nextSide);$side.removeClass(className.active);$nextSide.addClass(className.active);settings.onChange.call($nextSide[0]);module.set.defaultSide();}},flip:{to:function(type,stage){if(module.is.hidden()){module.debug('Module not visible',$nextSide);return;}
if(module.is.complete()&&!module.is.animating()&&!settings.allowRepeats){module.debug('Side already visible',$nextSide);return;}
var
transform=module.get.transform[type]();if(!module.is.animating()){module.debug('Flipping '+type,$nextSide);module.set.stageSize();module.stage[stage]();module.animate(transform);}
else{module.queue('flip '+type);}},up:function(){module.flip.to('up','above');},down:function(){module.flip.to('down','below');},left:function(){module.flip.to('left','left');},right:function(){module.flip.to('right','right');},over:function(){module.flip.to('over','behind');},back:function(){module.flip.to('back','behind');}},get:{transform:{up:function(){var
translateZ=$activeSide.outerHeight(true)/2,translateY=$nextSide.outerHeight(true)-translateZ;return{transform:'translateY('+translateY+'px) translateZ(-'+translateZ+'px) rotateX(-90deg)'};},down:function(){var
translate={z:$activeSide.outerHeight(true)/2};return{transform:'translateY(-'+translate.z+'px) translateZ(-'+translate.z+'px) rotateX(90deg)'};},left:function(){var
translateZ=$activeSide.outerWidth(true)/2,translateX=$nextSide.outerWidth(true)-translateZ;return{transform:'translateX('+translateX+'px) translateZ(-'+translateZ+'px) rotateY(90deg)'};},right:function(){var
translate={z:$activeSide.outerWidth(true)/2};return{transform:'translateX(-'+translate.z+'px) translateZ(-'+translate.z+'px) rotateY(-90deg)'};},over:function(){var
translate={x:-(($activeSide.outerWidth(true)-$nextSide.outerWidth(true))/2)};return{transform:'translateX('+translate.x+'px) rotateY(180deg)'};},back:function(){var
translate={x:-(($activeSide.outerWidth(true)-$nextSide.outerWidth(true))/2)};return{transform:'translateX('+translate.x+'px) rotateY(-180deg)'};}},transitionEvent:function(){var
element=document.createElement('element'),transitions={'transition':'transitionend','OTransition':'oTransitionEnd','MozTransition':'transitionend','WebkitTransition':'webkitTransitionEnd'},transition;for(transition in transitions){if(element.style[transition]!==undefined){return transitions[transition];}}},nextSide:function(){return($activeSide.next(selector.side).length>0)?$activeSide.next(selector.side):$side.first();}},stage:{above:function(){var
box={origin:(($activeSide.outerHeight(true)-$nextSide.outerHeight(true))/2),depth:{active:($nextSide.outerHeight(true)/2),next:($activeSide.outerHeight(true)/2)}};module.verbose('Setting the initial animation position as above',$nextSide,box);$activeSide.css({'transform':'rotateX(0deg)'});$nextSide.addClass(className.animating).css({'top':box.origin+'px','transform':'rotateX(90deg) translateZ('+box.depth.next+'px) translateY(-'+box.depth.active+'px)'});},below:function(){var
box={origin:(($activeSide.outerHeight(true)-$nextSide.outerHeight(true))/2),depth:{active:($nextSide.outerHeight(true)/2),next:($activeSide.outerHeight(true)/2)}};module.verbose('Setting the initial animation position as below',$nextSide,box);$activeSide.css({'transform':'rotateX(0deg)'});$nextSide.addClass(className.animating).css({'top':box.origin+'px','transform':'rotateX(-90deg) translateZ('+box.depth.next+'px) translateY('+box.depth.active+'px)'});},left:function(){var
height={active:$activeSide.outerWidth(true),next:$nextSide.outerWidth(true)},box={origin:((height.active-height.next)/2),depth:{active:(height.next/2),next:(height.active/2)}};module.verbose('Setting the initial animation position as left',$nextSide,box);$activeSide.css({'transform':'rotateY(0deg)'});$nextSide.addClass(className.animating).css({'left':box.origin+'px','transform':'rotateY(-90deg) translateZ('+box.depth.next+'px) translateX(-'+box.depth.active+'px)'});},right:function(){var
height={active:$activeSide.outerWidth(true),next:$nextSide.outerWidth(true)},box={origin:((height.active-height.next)/2),depth:{active:(height.next/2),next:(height.active/2)}};module.verbose('Setting the initial animation position as right',$nextSide,box);$activeSide.css({'transform':'rotateY(0deg)'});$nextSide.addClass(className.animating).css({'left':box.origin+'px','transform':'rotateY(90deg) translateZ('+box.depth.next+'px) translateX('+box.depth.active+'px)'});},behind:function(){var
height={active:$activeSide.outerWidth(true),next:$nextSide.outerWidth(true)},box={origin:((height.active-height.next)/2),depth:{active:(height.next/2),next:(height.active/2)}};module.verbose('Setting the initial animation position as behind',$nextSide,box);$activeSide.css({'transform':'rotateY(0deg)'});$nextSide.addClass(className.animating).css({'left':box.origin+'px','transform':'rotateY(-180deg)'});}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if($allModules.length>1){title+=' '+'('+$allModules.length+')';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
var $inputs=$module.find('input');if($inputs.length>0){$inputs.blur();setTimeout(function(){module.invoke(query);},150);}else{module.invoke(query);}}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.shape.settings={name:'Shape',silent:false,debug:false,verbose:false,jitter:0,performance:true,namespace:'shape',width:'initial',height:'initial',beforeChange:function(){},onChange:function(){},allowRepeats:false,duration:false,error:{side:'You tried to switch to a side that does not exist.',method:'The method you called is not defined'},className:{animating:'animating',hidden:'hidden',loading:'loading',active:'active'},selector:{sides:'.sides',side:'.side'}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.sidebar=function(parameters){var
$allModules=$(this),$window=$(window),$document=$(document),$html=$('html'),$head=$('head'),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0);},returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.sidebar.settings,parameters):$.extend({},$.fn.sidebar.settings),selector=settings.selector,className=settings.className,namespace=settings.namespace,regExp=settings.regExp,error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$context=$(settings.context),$sidebars=$module.children(selector.sidebar),$fixed=$context.children(selector.fixed),$pusher=$context.children(selector.pusher),$style,element=this,instance=$module.data(moduleNamespace),elementNamespace,id,currentScroll,transitionEvent,module;module={initialize:function(){module.debug('Initializing sidebar',parameters);module.create.id();transitionEvent=module.get.transitionEvent();if(settings.delaySetup){requestAnimationFrame(module.setup.layout);}
else{module.setup.layout();}
requestAnimationFrame(function(){module.setup.cache();});module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,module);},create:{id:function(){id=(Math.random().toString(16)+'000000000').substr(2,8);elementNamespace='.'+id;module.verbose('Creating unique id for element',id);}},destroy:function(){module.verbose('Destroying previous module for',$module);$module.off(eventNamespace).removeData(moduleNamespace);if(module.is.ios()){module.remove.ios();}
$context.off(elementNamespace);$window.off(elementNamespace);$document.off(elementNamespace);},event:{clickaway:function(event){if(settings.closable){var
clickedInPusher=($pusher.find(event.target).length>0||$pusher.is(event.target)),clickedContext=($context.is(event.target));if(clickedInPusher){module.verbose('User clicked on dimmed page');module.hide();}
if(clickedContext){module.verbose('User clicked on dimmable context (scaled out page)');module.hide();}}},touch:function(event){},containScroll:function(event){if(element.scrollTop<=0){element.scrollTop=1;}
if((element.scrollTop+element.offsetHeight)>=element.scrollHeight){element.scrollTop=element.scrollHeight-element.offsetHeight-1;}},scroll:function(event){if($(event.target).closest(selector.sidebar).length===0){event.preventDefault();}}},bind:{clickaway:function(){module.verbose('Adding clickaway events to context',$context);$context.on('click'+elementNamespace,module.event.clickaway).on('touchend'+elementNamespace,module.event.clickaway);},scrollLock:function(){if(settings.scrollLock){module.debug('Disabling page scroll');$window.on('DOMMouseScroll'+elementNamespace,module.event.scroll);}
module.verbose('Adding events to contain sidebar scroll');$document.on('touchmove'+elementNamespace,module.event.touch);$module.on('scroll'+eventNamespace,module.event.containScroll);}},unbind:{clickaway:function(){module.verbose('Removing clickaway events from context',$context);$context.off(elementNamespace);},scrollLock:function(){module.verbose('Removing scroll lock from page');$document.off(elementNamespace);$window.off(elementNamespace);$module.off('scroll'+eventNamespace);}},add:{inlineCSS:function(){var
width=module.cache.width||$module.outerWidth(),height=module.cache.height||$module.outerHeight(),isRTL=module.is.rtl(),direction=module.get.direction(),distance={left:width,right:-width,top:height,bottom:-height},style;if(isRTL){module.verbose('RTL detected, flipping widths');distance.left=-width;distance.right=width;}
style='<style>';if(direction==='left'||direction==='right'){module.debug('Adding CSS rules for animation distance',width);style+=''
+' .ui.visible.'+direction+'.sidebar ~ .fixed,'
+' .ui.visible.'+direction+'.sidebar ~ .pusher {'
+'   -webkit-transform: translate3d('+distance[direction]+'px, 0, 0);'
+'           transform: translate3d('+distance[direction]+'px, 0, 0);'
+' }';}
else if(direction==='top'||direction=='bottom'){style+=''
+' .ui.visible.'+direction+'.sidebar ~ .fixed,'
+' .ui.visible.'+direction+'.sidebar ~ .pusher {'
+'   -webkit-transform: translate3d(0, '+distance[direction]+'px, 0);'
+'           transform: translate3d(0, '+distance[direction]+'px, 0);'
+' }';}
if(module.is.ie()){if(direction==='left'||direction==='right'){module.debug('Adding CSS rules for animation distance',width);style+=''
+' body.pushable > .ui.visible.'+direction+'.sidebar ~ .pusher:after {'
+'   -webkit-transform: translate3d('+distance[direction]+'px, 0, 0);'
+'           transform: translate3d('+distance[direction]+'px, 0, 0);'
+' }';}
else if(direction==='top'||direction=='bottom'){style+=''
+' body.pushable > .ui.visible.'+direction+'.sidebar ~ .pusher:after {'
+'   -webkit-transform: translate3d(0, '+distance[direction]+'px, 0);'
+'           transform: translate3d(0, '+distance[direction]+'px, 0);'
+' }';}
style+=''
+' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,'
+' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {'
+'   -webkit-transform: translate3d(0, 0, 0);'
+'           transform: translate3d(0, 0, 0);'
+' }';}
style+='</style>';$style=$(style).appendTo($head);module.debug('Adding sizing css to head',$style);}},refresh:function(){module.verbose('Refreshing selector cache');$context=$(settings.context);$sidebars=$context.children(selector.sidebar);$pusher=$context.children(selector.pusher);$fixed=$context.children(selector.fixed);module.clear.cache();},refreshSidebars:function(){module.verbose('Refreshing other sidebars');$sidebars=$context.children(selector.sidebar);},repaint:function(){module.verbose('Forcing repaint event');element.style.display='none';var ignored=element.offsetHeight;element.scrollTop=element.scrollTop;element.style.display='';},setup:{cache:function(){module.cache={width:$module.outerWidth(),height:$module.outerHeight()};},layout:function(){if($context.children(selector.pusher).length===0){module.debug('Adding wrapper element for sidebar');module.error(error.pusher);$pusher=$('<div class="pusher" />');$context.children().not(selector.omitted).not($sidebars).wrapAll($pusher);module.refresh();}
if($module.nextAll(selector.pusher).length===0||$module.nextAll(selector.pusher)[0]!==$pusher[0]){module.debug('Moved sidebar to correct parent element');module.error(error.movedSidebar,element);$module.detach().prependTo($context);module.refresh();}
module.clear.cache();module.set.pushable();module.set.direction();}},attachEvents:function(selector,event){var
$toggle=$(selector);event=$.isFunction(module[event])?module[event]:module.toggle;if($toggle.length>0){module.debug('Attaching sidebar events to element',selector,event);$toggle.on('click'+eventNamespace,event);}
else{module.error(error.notFound,selector);}},show:function(callback){callback=$.isFunction(callback)?callback:function(){};if(module.is.hidden()){module.refreshSidebars();if(settings.overlay){module.error(error.overlay);settings.transition='overlay';}
module.refresh();if(module.othersActive()){module.debug('Other sidebars currently visible');if(settings.exclusive){if(settings.transition!='overlay'){module.hideOthers(module.show);return;}
else{module.hideOthers();}}
else{settings.transition='overlay';}}
module.pushPage(function(){callback.call(element);settings.onShow.call(element);});settings.onChange.call(element);settings.onVisible.call(element);}
else{module.debug('Sidebar is already visible');}},hide:function(callback){callback=$.isFunction(callback)?callback:function(){};if(module.is.visible()||module.is.animating()){module.debug('Hiding sidebar',callback);module.refreshSidebars();module.pullPage(function(){callback.call(element);settings.onHidden.call(element);});settings.onChange.call(element);settings.onHide.call(element);}},othersAnimating:function(){return($sidebars.not($module).filter('.'+className.animating).length>0);},othersVisible:function(){return($sidebars.not($module).filter('.'+className.visible).length>0);},othersActive:function(){return(module.othersVisible()||module.othersAnimating());},hideOthers:function(callback){var
$otherSidebars=$sidebars.not($module).filter('.'+className.visible),sidebarCount=$otherSidebars.length,callbackCount=0;callback=callback||function(){};$otherSidebars.sidebar('hide',function(){callbackCount++;if(callbackCount==sidebarCount){callback();}});},toggle:function(){module.verbose('Determining toggled direction');if(module.is.hidden()){module.show();}
else{module.hide();}},pushPage:function(callback){var
transition=module.get.transition(),$transition=(transition==='overlay'||module.othersActive())?$module:$pusher,animate,dim,transitionEnd;callback=$.isFunction(callback)?callback:function(){};if(settings.transition=='scale down'){module.scrollToTop();}
module.set.transition(transition);module.repaint();animate=function(){module.bind.clickaway();module.add.inlineCSS();module.set.animating();module.set.visible();};dim=function(){module.set.dimmed();};transitionEnd=function(event){if(event.target==$transition[0]){$transition.off(transitionEvent+elementNamespace,transitionEnd);module.remove.animating();module.bind.scrollLock();callback.call(element);}};$transition.off(transitionEvent+elementNamespace);$transition.on(transitionEvent+elementNamespace,transitionEnd);requestAnimationFrame(animate);if(settings.dimPage&&!module.othersVisible()){requestAnimationFrame(dim);}},pullPage:function(callback){var
transition=module.get.transition(),$transition=(transition=='overlay'||module.othersActive())?$module:$pusher,animate,transitionEnd;callback=$.isFunction(callback)?callback:function(){};module.verbose('Removing context push state',module.get.direction());module.unbind.clickaway();module.unbind.scrollLock();animate=function(){module.set.transition(transition);module.set.animating();module.remove.visible();if(settings.dimPage&&!module.othersVisible()){$pusher.removeClass(className.dimmed);}};transitionEnd=function(event){if(event.target==$transition[0]){$transition.off(transitionEvent+elementNamespace,transitionEnd);module.remove.animating();module.remove.transition();module.remove.inlineCSS();if(transition=='scale down'||(settings.returnScroll&&module.is.mobile())){module.scrollBack();}
callback.call(element);}};$transition.off(transitionEvent+elementNamespace);$transition.on(transitionEvent+elementNamespace,transitionEnd);requestAnimationFrame(animate);},scrollToTop:function(){module.verbose('Scrolling to top of page to avoid animation issues');currentScroll=$(window).scrollTop();$module.scrollTop(0);window.scrollTo(0,0);},scrollBack:function(){module.verbose('Scrolling back to original page position');window.scrollTo(0,currentScroll);},clear:{cache:function(){module.verbose('Clearing cached dimensions');module.cache={};}},set:{ios:function(){$html.addClass(className.ios);},pushed:function(){$context.addClass(className.pushed);},pushable:function(){$context.addClass(className.pushable);},dimmed:function(){$pusher.addClass(className.dimmed);},active:function(){$module.addClass(className.active);},animating:function(){$module.addClass(className.animating);},transition:function(transition){transition=transition||module.get.transition();$module.addClass(transition);},direction:function(direction){direction=direction||module.get.direction();$module.addClass(className[direction]);},visible:function(){$module.addClass(className.visible);},overlay:function(){$module.addClass(className.overlay);}},remove:{inlineCSS:function(){module.debug('Removing inline css styles',$style);if($style&&$style.length>0){$style.remove();}},ios:function(){$html.removeClass(className.ios);},pushed:function(){$context.removeClass(className.pushed);},pushable:function(){$context.removeClass(className.pushable);},active:function(){$module.removeClass(className.active);},animating:function(){$module.removeClass(className.animating);},transition:function(transition){transition=transition||module.get.transition();$module.removeClass(transition);},direction:function(direction){direction=direction||module.get.direction();$module.removeClass(className[direction]);},visible:function(){$module.removeClass(className.visible);},overlay:function(){$module.removeClass(className.overlay);}},get:{direction:function(){if($module.hasClass(className.top)){return className.top;}
else if($module.hasClass(className.right)){return className.right;}
else if($module.hasClass(className.bottom)){return className.bottom;}
return className.left;},transition:function(){var
direction=module.get.direction(),transition;transition=(module.is.mobile())?(settings.mobileTransition=='auto')?settings.defaultTransition.mobile[direction]:settings.mobileTransition:(settings.transition=='auto')?settings.defaultTransition.computer[direction]:settings.transition;module.verbose('Determined transition',transition);return transition;},transitionEvent:function(){var
element=document.createElement('element'),transitions={'transition':'transitionend','OTransition':'oTransitionEnd','MozTransition':'transitionend','WebkitTransition':'webkitTransitionEnd'},transition;for(transition in transitions){if(element.style[transition]!==undefined){return transitions[transition];}}}},is:{ie:function(){var
isIE11=(!(window.ActiveXObject)&&'ActiveXObject'in window),isIE=('ActiveXObject'in window);return(isIE11||isIE);},ios:function(){var
userAgent=navigator.userAgent,isIOS=userAgent.match(regExp.ios),isMobileChrome=userAgent.match(regExp.mobileChrome);if(isIOS&&!isMobileChrome){module.verbose('Browser was found to be iOS',userAgent);return true;}
else{return false;}},mobile:function(){var
userAgent=navigator.userAgent,isMobile=userAgent.match(regExp.mobile);if(isMobile){module.verbose('Browser was found to be mobile',userAgent);return true;}
else{module.verbose('Browser is not mobile, using regular transition',userAgent);return false;}},hidden:function(){return!module.is.visible();},visible:function(){return $module.hasClass(className.visible);},open:function(){return module.is.visible();},closed:function(){return module.is.hidden();},vertical:function(){return $module.hasClass(className.top);},animating:function(){return $context.hasClass(className.animating);},rtl:function(){if(module.cache.rtl===undefined){module.cache.rtl=$module.attr('dir')==='rtl'||$module.css('direction')==='rtl';}
return module.cache.rtl;}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){module.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.sidebar.settings={name:'Sidebar',namespace:'sidebar',silent:false,debug:false,verbose:false,performance:true,transition:'auto',mobileTransition:'auto',defaultTransition:{computer:{left:'uncover',right:'uncover',top:'overlay',bottom:'overlay'},mobile:{left:'uncover',right:'uncover',top:'overlay',bottom:'overlay'}},context:'body',exclusive:false,closable:true,dimPage:true,scrollLock:false,returnScroll:false,delaySetup:false,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:'active',animating:'animating',dimmed:'dimmed',ios:'ios',pushable:'pushable',pushed:'pushed',right:'right',top:'top',left:'left',bottom:'bottom',visible:'visible'},selector:{fixed:'.fixed',omitted:'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',pusher:'.pusher',sidebar:'.ui.sidebar'},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:'The method you called is not defined.',pusher:'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',movedSidebar:'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',overlay:'The overlay setting is no longer supported, use animation: overlay',notFound:'There were no elements that matched the specified selector'}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.sticky=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.sticky.settings,parameters):$.extend({},$.fn.sticky.settings),className=settings.className,namespace=settings.namespace,error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$window=$(window),$scroll=$(settings.scrollContext),$container,$context,instance=$module.data(moduleNamespace),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0);},element=this,documentObserver,observer,module;module={initialize:function(){module.determineContainer();module.determineContext();module.verbose('Initializing sticky',settings,$container);module.save.positions();module.checkErrors();module.bind.events();if(settings.observeChanges){module.observeChanges();}
module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying previous instance');module.reset();if(documentObserver){documentObserver.disconnect();}
if(observer){observer.disconnect();}
$window.off('load'+eventNamespace,module.event.load).off('resize'+eventNamespace,module.event.resize);$scroll.off('scrollchange'+eventNamespace,module.event.scrollchange);$module.removeData(moduleNamespace);},observeChanges:function(){if('MutationObserver'in window){documentObserver=new MutationObserver(module.event.documentChanged);observer=new MutationObserver(module.event.changed);documentObserver.observe(document,{childList:true,subtree:true});observer.observe(element,{childList:true,subtree:true});observer.observe($context[0],{childList:true,subtree:true});module.debug('Setting up mutation observer',observer);}},determineContainer:function(){if(settings.container){$container=$(settings.container);}
else{$container=$module.offsetParent();}},determineContext:function(){if(settings.context){$context=$(settings.context);}
else{$context=$container;}
if($context.length===0){module.error(error.invalidContext,settings.context,$module);return;}},checkErrors:function(){if(module.is.hidden()){module.error(error.visible,$module);}
if(module.cache.element.height>module.cache.context.height){module.reset();module.error(error.elementSize,$module);return;}},bind:{events:function(){$window.on('load'+eventNamespace,module.event.load).on('resize'+eventNamespace,module.event.resize);$scroll.off('scroll'+eventNamespace).on('scroll'+eventNamespace,module.event.scroll).on('scrollchange'+eventNamespace,module.event.scrollchange);}},event:{changed:function(mutations){clearTimeout(module.timer);module.timer=setTimeout(function(){module.verbose('DOM tree modified, updating sticky menu',mutations);module.refresh();},100);},documentChanged:function(mutations){[].forEach.call(mutations,function(mutation){if(mutation.removedNodes){[].forEach.call(mutation.removedNodes,function(node){if(node==element||$(node).find(element).length>0){module.debug('Element removed from DOM, tearing down events');module.destroy();}});}});},load:function(){module.verbose('Page contents finished loading');requestAnimationFrame(module.refresh);},resize:function(){module.verbose('Window resized');requestAnimationFrame(module.refresh);},scroll:function(){requestAnimationFrame(function(){$scroll.triggerHandler('scrollchange'+eventNamespace,$scroll.scrollTop());});},scrollchange:function(event,scrollPosition){module.stick(scrollPosition);settings.onScroll.call(element);}},refresh:function(hardRefresh){module.reset();if(!settings.context){module.determineContext();}
if(hardRefresh){module.determineContainer();}
module.save.positions();module.stick();settings.onReposition.call(element);},supports:{sticky:function(){var
$element=$('<div/>');$element.addClass(className.supported);return($element.css('position').match('sticky'));}},save:{lastScroll:function(scroll){module.lastScroll=scroll;},elementScroll:function(scroll){module.elementScroll=scroll;},positions:function(){var
scrollContext={height:$scroll.height()},element={margin:{top:parseInt($module.css('margin-top'),10),bottom:parseInt($module.css('margin-bottom'),10),},offset:$module.offset(),width:$module.outerWidth(),height:$module.outerHeight()},context={offset:$context.offset(),height:$context.outerHeight()};if(!module.is.standardScroll()){module.debug('Non-standard scroll. Removing scroll offset from element offset');scrollContext.top=$scroll.scrollTop();scrollContext.left=$scroll.scrollLeft();element.offset.top+=scrollContext.top;context.offset.top+=scrollContext.top;element.offset.left+=scrollContext.left;context.offset.left+=scrollContext.left;}
module.cache={fits:((element.height+settings.offset)<=scrollContext.height),sameHeight:(element.height==context.height),scrollContext:{height:scrollContext.height},element:{margin:element.margin,top:element.offset.top-element.margin.top,left:element.offset.left,width:element.width,height:element.height,bottom:element.offset.top+element.height},context:{top:context.offset.top,height:context.height,bottom:context.offset.top+context.height}};module.set.containerSize();module.stick();module.debug('Caching element positions',module.cache);}},get:{direction:function(scroll){var
direction='down';scroll=scroll||$scroll.scrollTop();if(module.lastScroll!==undefined){if(module.lastScroll<scroll){direction='down';}
else if(module.lastScroll>scroll){direction='up';}}
return direction;},scrollChange:function(scroll){scroll=scroll||$scroll.scrollTop();return(module.lastScroll)?(scroll-module.lastScroll):0;},currentElementScroll:function(){if(module.elementScroll){return module.elementScroll;}
return(module.is.top())?Math.abs(parseInt($module.css('top'),10))||0:Math.abs(parseInt($module.css('bottom'),10))||0;},elementScroll:function(scroll){scroll=scroll||$scroll.scrollTop();var
element=module.cache.element,scrollContext=module.cache.scrollContext,delta=module.get.scrollChange(scroll),maxScroll=(element.height-scrollContext.height+settings.offset),elementScroll=module.get.currentElementScroll(),possibleScroll=(elementScroll+delta);if(module.cache.fits||possibleScroll<0){elementScroll=0;}
else if(possibleScroll>maxScroll){elementScroll=maxScroll;}
else{elementScroll=possibleScroll;}
return elementScroll;}},remove:{lastScroll:function(){delete module.lastScroll;},elementScroll:function(scroll){delete module.elementScroll;},minimumSize:function(){$container.css('min-height','');},offset:function(){$module.css('margin-top','');}},set:{offset:function(){module.verbose('Setting offset on element',settings.offset);$module.css('margin-top',settings.offset);},containerSize:function(){var
tagName=$container.get(0).tagName;if(tagName==='HTML'||tagName=='body'){module.determineContainer();}
else{if(Math.abs($container.outerHeight()-module.cache.context.height)>settings.jitter){module.debug('Context has padding, specifying exact height for container',module.cache.context.height);$container.css({height:module.cache.context.height});}}},minimumSize:function(){var
element=module.cache.element;$container.css('min-height',element.height);},scroll:function(scroll){module.debug('Setting scroll on element',scroll);if(module.elementScroll==scroll){return;}
if(module.is.top()){$module.css('bottom','').css('top',-scroll);}
if(module.is.bottom()){$module.css('top','').css('bottom',scroll);}},size:function(){if(module.cache.element.height!==0&&module.cache.element.width!==0){element.style.setProperty('width',module.cache.element.width+'px','important');element.style.setProperty('height',module.cache.element.height+'px','important');}}},is:{standardScroll:function(){return($scroll[0]==window);},top:function(){return $module.hasClass(className.top);},bottom:function(){return $module.hasClass(className.bottom);},initialPosition:function(){return(!module.is.fixed()&&!module.is.bound());},hidden:function(){return(!$module.is(':visible'));},bound:function(){return $module.hasClass(className.bound);},fixed:function(){return $module.hasClass(className.fixed);}},stick:function(scroll){var
cachedPosition=scroll||$scroll.scrollTop(),cache=module.cache,fits=cache.fits,sameHeight=cache.sameHeight,element=cache.element,scrollContext=cache.scrollContext,context=cache.context,offset=(module.is.bottom()&&settings.pushing)?settings.bottomOffset:settings.offset,scroll={top:cachedPosition+offset,bottom:cachedPosition+offset+scrollContext.height},elementScroll=(fits)?0:module.get.elementScroll(scroll.top),doesntFit=!fits,elementVisible=(element.height!==0);if(elementVisible&&!sameHeight){if(module.is.initialPosition()){if(scroll.top>=context.bottom){module.debug('Initial element position is bottom of container');module.bindBottom();}
else if(scroll.top>element.top){if((element.height+scroll.top-elementScroll)>=context.bottom){module.debug('Initial element position is bottom of container');module.bindBottom();}
else{module.debug('Initial element position is fixed');module.fixTop();}}}
else if(module.is.fixed()){if(module.is.top()){if(scroll.top<=element.top){module.debug('Fixed element reached top of container');module.setInitialPosition();}
else if((element.height+scroll.top-elementScroll)>=context.bottom){module.debug('Fixed element reached bottom of container');module.bindBottom();}
else if(doesntFit){module.set.scroll(elementScroll);module.save.lastScroll(scroll.top);module.save.elementScroll(elementScroll);}}
else if(module.is.bottom()){if((scroll.bottom-element.height)<=element.top){module.debug('Bottom fixed rail has reached top of container');module.setInitialPosition();}
else if(scroll.bottom>=context.bottom){module.debug('Bottom fixed rail has reached bottom of container');module.bindBottom();}
else if(doesntFit){module.set.scroll(elementScroll);module.save.lastScroll(scroll.top);module.save.elementScroll(elementScroll);}}}
else if(module.is.bottom()){if(scroll.top<=element.top){module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');module.setInitialPosition();}
else{if(settings.pushing){if(module.is.bound()&&scroll.bottom<=context.bottom){module.debug('Fixing bottom attached element to bottom of browser.');module.fixBottom();}}
else{if(module.is.bound()&&(scroll.top<=context.bottom-element.height)){module.debug('Fixing bottom attached element to top of browser.');module.fixTop();}}}}}},bindTop:function(){module.debug('Binding element to top of parent container');module.remove.offset();$module.css({left:'',top:'',marginBottom:''}).removeClass(className.fixed).removeClass(className.bottom).addClass(className.bound).addClass(className.top);settings.onTop.call(element);settings.onUnstick.call(element);},bindBottom:function(){module.debug('Binding element to bottom of parent container');module.remove.offset();$module.css({left:'',top:''}).removeClass(className.fixed).removeClass(className.top).addClass(className.bound).addClass(className.bottom);settings.onBottom.call(element);settings.onUnstick.call(element);},setInitialPosition:function(){module.debug('Returning to initial position');module.unfix();module.unbind();},fixTop:function(){module.debug('Fixing element to top of page');if(settings.setSize){module.set.size();}
module.set.minimumSize();module.set.offset();$module.css({left:module.cache.element.left,bottom:'',marginBottom:''}).removeClass(className.bound).removeClass(className.bottom).addClass(className.fixed).addClass(className.top);settings.onStick.call(element);},fixBottom:function(){module.debug('Sticking element to bottom of page');if(settings.setSize){module.set.size();}
module.set.minimumSize();module.set.offset();$module.css({left:module.cache.element.left,bottom:'',marginBottom:''}).removeClass(className.bound).removeClass(className.top).addClass(className.fixed).addClass(className.bottom);settings.onStick.call(element);},unbind:function(){if(module.is.bound()){module.debug('Removing container bound position on element');module.remove.offset();$module.removeClass(className.bound).removeClass(className.top).removeClass(className.bottom);}},unfix:function(){if(module.is.fixed()){module.debug('Removing fixed position on element');module.remove.minimumSize();module.remove.offset();$module.removeClass(className.fixed).removeClass(className.top).removeClass(className.bottom);settings.onUnstick.call(element);}},reset:function(){module.debug('Resetting elements position');module.unbind();module.unfix();module.resetCSS();module.remove.offset();module.remove.lastScroll();},resetCSS:function(){$module.css({width:'',height:''});$container.css({height:''});},setting:function(name,value){if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){settings[name]=value;}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,0);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.sticky.settings={name:'Sticky',namespace:'sticky',silent:false,debug:false,verbose:true,performance:true,pushing:false,context:false,container:false,scrollContext:window,offset:0,bottomOffset:0,jitter:5,setSize:true,observeChanges:false,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:'Sticky element must be inside a relative container',visible:'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',method:'The method you called is not defined.',invalidContext:'Context specified does not exist',elementSize:'Sticky element is larger than its container, cannot create sticky.'},className:{bound:'bound',fixed:'fixed',supported:'native',top:'top',bottom:'bottom'}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isWindow=$.isWindow||function(obj){return obj!=null&&obj===obj.window;};$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.tab=function(parameters){var
$allModules=$.isFunction(this)?$(window):$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),initializedHistory=false,returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.tab.settings,parameters):$.extend({},$.fn.tab.settings),className=settings.className,metadata=settings.metadata,selector=settings.selector,error=settings.error,regExp=settings.regExp,eventNamespace='.'+settings.namespace,moduleNamespace='module-'+settings.namespace,$module=$(this),$context,$tabs,cache={},firstLoad=true,recursionDepth=0,element=this,instance=$module.data(moduleNamespace),activeTabPath,parameterArray,module,historyEvent;module={initialize:function(){module.debug('Initializing tab menu item',$module);module.fix.callbacks();module.determineTabs();module.debug('Determining tabs',settings.context,$tabs);if(settings.auto){module.set.auto();}
module.bind.events();if(settings.history&&!initializedHistory){module.initializeHistory();initializedHistory=true;}
if(settings.autoTabActivation&&instance===undefined&&module.determine.activeTab()==null){module.debug('No active tab detected, setting first tab active',module.get.initialPath());module.changeTab(settings.autoTabActivation===true?module.get.initialPath():settings.autoTabActivation);};module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.debug('Destroying tabs',$module);$module.removeData(moduleNamespace).off(eventNamespace);},bind:{events:function(){if(!$.isWindow(element)){module.debug('Attaching tab activation events to element',$module);$module.on('click'+eventNamespace,module.event.click);}}},determineTabs:function(){var
$reference;if(settings.context==='parent'){if($module.closest(selector.ui).length>0){$reference=$module.closest(selector.ui);module.verbose('Using closest UI element as parent',$reference);}
else{$reference=$module;}
$context=$reference.parent();module.verbose('Determined parent element for creating context',$context);}
else if(settings.context){$context=$(settings.context);module.verbose('Using selector for tab context',settings.context,$context);}
else{$context=$('body');}
if(settings.childrenOnly){$tabs=$context.children(selector.tabs);module.debug('Searching tab context children for tabs',$context,$tabs);}
else{$tabs=$context.find(selector.tabs);module.debug('Searching tab context for tabs',$context,$tabs);}},fix:{callbacks:function(){if($.isPlainObject(parameters)&&(parameters.onTabLoad||parameters.onTabInit)){if(parameters.onTabLoad){parameters.onLoad=parameters.onTabLoad;delete parameters.onTabLoad;module.error(error.legacyLoad,parameters.onLoad);}
if(parameters.onTabInit){parameters.onFirstLoad=parameters.onTabInit;delete parameters.onTabInit;module.error(error.legacyInit,parameters.onFirstLoad);}
settings=$.extend(true,{},$.fn.tab.settings,parameters);}}},initializeHistory:function(){module.debug('Initializing page state');if($.address===undefined){module.error(error.state);return false;}
else{if(settings.historyType=='state'){module.debug('Using HTML5 to manage state');if(settings.path!==false){$.address.history(true).state(settings.path);}
else{module.error(error.path);return false;}}
$.address.bind('change',module.event.history.change);}},event:{click:function(event){var
tabPath=$(this).data(metadata.tab);if(tabPath!==undefined){if(settings.history){module.verbose('Updating page state',event);$.address.value(tabPath);}
else{module.verbose('Changing tab',event);module.changeTab(tabPath);}
event.preventDefault();}
else{module.debug('No tab specified');}},history:{change:function(event){var
tabPath=event.pathNames.join('/')||module.get.initialPath(),pageTitle=settings.templates.determineTitle(tabPath)||false;module.performance.display();module.debug('History change event',tabPath,event);historyEvent=event;if(tabPath!==undefined){module.changeTab(tabPath);}
if(pageTitle){$.address.title(pageTitle);}}}},refresh:function(){if(activeTabPath){module.debug('Refreshing tab',activeTabPath);module.changeTab(activeTabPath);}},cache:{read:function(cacheKey){return(cacheKey!==undefined)?cache[cacheKey]:false;},add:function(cacheKey,content){cacheKey=cacheKey||activeTabPath;module.debug('Adding cached content for',cacheKey);cache[cacheKey]=content;},remove:function(cacheKey){cacheKey=cacheKey||activeTabPath;module.debug('Removing cached content for',cacheKey);delete cache[cacheKey];}},escape:{string:function(text){text=String(text);return text.replace(regExp.escape,'\\$&');}},set:{auto:function(){var
url=(typeof settings.path=='string')?settings.path.replace(/\/$/,'')+'/{$tab}':'/{$tab}';module.verbose('Setting up automatic tab retrieval from server',url);if($.isPlainObject(settings.apiSettings)){settings.apiSettings.url=url;}
else{settings.apiSettings={url:url};}},loading:function(tabPath){var
$tab=module.get.tabElement(tabPath),isLoading=$tab.hasClass(className.loading);if(!isLoading){module.verbose('Setting loading state for',$tab);$tab.addClass(className.loading).siblings($tabs).removeClass(className.active+' '+className.loading);if($tab.length>0){settings.onRequest.call($tab[0],tabPath);}}},state:function(state){$.address.value(state);}},changeTab:function(tabPath){var
pushStateAvailable=(window.history&&window.history.pushState),shouldIgnoreLoad=(pushStateAvailable&&settings.ignoreFirstLoad&&firstLoad),remoteContent=(settings.auto||$.isPlainObject(settings.apiSettings)),pathArray=(remoteContent&&!shouldIgnoreLoad)?module.utilities.pathToArray(tabPath):module.get.defaultPathArray(tabPath);tabPath=module.utilities.arrayToPath(pathArray);$.each(pathArray,function(index,tab){var
currentPathArray=pathArray.slice(0,index+1),currentPath=module.utilities.arrayToPath(currentPathArray),isTab=module.is.tab(currentPath),isLastIndex=(index+1==pathArray.length),$tab=module.get.tabElement(currentPath),$anchor,nextPathArray,nextPath,isLastTab;module.verbose('Looking for tab',tab);if(isTab){module.verbose('Tab was found',tab);activeTabPath=currentPath;parameterArray=module.utilities.filterArray(pathArray,currentPathArray);if(isLastIndex){isLastTab=true;}
else{nextPathArray=pathArray.slice(0,index+2);nextPath=module.utilities.arrayToPath(nextPathArray);isLastTab=(!module.is.tab(nextPath));if(isLastTab){module.verbose('Tab parameters found',nextPathArray);}}
if(isLastTab&&remoteContent){if(!shouldIgnoreLoad){module.activate.navigation(currentPath);module.fetch.content(currentPath,tabPath);}
else{module.debug('Ignoring remote content on first tab load',currentPath);firstLoad=false;module.cache.add(tabPath,$tab.html());module.activate.all(currentPath);settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent);settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent);}
return false;}
else{module.debug('Opened local tab',currentPath);module.activate.all(currentPath);if(!module.cache.read(currentPath)){module.cache.add(currentPath,true);module.debug('First time tab loaded calling tab init');settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent);}
settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent);}}
else if(tabPath.search('/')==-1&&tabPath!==''){tabPath=module.escape.string(tabPath);$anchor=$('#'+tabPath+', a[name="'+tabPath+'"]');currentPath=$anchor.closest('[data-tab]').data(metadata.tab);$tab=module.get.tabElement(currentPath);if($anchor&&$anchor.length>0&&currentPath){module.debug('Anchor link used, opening parent tab',$tab,$anchor);if(!$tab.hasClass(className.active)){setTimeout(function(){module.scrollTo($anchor);},0);}
module.activate.all(currentPath);if(!module.cache.read(currentPath)){module.cache.add(currentPath,true);module.debug('First time tab loaded calling tab init');settings.onFirstLoad.call($tab[0],currentPath,parameterArray,historyEvent);}
settings.onLoad.call($tab[0],currentPath,parameterArray,historyEvent);return false;}}
else{module.error(error.missingTab,$module,$context,currentPath);return false;}});},scrollTo:function($element){var
scrollOffset=($element&&$element.length>0)?$element.offset().top:false;if(scrollOffset!==false){module.debug('Forcing scroll to an in-page link in a hidden tab',scrollOffset,$element);$(document).scrollTop(scrollOffset);}},update:{content:function(tabPath,html,evaluateScripts){var
$tab=module.get.tabElement(tabPath),tab=$tab[0];evaluateScripts=(evaluateScripts!==undefined)?evaluateScripts:settings.evaluateScripts;if(typeof settings.cacheType=='string'&&settings.cacheType.toLowerCase()=='dom'&&typeof html!=='string'){$tab.empty().append($(html).clone(true));}
else{if(evaluateScripts){module.debug('Updating HTML and evaluating inline scripts',tabPath,html);$tab.html(html);}
else{module.debug('Updating HTML',tabPath,html);tab.innerHTML=html;}}}},fetch:{content:function(tabPath,fullTabPath){var
$tab=module.get.tabElement(tabPath),apiSettings={dataType:'html',encodeParameters:false,on:'now',cache:settings.alwaysRefresh,headers:{'X-Remote':true},onSuccess:function(response){if(settings.cacheType=='response'){module.cache.add(fullTabPath,response);}
module.update.content(tabPath,response);if(tabPath==activeTabPath){module.debug('Content loaded',tabPath);module.activate.tab(tabPath);}
else{module.debug('Content loaded in background',tabPath);}
settings.onFirstLoad.call($tab[0],tabPath,parameterArray,historyEvent);settings.onLoad.call($tab[0],tabPath,parameterArray,historyEvent);if(settings.loadOnce){module.cache.add(fullTabPath,true);}
else if(typeof settings.cacheType=='string'&&settings.cacheType.toLowerCase()=='dom'&&$tab.children().length>0){setTimeout(function(){var
$clone=$tab.children().clone(true);$clone=$clone.not('script');module.cache.add(fullTabPath,$clone);},0);}
else{module.cache.add(fullTabPath,$tab.html());}},urlData:{tab:fullTabPath}},request=$tab.api('get request')||false,existingRequest=(request&&request.state()==='pending'),requestSettings,cachedContent;fullTabPath=fullTabPath||tabPath;cachedContent=module.cache.read(fullTabPath);if(settings.cache&&cachedContent){module.activate.tab(tabPath);module.debug('Adding cached content',fullTabPath);if(!settings.loadOnce){if(settings.evaluateScripts=='once'){module.update.content(tabPath,cachedContent,false);}
else{module.update.content(tabPath,cachedContent);}}
settings.onLoad.call($tab[0],tabPath,parameterArray,historyEvent);}
else if(existingRequest){module.set.loading(tabPath);module.debug('Content is already loading',fullTabPath);}
else if($.api!==undefined){requestSettings=$.extend(true,{},settings.apiSettings,apiSettings);module.debug('Retrieving remote content',fullTabPath,requestSettings);module.set.loading(tabPath);$tab.api(requestSettings);}
else{module.error(error.api);}}},activate:{all:function(tabPath){module.activate.tab(tabPath);module.activate.navigation(tabPath);},tab:function(tabPath){var
$tab=module.get.tabElement(tabPath),$deactiveTabs=(settings.deactivate=='siblings')?$tab.siblings($tabs):$tabs.not($tab),isActive=$tab.hasClass(className.active);module.verbose('Showing tab content for',$tab);if(!isActive){$tab.addClass(className.active);$deactiveTabs.removeClass(className.active+' '+className.loading);if($tab.length>0){settings.onVisible.call($tab[0],tabPath);}}},navigation:function(tabPath){var
$navigation=module.get.navElement(tabPath),$deactiveNavigation=(settings.deactivate=='siblings')?$navigation.siblings($allModules):$allModules.not($navigation),isActive=$navigation.hasClass(className.active);module.verbose('Activating tab navigation for',$navigation,tabPath);if(!isActive){$navigation.addClass(className.active);$deactiveNavigation.removeClass(className.active+' '+className.loading);}}},deactivate:{all:function(){module.deactivate.navigation();module.deactivate.tabs();},navigation:function(){$allModules.removeClass(className.active);},tabs:function(){$tabs.removeClass(className.active+' '+className.loading);}},is:{tab:function(tabName){return(tabName!==undefined)?(module.get.tabElement(tabName).length>0):false;}},get:{initialPath:function(){return $allModules.eq(0).data(metadata.tab)||$tabs.eq(0).data(metadata.tab);},path:function(){return $.address.value();},defaultPathArray:function(tabPath){return module.utilities.pathToArray(module.get.defaultPath(tabPath));},defaultPath:function(tabPath){var
$defaultNav=$allModules.filter('[data-'+metadata.tab+'^="'+module.escape.string(tabPath)+'/"]').eq(0),defaultTab=$defaultNav.data(metadata.tab)||false;if(defaultTab){module.debug('Found default tab',defaultTab);if(recursionDepth<settings.maxDepth){recursionDepth++;return module.get.defaultPath(defaultTab);}
module.error(error.recursion);}
else{module.debug('No default tabs found for',tabPath,$tabs);}
recursionDepth=0;return tabPath;},navElement:function(tabPath){tabPath=tabPath||activeTabPath;return $allModules.filter('[data-'+metadata.tab+'="'+module.escape.string(tabPath)+'"]');},tabElement:function(tabPath){var
$fullPathTab,$simplePathTab,tabPathArray,lastTab;tabPath=tabPath||activeTabPath;tabPathArray=module.utilities.pathToArray(tabPath);lastTab=module.utilities.last(tabPathArray);$fullPathTab=$tabs.filter('[data-'+metadata.tab+'="'+module.escape.string(tabPath)+'"]');$simplePathTab=$tabs.filter('[data-'+metadata.tab+'="'+module.escape.string(lastTab)+'"]');return($fullPathTab.length>0)?$fullPathTab:$simplePathTab;},tab:function(){return activeTabPath;}},determine:{activeTab:function(){var activeTab=null;$tabs.each(function(_index,tab){var $tab=$(tab);if($tab.hasClass(className.active)){var
tabPath=$(this).data(metadata.tab),$anchor=$allModules.filter('[data-'+metadata.tab+'="'+module.escape.string(tabPath)+'"]');if($anchor.hasClass(className.active)){activeTab=tabPath;}}});return activeTab;}},utilities:{filterArray:function(keepArray,removeArray){return $.grep(keepArray,function(keepValue){return($.inArray(keepValue,removeArray)==-1);});},last:function(array){return Array.isArray(array)?array[array.length-1]:false;},pathToArray:function(pathName){if(pathName===undefined){pathName=activeTabPath;}
return typeof pathName=='string'?pathName.split('/'):[pathName];},arrayToPath:function(pathArray){return Array.isArray(pathArray)?pathArray.join('/'):false;}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.tab=function(){$(window).tab.apply(this,arguments);};$.fn.tab.settings={name:'Tab',namespace:'tab',silent:false,debug:false,verbose:false,performance:true,auto:false,history:false,historyType:'hash',path:false,context:false,childrenOnly:false,maxDepth:25,deactivate:'siblings',alwaysRefresh:false,cache:true,loadOnce:false,cacheType:'response',ignoreFirstLoad:false,apiSettings:false,evaluateScripts:'once',autoTabActivation:true,onFirstLoad:function(tabPath,parameterArray,historyEvent){},onLoad:function(tabPath,parameterArray,historyEvent){},onVisible:function(tabPath,parameterArray,historyEvent){},onRequest:function(tabPath,parameterArray,historyEvent){},templates:{determineTitle:function(tabArray){}},error:{api:'You attempted to load content without API module',method:'The method you called is not defined',missingTab:'Activated tab cannot be found. Tabs are case-sensitive.',noContent:'The tab you specified is missing a content url.',path:'History enabled, but no path was specified',recursion:'Max recursive depth reached',legacyInit:'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',legacyLoad:'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',state:'History requires Asual\'s Address library <https://github.com/asual/jquery-address>'},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s:=@]/g},metadata:{tab:'tab',loaded:'loaded',promise:'promise'},className:{loading:'loading',active:'active'},selector:{tabs:'.ui.tab',ui:'.ui'}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.toast=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.toast.settings,parameters):$.extend({},$.fn.toast.settings),className=settings.className,selector=settings.selector,error=settings.error,namespace=settings.namespace,fields=settings.fields,eventNamespace='.'+namespace,moduleNamespace=namespace+'-module',$module=$(this),$toastBox,$toast,$actions,$progress,$progressBar,$animationObject,$close,$context=(settings.context)?$(settings.context):$('body'),isToastComponent=$module.hasClass('toast')||$module.hasClass('message')||$module.hasClass('card'),element=this,instance=isToastComponent?$module.data(moduleNamespace):undefined,module;module={initialize:function(){module.verbose('Initializing element');if(!module.has.container()){module.create.container();}
if(isToastComponent||settings.message!==''||settings.title!==''||module.get.iconClass()!==''||settings.showImage||module.has.configActions()){if(typeof settings.showProgress!=='string'||[className.top,className.bottom].indexOf(settings.showProgress)===-1){settings.showProgress=false;}
module.create.toast();if(settings.closeOnClick&&(settings.closeIcon||$($toast).find(selector.input).length>0||module.has.configActions())){settings.closeOnClick=false;}
if(!settings.closeOnClick){$toastBox.addClass(className.unclickable);}
module.bind.events();}
module.instantiate();if($toastBox){module.show();}},instantiate:function(){module.verbose('Storing instance of toast');instance=module;$module.data(moduleNamespace,instance);},destroy:function(){if($toastBox){module.debug('Removing toast',$toastBox);module.unbind.events();$toastBox.remove();$toastBox=undefined;$toast=undefined;$animationObject=undefined;settings.onRemove.call($toastBox,element);$progress=undefined;$progressBar=undefined;$close=undefined;}
$module.removeData(moduleNamespace);},show:function(callback){callback=callback||function(){};module.debug('Showing toast');if(settings.onShow.call($toastBox,element)===false){module.debug('onShow callback returned false, cancelling toast animation');return;}
module.animate.show(callback);},close:function(callback){callback=callback||function(){};module.remove.visible();module.unbind.events();module.animate.close(callback);},create:{container:function(){module.verbose('Creating container');$context.append($('<div/>',{class:settings.position+' '+className.container}));},toast:function(){$toastBox=$('<div/>',{class:className.box});if(!isToastComponent){module.verbose('Creating toast');$toast=$('<div/>');var $content=$('<div/>',{class:className.content});var iconClass=module.get.iconClass();if(iconClass!==''){$toast.append($('<i/>',{class:iconClass+' '+className.icon}));}
if(settings.showImage){$toast.append($('<img>',{class:className.image+' '+settings.classImage,src:settings.showImage}));}
if(settings.title!==''){$content.append($('<div/>',{class:className.title,text:settings.title}));}
$content.append($('<div/>',{html:module.helpers.escape(settings.message,settings.preserveHTML)}));$toast.addClass(settings.class+' '+className.toast).append($content);$toast.css('opacity',settings.opacity);if(settings.closeIcon){$close=$('<i/>',{class:className.close+' '+(typeof settings.closeIcon==='string'?settings.closeIcon:'')});if($close.hasClass(className.left)){$toast.prepend($close);}else{$toast.append($close);}}}else{$toast=settings.cloneModule?$module.clone().removeAttr('id'):$module;$close=$toast.find('> i'+module.helpers.toClass(className.close));settings.closeIcon=($close.length>0);}
if($toast.hasClass(className.compact)){settings.compact=true;}
if($toast.hasClass('card')){settings.compact=false;}
$actions=$toast.find('.actions');if(module.has.configActions()){if($actions.length===0){$actions=$('<div/>',{class:className.actions+' '+(settings.classActions||'')}).appendTo($toast);}
if($toast.hasClass('card')&&!$actions.hasClass(className.attached)){$actions.addClass(className.extraContent);if($actions.hasClass(className.vertical)){$actions.removeClass(className.vertical);module.error(error.verticalCard);}}
settings.actions.forEach(function(el){var icon=el[fields.icon]?'<i class="'+module.helpers.deQuote(el[fields.icon])+' icon"></i>':'',text=module.helpers.escape(el[fields.text]||'',settings.preserveHTML),cls=module.helpers.deQuote(el[fields.class]||''),click=el[fields.click]&&$.isFunction(el[fields.click])?el[fields.click]:function(){};$actions.append($('<button/>',{html:icon+text,class:className.button+' '+cls,click:function(){if(click.call(element,$module)===false){return;}
module.close();}}));});}
if($actions&&$actions.hasClass(className.vertical)){$toast.addClass(className.vertical);}
if($actions.length>0&&!$actions.hasClass(className.attached)){if($actions&&(!$actions.hasClass(className.basic)||$actions.hasClass(className.left))){$toast.addClass(className.actions);}}
if(settings.displayTime==='auto'){settings.displayTime=Math.max(settings.minDisplayTime,$toast.text().split(" ").length/settings.wordsPerMinute*60000);}
$toastBox.append($toast);if($actions.length>0&&$actions.hasClass(className.attached)){$actions.addClass(className.buttons);$actions.detach();$toast.addClass(className.attached);if(!$actions.hasClass(className.vertical)){if($actions.hasClass(className.top)){$toastBox.prepend($actions);$toast.addClass(className.bottom);}else{$toastBox.append($actions);$toast.addClass(className.top);}}else{$toast.wrap($('<div/>',{class:className.vertical+' '+
className.attached+' '+
(settings.compact?className.compact:'')}));if($actions.hasClass(className.left)){$toast.addClass(className.left).parent().addClass(className.left).prepend($actions);}else{$toast.parent().append($actions);}}}
if($module!==$toast){$module=$toast;element=$toast[0];}
if(settings.displayTime>0){var progressingClass=className.progressing+' '+(settings.pauseOnHover?className.pausable:'');if(!!settings.showProgress){$progress=$('<div/>',{class:className.progress+' '+(settings.classProgress||settings.class),'data-percent':''});if(!settings.classProgress){if($toast.hasClass('toast')&&!$toast.hasClass(className.inverted)){$progress.addClass(className.inverted);}else{$progress.removeClass(className.inverted);}}
$progressBar=$('<div/>',{class:'bar '+(settings.progressUp?'up ':'down ')+progressingClass});$progress.addClass(settings.showProgress).append($progressBar);if($progress.hasClass(className.top)){$toastBox.prepend($progress);}else{$toastBox.append($progress);}
$progressBar.css('animation-duration',settings.displayTime/1000+'s');}
$animationObject=$('<span/>',{class:'wait '+progressingClass});$animationObject.css('animation-duration',settings.displayTime/1000+'s');$animationObject.appendTo($toast);}
if(settings.compact){$toastBox.addClass(className.compact);$toast.addClass(className.compact);if($progress){$progress.addClass(className.compact);}}
if(settings.newestOnTop){$toastBox.prependTo(module.get.container());}
else{$toastBox.appendTo(module.get.container());}}},bind:{events:function(){module.debug('Binding events to toast');if(settings.closeOnClick||settings.closeIcon){(settings.closeIcon?$close:$toast).on('click'+eventNamespace,module.event.click);}
if($animationObject){$animationObject.on('animationend'+eventNamespace,module.close);}
$toastBox.on('click'+eventNamespace,selector.approve,module.event.approve).on('click'+eventNamespace,selector.deny,module.event.deny);}},unbind:{events:function(){module.debug('Unbinding events to toast');if(settings.closeOnClick||settings.closeIcon){(settings.closeIcon?$close:$toast).off('click'+eventNamespace);}
if($animationObject){$animationObject.off('animationend'+eventNamespace);}
$toastBox.off('click'+eventNamespace);}},animate:{show:function(callback){callback=$.isFunction(callback)?callback:function(){};if(settings.transition&&module.can.useElement('transition')&&$module.transition('is supported')){module.set.visible();$toastBox.transition({animation:settings.transition.showMethod+' in',queue:false,debug:settings.debug,verbose:settings.verbose,duration:settings.transition.showDuration,onComplete:function(){callback.call($toastBox,element);settings.onVisible.call($toastBox,element);}});}},close:function(callback){callback=$.isFunction(callback)?callback:function(){};module.debug('Closing toast');if(settings.onHide.call($toastBox,element)===false){module.debug('onHide callback returned false, cancelling toast animation');return;}
if(settings.transition&&$.fn.transition!==undefined&&$module.transition('is supported')){$toastBox.transition({animation:settings.transition.hideMethod+' out',queue:false,duration:settings.transition.hideDuration,debug:settings.debug,verbose:settings.verbose,interval:50,onBeforeHide:function(callback){callback=$.isFunction(callback)?callback:function(){};if(settings.transition.closeEasing!==''){if($toastBox){$toastBox.css('opacity',0);$toastBox.wrap('<div/>').parent().slideUp(500,settings.transition.closeEasing,function(){if($toastBox){$toastBox.parent().remove();callback.call($toastBox);}});}}else{callback.call($toastBox);}},onComplete:function(){callback.call($toastBox,element);settings.onHidden.call($toastBox,element);module.destroy();}});}
else{module.error(error.noTransition);}},pause:function(){$animationObject.css('animationPlayState','paused');if($progressBar){$progressBar.css('animationPlayState','paused');}},continue:function(){$animationObject.css('animationPlayState','running');if($progressBar){$progressBar.css('animationPlayState','running');}}},has:{container:function(){module.verbose('Determining if there is already a container');return($context.find(module.helpers.toClass(settings.position)+selector.container).length>0);},toast:function(){return!!module.get.toast();},toasts:function(){return module.get.toasts().length>0;},configActions:function(){return Array.isArray(settings.actions)&&settings.actions.length>0;}},get:{container:function(){return($context.find(module.helpers.toClass(settings.position)+selector.container)[0]);},toastBox:function(){return $toastBox||null;},toast:function(){return $toast||null;},toasts:function(){return $(module.get.container()).find(selector.box);},iconClass:function(){return typeof settings.showIcon==='string'?settings.showIcon:settings.showIcon&&settings.icons[settings.class]?settings.icons[settings.class]:'';},remainingTime:function(){return $animationObject?$animationObject.css('opacity')*settings.displayTime:0;}},set:{visible:function(){$toast.addClass(className.visible);}},remove:{visible:function(){$toast.removeClass(className.visible);}},event:{click:function(event){if($(event.target).closest('a').length===0){settings.onClick.call($toastBox,element);module.close();}},approve:function(){if(settings.onApprove.call(element,$module)===false){module.verbose('Approve callback returned false cancelling close');return;}
module.close();},deny:function(){if(settings.onDeny.call(element,$module)===false){module.verbose('Deny callback returned false cancelling close');return;}
module.close();}},helpers:{toClass:function(selector){var
classes=selector.split(' '),result='';classes.forEach(function(element){result+='.'+element;});return result;},deQuote:function(string){return String(string).replace(/"/g,"");},escape:function(string,preserveHTML){if(preserveHTML){return string;}
var
badChars=/[<>"'`]/g,shouldEscape=/[&<>"'`]/,escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escapedChar=function(chr){return escape[chr];};if(shouldEscape.test(string)){string=string.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;");return string.replace(badChars,escapedChar);}
return string;}},can:{useElement:function(element){if($.fn[element]!==undefined){return true;}
module.error(error.noElement.replace('{element}',element));return false;}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();returnedValue=$module;}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.toast.settings={name:'Toast',namespace:'toast',silent:false,debug:false,verbose:false,performance:true,context:'body',position:'top right',class:'neutral',classProgress:false,classActions:false,classImage:'mini',title:'',message:'',displayTime:3000,minDisplayTime:1000,wordsPerMinute:120,showIcon:false,newestOnTop:false,showProgress:false,pauseOnHover:true,progressUp:false,opacity:1,compact:true,closeIcon:false,closeOnClick:true,cloneModule:true,actions:false,preserveHTML:true,showImage:false,transition:{showMethod:'scale',showDuration:500,hideMethod:'scale',hideDuration:500,closeEasing:'easeOutCubic'},error:{method:'The method you called is not defined.',noElement:'This module requires ui {element}',verticalCard:'Vertical but not attached actions are not supported for card layout'},className:{container:'ui toast-container',box:'floating toast-box',progress:'ui attached active progress',toast:'ui toast',icon:'centered icon',visible:'visible',content:'content',title:'ui header',actions:'actions',extraContent:'extra content',button:'ui button',buttons:'ui buttons',close:'close icon',image:'ui image',vertical:'vertical',attached:'attached',inverted:'inverted',compact:'compact',pausable:'pausable',progressing:'progressing',top:'top',bottom:'bottom',left:'left',basic:'basic',unclickable:'unclickable'},icons:{info:'info',success:'checkmark',warning:'warning',error:'times'},selector:{container:'.ui.toast-container',box:'.toast-box',toast:'.ui.toast',input:'input:not([type="hidden"]), textarea, select, button, .ui.button, ui.dropdown',approve:'.actions .positive, .actions .approve, .actions .ok',deny:'.actions .negative, .actions .deny, .actions .cancel'},fields:{class:'class',text:'text',icon:'icon',click:'click'},onShow:function(){},onVisible:function(){},onClick:function(){},onHide:function(){},onHidden:function(){},onRemove:function(){},onApprove:function(){},onDeny:function(){}};$.extend($.easing,{easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeOutCubic:function(t){return(--t)*t*t+1;}});})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.transition=function(){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],moduleArguments=arguments,query=moduleArguments[0],queryArguments=[].slice.call(arguments,1),methodInvoked=(typeof query==='string'),returnedValue;$allModules.each(function(index){var
$module=$(this),element=this,settings,instance,error,className,metadata,animationEnd,moduleNamespace,eventNamespace,module;module={initialize:function(){settings=module.get.settings.apply(element,moduleArguments);className=settings.className;error=settings.error;metadata=settings.metadata;eventNamespace='.'+settings.namespace;moduleNamespace='module-'+settings.namespace;instance=$module.data(moduleNamespace)||module;animationEnd=module.get.animationEndEvent();if(methodInvoked){methodInvoked=module.invoke(query);}
if(methodInvoked===false){module.verbose('Converted arguments into settings object',settings);if(settings.interval){module.delay(settings.animate);}
else{module.animate();}
module.instantiate();}},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,instance);},destroy:function(){module.verbose('Destroying previous module for',element);$module.removeData(moduleNamespace);},refresh:function(){module.verbose('Refreshing display type on next animation');delete module.displayType;},forceRepaint:function(){module.verbose('Forcing element repaint');var
$parentElement=$module.parent(),$nextElement=$module.next();if($nextElement.length===0){$module.detach().appendTo($parentElement);}
else{$module.detach().insertBefore($nextElement);}},repaint:function(){module.verbose('Repainting element');var
fakeAssignment=element.offsetWidth;},delay:function(interval){var
direction=module.get.animationDirection(),shouldReverse,delay;if(!direction){direction=module.can.transition()?module.get.direction():'static';}
interval=(interval!==undefined)?interval:settings.interval;shouldReverse=(settings.reverse=='auto'&&direction==className.outward);delay=(shouldReverse||settings.reverse==true)?($allModules.length-index)*settings.interval:index*settings.interval;module.debug('Delaying animation by',delay);setTimeout(module.animate,delay);},animate:function(overrideSettings){settings=overrideSettings||settings;if(!module.is.supported()){module.error(error.support);return false;}
module.debug('Preparing animation',settings.animation);if(module.is.animating()){if(settings.queue){if(!settings.allowRepeats&&module.has.direction()&&module.is.occurring()&&module.queuing!==true){module.debug('Animation is currently occurring, preventing queueing same animation',settings.animation);}
else{module.queue(settings.animation);}
return false;}
else if(!settings.allowRepeats&&module.is.occurring()){module.debug('Animation is already occurring, will not execute repeated animation',settings.animation);return false;}
else{module.debug('New animation started, completing previous early',settings.animation);instance.complete();}}
if(module.can.animate()){module.set.animating(settings.animation);}
else{module.error(error.noAnimation,settings.animation,element);}},reset:function(){module.debug('Resetting animation to beginning conditions');module.remove.animationCallbacks();module.restore.conditions();module.remove.animating();},queue:function(animation){module.debug('Queueing animation of',animation);module.queuing=true;$module.one(animationEnd+'.queue'+eventNamespace,function(){module.queuing=false;module.repaint();module.animate.apply(this,settings);});},complete:function(event){if(event&&event.target===element){event.stopPropagation();}
module.debug('Animation complete',settings.animation);module.remove.completeCallback();module.remove.failSafe();if(!module.is.looping()){if(module.is.outward()){module.verbose('Animation is outward, hiding element');module.restore.conditions();module.hide();}
else if(module.is.inward()){module.verbose('Animation is outward, showing element');module.restore.conditions();module.show();}
else{module.verbose('Static animation completed');module.restore.conditions();settings.onComplete.call(element);}}},force:{visible:function(){var
style=$module.attr('style'),userStyle=module.get.userStyle(style),displayType=module.get.displayType(),overrideStyle=userStyle+'display: '+displayType+' !important;',inlineDisplay=$module[0].style.display,mustStayHidden=!displayType||(inlineDisplay==='none'&&settings.skipInlineHidden)||$module[0].tagName.match(/(script|link|style)/i);if(mustStayHidden){module.remove.transition();return false;}
module.verbose('Overriding default display to show element',displayType);$module.attr('style',overrideStyle);return true;},hidden:function(){var
style=$module.attr('style'),currentDisplay=$module.css('display'),emptyStyle=(style===undefined||style==='');if(currentDisplay!=='none'&&!module.is.hidden()){module.verbose('Overriding default display to hide element');$module.css('display','none');}
else if(emptyStyle){$module.removeAttr('style');}}},has:{direction:function(animation){var
hasDirection=false;animation=animation||settings.animation;if(typeof animation==='string'){animation=animation.split(' ');$.each(animation,function(index,word){if(word===className.inward||word===className.outward){hasDirection=true;}});}
return hasDirection;},inlineDisplay:function(){var
style=$module.attr('style')||'';return Array.isArray(style.match(/display.*?;/,''));}},set:{animating:function(animation){module.remove.completeCallback();animation=animation||settings.animation;var animationClass=module.get.animationClass(animation);module.save.animation(animationClass);if(module.force.visible()){module.remove.hidden();module.remove.direction();module.start.animation(animationClass);}},duration:function(animationName,duration){duration=duration||settings.duration;duration=(typeof duration=='number')?duration+'ms':duration;if(duration||duration===0){module.verbose('Setting animation duration',duration);$module.css({'animation-duration':duration});}},direction:function(direction){direction=direction||module.get.direction();if(direction==className.inward){module.set.inward();}
else{module.set.outward();}},looping:function(){module.debug('Transition set to loop');$module.addClass(className.looping);},hidden:function(){$module.addClass(className.transition).addClass(className.hidden);},inward:function(){module.debug('Setting direction to inward');$module.removeClass(className.outward).addClass(className.inward);},outward:function(){module.debug('Setting direction to outward');$module.removeClass(className.inward).addClass(className.outward);},visible:function(){$module.addClass(className.transition).addClass(className.visible);}},start:{animation:function(animationClass){animationClass=animationClass||module.get.animationClass();module.debug('Starting tween',animationClass);$module.addClass(animationClass).one(animationEnd+'.complete'+eventNamespace,module.complete);if(settings.useFailSafe){module.add.failSafe();}
module.set.duration(settings.duration);settings.onStart.call(element);}},save:{animation:function(animation){if(!module.cache){module.cache={};}
module.cache.animation=animation;},displayType:function(displayType){if(displayType!=='none'){$module.data(metadata.displayType,displayType);}},transitionExists:function(animation,exists){$.fn.transition.exists[animation]=exists;module.verbose('Saving existence of transition',animation,exists);}},restore:{conditions:function(){var
animation=module.get.currentAnimation();if(animation){$module.removeClass(animation);module.verbose('Removing animation class',module.cache);}
module.remove.duration();}},add:{failSafe:function(){var
duration=module.get.duration();module.timer=setTimeout(function(){$module.triggerHandler(animationEnd);},duration+settings.failSafeDelay);module.verbose('Adding fail safe timer',module.timer);}},remove:{animating:function(){$module.removeClass(className.animating);},animationCallbacks:function(){module.remove.queueCallback();module.remove.completeCallback();},queueCallback:function(){$module.off('.queue'+eventNamespace);},completeCallback:function(){$module.off('.complete'+eventNamespace);},display:function(){$module.css('display','');},direction:function(){$module.removeClass(className.inward).removeClass(className.outward);},duration:function(){$module.css('animation-duration','');},failSafe:function(){module.verbose('Removing fail safe timer',module.timer);if(module.timer){clearTimeout(module.timer);}},hidden:function(){$module.removeClass(className.hidden);},visible:function(){$module.removeClass(className.visible);},looping:function(){module.debug('Transitions are no longer looping');if(module.is.looping()){module.reset();$module.removeClass(className.looping);}},transition:function(){$module.removeClass(className.transition).removeClass(className.visible).removeClass(className.hidden);}},get:{settings:function(animation,duration,onComplete){if(typeof animation=='object'){return $.extend(true,{},$.fn.transition.settings,animation);}
else if(typeof onComplete=='function'){return $.extend({},$.fn.transition.settings,{animation:animation,onComplete:onComplete,duration:duration});}
else if(typeof duration=='string'||typeof duration=='number'){return $.extend({},$.fn.transition.settings,{animation:animation,duration:duration});}
else if(typeof duration=='object'){return $.extend({},$.fn.transition.settings,duration,{animation:animation});}
else if(typeof duration=='function'){return $.extend({},$.fn.transition.settings,{animation:animation,onComplete:duration});}
else{return $.extend({},$.fn.transition.settings,{animation:animation});}},animationClass:function(animation){var
animationClass=animation||settings.animation,directionClass=(module.can.transition()&&!module.has.direction())?module.get.direction()+' ':'';return className.animating+' '
+className.transition+' '
+directionClass
+animationClass;},currentAnimation:function(){return(module.cache&&module.cache.animation!==undefined)?module.cache.animation:false;},currentDirection:function(){return module.is.inward()?className.inward:className.outward;},direction:function(){return module.is.hidden()||!module.is.visible()?className.inward:className.outward;},animationDirection:function(animation){var
direction;animation=animation||settings.animation;if(typeof animation==='string'){animation=animation.split(' ');$.each(animation,function(index,word){if(word===className.inward){direction=className.inward;}
else if(word===className.outward){direction=className.outward;}});}
if(direction){return direction;}
return false;},duration:function(duration){duration=duration||settings.duration;if(duration===false){duration=$module.css('animation-duration')||0;}
return(typeof duration==='string')?(duration.indexOf('ms')>-1)?parseFloat(duration):parseFloat(duration)*1000:duration;},displayType:function(shouldDetermine){shouldDetermine=(shouldDetermine!==undefined)?shouldDetermine:true;if(settings.displayType){return settings.displayType;}
if(shouldDetermine&&$module.data(metadata.displayType)===undefined){var currentDisplay=$module.css('display');if(currentDisplay===''||currentDisplay==='none'){module.can.transition(true);}else{module.save.displayType(currentDisplay);}}
return $module.data(metadata.displayType);},userStyle:function(style){style=style||$module.attr('style')||'';return style.replace(/display.*?;/,'');},transitionExists:function(animation){return $.fn.transition.exists[animation];},animationStartEvent:function(){var
element=document.createElement('div'),animations={'animation':'animationstart','OAnimation':'oAnimationStart','MozAnimation':'mozAnimationStart','WebkitAnimation':'webkitAnimationStart'},animation;for(animation in animations){if(element.style[animation]!==undefined){return animations[animation];}}
return false;},animationEndEvent:function(){var
element=document.createElement('div'),animations={'animation':'animationend','OAnimation':'oAnimationEnd','MozAnimation':'mozAnimationEnd','WebkitAnimation':'webkitAnimationEnd'},animation;for(animation in animations){if(element.style[animation]!==undefined){return animations[animation];}}
return false;}},can:{transition:function(forced){var
animation=settings.animation,transitionExists=module.get.transitionExists(animation),displayType=module.get.displayType(false),elementClass,tagName,$clone,currentAnimation,inAnimation,directionExists;if(transitionExists===undefined||forced){module.verbose('Determining whether animation exists');elementClass=$module.attr('class');tagName=$module.prop('tagName');$clone=$('<'+tagName+' />').addClass(elementClass).insertAfter($module);currentAnimation=$clone.addClass(animation).removeClass(className.inward).removeClass(className.outward).addClass(className.animating).addClass(className.transition).css('animationName');inAnimation=$clone.addClass(className.inward).css('animationName');if(!displayType){displayType=$clone.attr('class',elementClass).removeAttr('style').removeClass(className.hidden).removeClass(className.visible).show().css('display');module.verbose('Determining final display state',displayType);module.save.displayType(displayType);}
$clone.remove();if(currentAnimation!=inAnimation){module.debug('Direction exists for animation',animation);directionExists=true;}
else if(currentAnimation=='none'||!currentAnimation){module.debug('No animation defined in css',animation);return;}
else{module.debug('Static animation found',animation,displayType);directionExists=false;}
module.save.transitionExists(animation,directionExists);}
return(transitionExists!==undefined)?transitionExists:directionExists;},animate:function(){return(module.can.transition()!==undefined);}},is:{animating:function(){return $module.hasClass(className.animating);},inward:function(){return $module.hasClass(className.inward);},outward:function(){return $module.hasClass(className.outward);},looping:function(){return $module.hasClass(className.looping);},occurring:function(animation){animation=animation||settings.animation;animation='.'+animation.replace(' ','.');return($module.filter(animation).length>0);},visible:function(){return $module.is(':visible');},hidden:function(){return $module.css('visibility')==='hidden';},supported:function(){return(animationEnd!==false);}},hide:function(){module.verbose('Hiding element');if(module.is.animating()){module.reset();}
element.blur();module.remove.display();module.remove.visible();if($.isFunction(settings.onBeforeHide)){settings.onBeforeHide.call(element,function(){module.hideNow();});}else{module.hideNow();}},hideNow:function(){module.set.hidden();module.force.hidden();settings.onHide.call(element);settings.onComplete.call(element);},show:function(display){module.verbose('Showing element',display);if(module.force.visible()){module.remove.hidden();module.set.visible();settings.onShow.call(element);settings.onComplete.call(element);}},toggle:function(){if(module.is.visible()){module.hide();}
else{module.show();}},stop:function(){module.debug('Stopping current animation');$module.triggerHandler(animationEnd);},stopAll:function(){module.debug('Stopping all animation');module.remove.queueCallback();$module.triggerHandler(animationEnd);},clear:{queue:function(){module.debug('Clearing animation queue');module.remove.queueCallback();}},enable:function(){module.verbose('Starting animation');$module.removeClass(className.disabled);},disable:function(){module.debug('Stopping animation');$module.addClass(className.disabled);},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if($allModules.length>1){title+=' '+'('+$allModules.length+')';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return(found!==undefined)?found:false;}};module.initialize();});return(returnedValue!==undefined)?returnedValue:this;};$.fn.transition.exists={};$.fn.transition.settings={name:'Transition',silent:false,debug:false,verbose:false,performance:true,namespace:'transition',interval:0,reverse:'auto',onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:true,failSafeDelay:100,allowRepeats:false,displayType:false,animation:'fade',duration:false,queue:true,skipInlineHidden:false,metadata:{displayType:'display'},className:{animating:'animating',disabled:'disabled',hidden:'hidden',inward:'in',loading:'loading',looping:'looping',outward:'out',transition:'transition',visible:'visible'},error:{noAnimation:'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',repeated:'That animation is already occurring, cancelling repeated animation',method:'The method you called is not defined',support:'This browser does not support CSS animations'}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isWindow=$.isWindow||function(obj){return obj!=null&&obj===obj.window;};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.api=$.fn.api=function(parameters){var
$allModules=$.isFunction(this)?$(window):$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.api.settings,parameters):$.extend({},$.fn.api.settings),namespace=settings.namespace,metadata=settings.metadata,selector=settings.selector,error=settings.error,className=settings.className,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$form=$module.closest(selector.form),$context=(settings.stateContext)?$(settings.stateContext):$module,ajaxSettings,requestSettings,url,data,requestStartTime,element=this,context=$context[0],instance=$module.data(moduleNamespace),module;module={initialize:function(){if(!methodInvoked){module.bind.events();}
module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,instance);},destroy:function(){module.verbose('Destroying previous module for',element);$module.removeData(moduleNamespace).off(eventNamespace);},bind:{events:function(){var
triggerEvent=module.get.event();if(triggerEvent){module.verbose('Attaching API events to element',triggerEvent);$module.on(triggerEvent+eventNamespace,module.event.trigger);}
else if(settings.on=='now'){module.debug('Querying API endpoint immediately');module.query();}}},decode:{json:function(response){if(response!==undefined&&typeof response=='string'){try{response=JSON.parse(response);}
catch(e){}}
return response;}},read:{cachedResponse:function(url){var
response;if(window.Storage===undefined){module.error(error.noStorage);return;}
response=sessionStorage.getItem(url);module.debug('Using cached response',url,response);response=module.decode.json(response);return response;}},write:{cachedResponse:function(url,response){if(response&&response===''){module.debug('Response empty, not caching',response);return;}
if(window.Storage===undefined){module.error(error.noStorage);return;}
if($.isPlainObject(response)){response=JSON.stringify(response);}
sessionStorage.setItem(url,response);module.verbose('Storing cached response for url',url,response);}},query:function(){if(module.is.disabled()){module.debug('Element is disabled API request aborted');return;}
if(module.is.loading()){if(settings.interruptRequests){module.debug('Interrupting previous request');module.abort();}
else{module.debug('Cancelling request, previous request is still pending');return;}}
if(settings.defaultData){$.extend(true,settings.urlData,module.get.defaultData());}
if(settings.serializeForm){settings.data=module.add.formData(settings.data);}
requestSettings=module.get.settings();if(requestSettings===false){module.cancelled=true;module.error(error.beforeSend);return;}
else{module.cancelled=false;}
url=module.get.templatedURL();if(!url&&!module.is.mocked()){module.error(error.missingURL);return;}
url=module.add.urlData(url);if(!url&&!module.is.mocked()){return;}
requestSettings.url=settings.base+url;ajaxSettings=$.extend(true,{},settings,{type:settings.method||settings.type,data:data,url:settings.base+url,beforeSend:settings.beforeXHR,success:function(){},failure:function(){},complete:function(){}});module.debug('Querying URL',ajaxSettings.url);module.verbose('Using AJAX settings',ajaxSettings);if(settings.cache==='local'&&module.read.cachedResponse(url)){module.debug('Response returned from local cache');module.request=module.create.request();module.request.resolveWith(context,[module.read.cachedResponse(url)]);return;}
if(!settings.throttle){module.debug('Sending request',data,ajaxSettings.method);module.send.request();}
else{if(!settings.throttleFirstRequest&&!module.timer){module.debug('Sending request',data,ajaxSettings.method);module.send.request();module.timer=setTimeout(function(){},settings.throttle);}
else{module.debug('Throttling request',settings.throttle);clearTimeout(module.timer);module.timer=setTimeout(function(){if(module.timer){delete module.timer;}
module.debug('Sending throttled request',data,ajaxSettings.method);module.send.request();},settings.throttle);}}},should:{removeError:function(){return(settings.hideError===true||(settings.hideError==='auto'&&!module.is.form()));}},is:{disabled:function(){return($module.filter(selector.disabled).length>0);},expectingJSON:function(){return settings.dataType==='json'||settings.dataType==='jsonp';},form:function(){return $module.is('form')||$context.is('form');},mocked:function(){return(settings.mockResponse||settings.mockResponseAsync||settings.response||settings.responseAsync);},input:function(){return $module.is('input');},loading:function(){return(module.request)?(module.request.state()=='pending'):false;},abortedRequest:function(xhr){if(xhr&&xhr.readyState!==undefined&&xhr.readyState===0){module.verbose('XHR request determined to be aborted');return true;}
else{module.verbose('XHR request was not aborted');return false;}},validResponse:function(response){if((!module.is.expectingJSON())||!$.isFunction(settings.successTest)){module.verbose('Response is not JSON, skipping validation',settings.successTest,response);return true;}
module.debug('Checking JSON returned success',settings.successTest,response);if(settings.successTest(response)){module.debug('Response passed success test',response);return true;}
else{module.debug('Response failed success test',response);return false;}}},was:{cancelled:function(){return(module.cancelled||false);},succesful:function(){module.verbose('This behavior will be deleted due to typo. Use "was successful" instead.');return module.was.successful();},successful:function(){return(module.request&&module.request.state()=='resolved');},failure:function(){return(module.request&&module.request.state()=='rejected');},complete:function(){return(module.request&&(module.request.state()=='resolved'||module.request.state()=='rejected'));}},add:{urlData:function(url,urlData){var
requiredVariables,optionalVariables;if(url){requiredVariables=url.match(settings.regExp.required);optionalVariables=url.match(settings.regExp.optional);urlData=urlData||settings.urlData;if(requiredVariables){module.debug('Looking for required URL variables',requiredVariables);$.each(requiredVariables,function(index,templatedString){var
variable=(templatedString.indexOf('$')!==-1)?templatedString.substr(2,templatedString.length-3):templatedString.substr(1,templatedString.length-2),value=($.isPlainObject(urlData)&&urlData[variable]!==undefined)?urlData[variable]:($module.data(variable)!==undefined)?$module.data(variable):($context.data(variable)!==undefined)?$context.data(variable):urlData[variable];if(value===undefined){module.error(error.requiredParameter,variable,url);url=false;return false;}
else{module.verbose('Found required variable',variable,value);value=(settings.encodeParameters)?module.get.urlEncodedValue(value):value;url=url.replace(templatedString,value);}});}
if(optionalVariables){module.debug('Looking for optional URL variables',requiredVariables);$.each(optionalVariables,function(index,templatedString){var
variable=(templatedString.indexOf('$')!==-1)?templatedString.substr(3,templatedString.length-4):templatedString.substr(2,templatedString.length-3),value=($.isPlainObject(urlData)&&urlData[variable]!==undefined)?urlData[variable]:($module.data(variable)!==undefined)?$module.data(variable):($context.data(variable)!==undefined)?$context.data(variable):urlData[variable];if(value!==undefined){module.verbose('Optional variable Found',variable,value);url=url.replace(templatedString,value);}
else{module.verbose('Optional variable not found',variable);if(url.indexOf('/'+templatedString)!==-1){url=url.replace('/'+templatedString,'');}
else{url=url.replace(templatedString,'');}}});}}
return url;},formData:function(data){var
canSerialize=($.fn.serializeObject!==undefined),formData=(canSerialize)?$form.serializeObject():$form.serialize(),hasOtherData;data=data||settings.data;hasOtherData=$.isPlainObject(data);if(hasOtherData){if(canSerialize){module.debug('Extending existing data with form data',data,formData);data=$.extend(true,{},data,formData);}
else{module.error(error.missingSerialize);module.debug('Cant extend data. Replacing data with form data',data,formData);data=formData;}}
else{module.debug('Adding form data',formData);data=formData;}
return data;}},send:{request:function(){module.set.loading();module.request=module.create.request();if(module.is.mocked()){module.mockedXHR=module.create.mockedXHR();}
else{module.xhr=module.create.xhr();}
settings.onRequest.call(context,module.request,module.xhr);}},event:{trigger:function(event){module.query();if(event.type=='submit'||event.type=='click'){event.preventDefault();}},xhr:{always:function(){},done:function(response,textStatus,xhr){var
context=this,elapsedTime=(new Date().getTime()-requestStartTime),timeLeft=(settings.loadingDuration-elapsedTime),translatedResponse=($.isFunction(settings.onResponse))?module.is.expectingJSON()&&!settings.rawResponse?settings.onResponse.call(context,$.extend(true,{},response)):settings.onResponse.call(context,response):false;timeLeft=(timeLeft>0)?timeLeft:0;if(translatedResponse){module.debug('Modified API response in onResponse callback',settings.onResponse,translatedResponse,response);response=translatedResponse;}
if(timeLeft>0){module.debug('Response completed early delaying state change by',timeLeft);}
setTimeout(function(){if(module.is.validResponse(response)){module.request.resolveWith(context,[response,xhr]);}
else{module.request.rejectWith(context,[xhr,'invalid']);}},timeLeft);},fail:function(xhr,status,httpMessage){var
context=this,elapsedTime=(new Date().getTime()-requestStartTime),timeLeft=(settings.loadingDuration-elapsedTime);timeLeft=(timeLeft>0)?timeLeft:0;if(timeLeft>0){module.debug('Response completed early delaying state change by',timeLeft);}
setTimeout(function(){if(module.is.abortedRequest(xhr)){module.request.rejectWith(context,[xhr,'aborted',httpMessage]);}
else{module.request.rejectWith(context,[xhr,'error',status,httpMessage]);}},timeLeft);}},request:{done:function(response,xhr){module.debug('Successful API Response',response);if(settings.cache==='local'&&url){module.write.cachedResponse(url,response);module.debug('Saving server response locally',module.cache);}
settings.onSuccess.call(context,response,$module,xhr);},complete:function(firstParameter,secondParameter){var
xhr,response;if(module.was.successful()){response=firstParameter;xhr=secondParameter;}
else{xhr=firstParameter;response=module.get.responseFromXHR(xhr);}
module.remove.loading();settings.onComplete.call(context,response,$module,xhr);},fail:function(xhr,status,httpMessage){var
response=module.get.responseFromXHR(xhr),errorMessage=module.get.errorFromRequest(response,status,httpMessage);if(status=='aborted'){module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)',status,httpMessage);settings.onAbort.call(context,status,$module,xhr);return true;}
else if(status=='invalid'){module.debug('JSON did not pass success test. A server-side error has most likely occurred',response);}
else if(status=='error'){if(xhr!==undefined){module.debug('XHR produced a server error',status,httpMessage);if((xhr.status<200||xhr.status>=300)&&httpMessage!==undefined&&httpMessage!==''){module.error(error.statusMessage+httpMessage,ajaxSettings.url);}
settings.onError.call(context,errorMessage,$module,xhr);}}
if(settings.errorDuration&&status!=='aborted'){module.debug('Adding error state');module.set.error();if(module.should.removeError()){setTimeout(module.remove.error,settings.errorDuration);}}
module.debug('API Request failed',errorMessage,xhr);settings.onFailure.call(context,response,$module,xhr);}}},create:{request:function(){return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail);},mockedXHR:function(){var
textStatus=false,status=false,httpMessage=false,responder=settings.mockResponse||settings.response,asyncResponder=settings.mockResponseAsync||settings.responseAsync,asyncCallback,response,mockedXHR;mockedXHR=$.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail);if(responder){if($.isFunction(responder)){module.debug('Using specified synchronous callback',responder);response=responder.call(context,requestSettings);}
else{module.debug('Using settings specified response',responder);response=responder;}
mockedXHR.resolveWith(context,[response,textStatus,{responseText:response}]);}
else if($.isFunction(asyncResponder)){asyncCallback=function(response){module.debug('Async callback returned response',response);if(response){mockedXHR.resolveWith(context,[response,textStatus,{responseText:response}]);}
else{mockedXHR.rejectWith(context,[{responseText:response},status,httpMessage]);}};module.debug('Using specified async response callback',asyncResponder);asyncResponder.call(context,requestSettings,asyncCallback);}
return mockedXHR;},xhr:function(){var
xhr;xhr=$.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail);module.verbose('Created server request',xhr,ajaxSettings);return xhr;}},set:{error:function(){module.verbose('Adding error state to element',$context);$context.addClass(className.error);},loading:function(){module.verbose('Adding loading state to element',$context);$context.addClass(className.loading);requestStartTime=new Date().getTime();}},remove:{error:function(){module.verbose('Removing error state from element',$context);$context.removeClass(className.error);},loading:function(){module.verbose('Removing loading state from element',$context);$context.removeClass(className.loading);}},get:{responseFromXHR:function(xhr){return $.isPlainObject(xhr)?(module.is.expectingJSON())?module.decode.json(xhr.responseText):xhr.responseText:false;},errorFromRequest:function(response,status,httpMessage){return($.isPlainObject(response)&&response.error!==undefined)?response.error:(settings.error[status]!==undefined)?settings.error[status]:httpMessage;},request:function(){return module.request||false;},xhr:function(){return module.xhr||false;},settings:function(){var
runSettings;runSettings=settings.beforeSend.call($module,settings);if(runSettings){if(runSettings.success!==undefined){module.debug('Legacy success callback detected',runSettings);module.error(error.legacyParameters,runSettings.success);runSettings.onSuccess=runSettings.success;}
if(runSettings.failure!==undefined){module.debug('Legacy failure callback detected',runSettings);module.error(error.legacyParameters,runSettings.failure);runSettings.onFailure=runSettings.failure;}
if(runSettings.complete!==undefined){module.debug('Legacy complete callback detected',runSettings);module.error(error.legacyParameters,runSettings.complete);runSettings.onComplete=runSettings.complete;}}
if(runSettings===undefined){module.error(error.noReturnedValue);}
if(runSettings===false){return runSettings;}
return(runSettings!==undefined)?$.extend(true,{},runSettings):$.extend(true,{},settings);},urlEncodedValue:function(value){var
decodedValue=window.decodeURIComponent(value),encodedValue=window.encodeURIComponent(value),alreadyEncoded=(decodedValue!==value);if(alreadyEncoded){module.debug('URL value is already encoded, avoiding double encoding',value);return value;}
module.verbose('Encoding value using encodeURIComponent',value,encodedValue);return encodedValue;},defaultData:function(){var
data={};if(!$.isWindow(element)){if(module.is.input()){data.value=$module.val();}
else if(module.is.form()){}
else{data.text=$module.text();}}
return data;},event:function(){if($.isWindow(element)||settings.on=='now'){module.debug('API called without element, no events attached');return false;}
else if(settings.on=='auto'){if($module.is('input')){return(element.oninput!==undefined)?'input':(element.onpropertychange!==undefined)?'propertychange':'keyup';}
else if($module.is('form')){return'submit';}
else{return'click';}}
else{return settings.on;}},templatedURL:function(action){action=action||$module.data(metadata.action)||settings.action||false;url=$module.data(metadata.url)||settings.url||false;if(url){module.debug('Using specified url',url);return url;}
if(action){module.debug('Looking up url for action',action,settings.api);if(settings.api[action]===undefined&&!module.is.mocked()){module.error(error.missingAction,settings.action,settings.api);return;}
url=settings.api[action];}
else if(module.is.form()){url=$module.attr('action')||$context.attr('action')||false;module.debug('No url or action specified, defaulting to form action',url);}
return url;}},abort:function(){var
xhr=module.get.xhr();if(xhr&&xhr.state()!=='resolved'){module.debug('Cancelling API request');xhr.abort();}},reset:function(){module.remove.error();module.remove.loading();},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.api.settings={name:'API',namespace:'api',debug:false,verbose:false,performance:true,api:{},cache:true,interruptRequests:true,on:'auto',stateContext:false,loadingDuration:0,hideError:'auto',errorDuration:2000,encodeParameters:true,action:false,url:false,base:'',urlData:{},defaultData:true,serializeForm:false,throttle:0,throttleFirstRequest:true,method:'get',data:{},dataType:'json',mockResponse:false,mockResponseAsync:false,response:false,responseAsync:false,rawResponse:false,beforeSend:function(settings){return settings;},beforeXHR:function(xhr){},onRequest:function(promise,xhr){},onResponse:false,onSuccess:function(response,$module){},onComplete:function(response,$module){},onFailure:function(response,$module){},onError:function(errorMessage,$module){},onAbort:function(errorMessage,$module){},successTest:false,error:{beforeSend:'The before send function has aborted the request',error:'There was an error with your request',exitConditions:'API Request Aborted. Exit conditions met',JSONParse:'JSON could not be parsed during error handling',legacyParameters:'You are using legacy API success callback names',method:'The method you called is not defined',missingAction:'API action used but no url was defined',missingSerialize:'jquery-serialize-object is required to add form data to an existing data object',missingURL:'No URL specified for api event',noReturnedValue:'The beforeSend callback must return a settings object, beforeSend ignored.',noStorage:'Caching responses locally requires session storage',parseError:'There was an error parsing your request',requiredParameter:'Missing a required URL parameter: ',statusMessage:'Server gave an error: ',timeout:'Your request timed out'},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g,},className:{loading:'loading',error:'error'},selector:{disabled:'.disabled',form:'form'},metadata:{action:'action',url:'url'}};})(jQuery,window,document);;(function($,window,document,undefined){"use strict";$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.state=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.state.settings,parameters):$.extend({},$.fn.state.settings),error=settings.error,metadata=settings.metadata,className=settings.className,namespace=settings.namespace,states=settings.states,text=settings.text,eventNamespace='.'+namespace,moduleNamespace=namespace+'-module',$module=$(this),element=this,instance=$module.data(moduleNamespace),module;module={initialize:function(){module.verbose('Initializing module');if(settings.automatic){module.add.defaults();}
if(settings.context&&moduleSelector!==''){$(settings.context).on(moduleSelector,'mouseenter'+eventNamespace,module.change.text).on(moduleSelector,'mouseleave'+eventNamespace,module.reset.text).on(moduleSelector,'click'+eventNamespace,module.toggle.state);}
else{$module.on('mouseenter'+eventNamespace,module.change.text).on('mouseleave'+eventNamespace,module.reset.text).on('click'+eventNamespace,module.toggle.state);}
module.instantiate();},instantiate:function(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,module);},destroy:function(){module.verbose('Destroying previous module',instance);$module.off(eventNamespace).removeData(moduleNamespace);},refresh:function(){module.verbose('Refreshing selector cache');$module=$(element);},add:{defaults:function(){var
userStates=parameters&&$.isPlainObject(parameters.states)?parameters.states:{};$.each(settings.defaults,function(type,typeStates){if(module.is[type]!==undefined&&module.is[type]()){module.verbose('Adding default states',type,element);$.extend(settings.states,typeStates,userStates);}});}},is:{active:function(){return $module.hasClass(className.active);},loading:function(){return $module.hasClass(className.loading);},inactive:function(){return!($module.hasClass(className.active));},state:function(state){if(className[state]===undefined){return false;}
return $module.hasClass(className[state]);},enabled:function(){return!($module.is(settings.filter.active));},disabled:function(){return($module.is(settings.filter.active));},textEnabled:function(){return!($module.is(settings.filter.text));},button:function(){return $module.is('.button:not(a, .submit)');},input:function(){return $module.is('input');},progress:function(){return $module.is('.ui.progress');}},allow:function(state){module.debug('Now allowing state',state);states[state]=true;},disallow:function(state){module.debug('No longer allowing',state);states[state]=false;},allows:function(state){return states[state]||false;},enable:function(){$module.removeClass(className.disabled);},disable:function(){$module.addClass(className.disabled);},setState:function(state){if(module.allows(state)){$module.addClass(className[state]);}},removeState:function(state){if(module.allows(state)){$module.removeClass(className[state]);}},toggle:{state:function(){var
apiRequest,requestCancelled;if(module.allows('active')&&module.is.enabled()){module.refresh();if($.fn.api!==undefined){apiRequest=$module.api('get request');requestCancelled=$module.api('was cancelled');if(requestCancelled){module.debug('API Request cancelled by beforesend');settings.activateTest=function(){return false;};settings.deactivateTest=function(){return false;};}
else if(apiRequest){module.listenTo(apiRequest);return;}}
module.change.state();}}},listenTo:function(apiRequest){module.debug('API request detected, waiting for state signal',apiRequest);if(apiRequest){if(text.loading){module.update.text(text.loading);}
$.when(apiRequest).then(function(){if(apiRequest.state()=='resolved'){module.debug('API request succeeded');settings.activateTest=function(){return true;};settings.deactivateTest=function(){return true;};}
else{module.debug('API request failed');settings.activateTest=function(){return false;};settings.deactivateTest=function(){return false;};}
module.change.state();});}},change:{state:function(){module.debug('Determining state change direction');if(module.is.inactive()){module.activate();}
else{module.deactivate();}
if(settings.sync){module.sync();}
settings.onChange.call(element);},text:function(){if(module.is.textEnabled()){if(module.is.disabled()){module.verbose('Changing text to disabled text',text.hover);module.update.text(text.disabled);}
else if(module.is.active()){if(text.hover){module.verbose('Changing text to hover text',text.hover);module.update.text(text.hover);}
else if(text.deactivate){module.verbose('Changing text to deactivating text',text.deactivate);module.update.text(text.deactivate);}}
else{if(text.hover){module.verbose('Changing text to hover text',text.hover);module.update.text(text.hover);}
else if(text.activate){module.verbose('Changing text to activating text',text.activate);module.update.text(text.activate);}}}}},activate:function(){if(settings.activateTest.call(element)){module.debug('Setting state to active');$module.addClass(className.active);module.update.text(text.active);settings.onActivate.call(element);}},deactivate:function(){if(settings.deactivateTest.call(element)){module.debug('Setting state to inactive');$module.removeClass(className.active);module.update.text(text.inactive);settings.onDeactivate.call(element);}},sync:function(){module.verbose('Syncing other buttons to current state');if(module.is.active()){$allModules.not($module).state('activate');}
else{$allModules.not($module).state('deactivate');}},get:{text:function(){return(settings.selector.text)?$module.find(settings.selector.text).text():$module.html();},textFor:function(state){return text[state]||false;}},flash:{text:function(text,duration,callback){var
previousText=module.get.text();module.debug('Flashing text message',text,duration);text=text||settings.text.flash;duration=duration||settings.flashDuration;callback=callback||function(){};module.update.text(text);setTimeout(function(){module.update.text(previousText);callback.call(element);},duration);}},reset:{text:function(){var
activeText=text.active||$module.data(metadata.storedText),inactiveText=text.inactive||$module.data(metadata.storedText);if(module.is.textEnabled()){if(module.is.active()&&activeText){module.verbose('Resetting active text',activeText);module.update.text(activeText);}
else if(inactiveText){module.verbose('Resetting inactive text',activeText);module.update.text(inactiveText);}}}},update:{text:function(text){var
currentText=module.get.text();if(text&&text!==currentText){module.debug('Updating text',text);if(settings.selector.text){$module.data(metadata.storedText,text).find(settings.selector.text).text(text);}
else{$module.data(metadata.storedText,text).html(text);}}
else{module.debug('Text is already set, ignoring update',text);}}},setting:function(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}
else{settings[name]=value;}}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.state.settings={name:'State',debug:false,verbose:false,namespace:'state',performance:true,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return true;},deactivateTest:function(){return true;},automatic:true,sync:false,flashDuration:1000,filter:{text:'.loading, .disabled',active:'.disabled'},context:false,error:{beforeSend:'The before send function has cancelled state change',method:'The method you called is not defined.'},metadata:{promise:'promise',storedText:'stored-text'},className:{active:'active',disabled:'disabled',error:'error',loading:'loading',success:'success',warning:'warning'},selector:{text:false},defaults:{input:{disabled:true,loading:true,active:true},button:{disabled:true,loading:true,active:true,},progress:{active:true,success:true,warning:true,error:true}},states:{active:true,disabled:true,error:true,loading:true,success:true,warning:true},text:{disabled:false,flash:false,hover:false,active:false,inactive:false,activate:false,deactivate:false}};})(jQuery,window,document);;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=(typeof window!='undefined'&&window.Math==Math)?window:(typeof self!='undefined'&&self.Math==Math)?self:Function('return this')();$.fn.visibility=function(parameters){var
$allModules=$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=(typeof query=='string'),queryArguments=[].slice.call(arguments,1),returnedValue,moduleCount=$allModules.length,loadedCount=0;$allModules.each(function(){var
settings=($.isPlainObject(parameters))?$.extend(true,{},$.fn.visibility.settings,parameters):$.extend({},$.fn.visibility.settings),className=settings.className,namespace=settings.namespace,error=settings.error,metadata=settings.metadata,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$window=$(window),$module=$(this),$context=$(settings.context),$placeholder,instance=$module.data(moduleNamespace),requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,0);},element=this,disabled=false,contextObserver,observer,module;module={initialize:function(){module.debug('Initializing',settings);module.setup.cache();if(module.should.trackChanges()){if(settings.type=='image'){module.setup.image();}
if(settings.type=='fixed'){module.setup.fixed();}
if(settings.observeChanges){module.observeChanges();}
module.bind.events();}
module.save.position();if(!module.is.visible()){module.error(error.visible,$module);}
if(settings.initialCheck){module.checkVisibility();}
module.instantiate();},instantiate:function(){module.debug('Storing instance',module);$module.data(moduleNamespace,module);instance=module;},destroy:function(){module.verbose('Destroying previous module');if(observer){observer.disconnect();}
if(contextObserver){contextObserver.disconnect();}
$window.off('load'+eventNamespace,module.event.load).off('resize'+eventNamespace,module.event.resize);$context.off('scroll'+eventNamespace,module.event.scroll).off('scrollchange'+eventNamespace,module.event.scrollchange);if(settings.type=='fixed'){module.resetFixed();module.remove.placeholder();}
$module.off(eventNamespace).removeData(moduleNamespace);},observeChanges:function(){if('MutationObserver'in window){contextObserver=new MutationObserver(module.event.contextChanged);observer=new MutationObserver(module.event.changed);contextObserver.observe(document,{childList:true,subtree:true});observer.observe(element,{childList:true,subtree:true});module.debug('Setting up mutation observer',observer);}},bind:{events:function(){module.verbose('Binding visibility events to scroll and resize');if(settings.refreshOnLoad){$window.on('load'+eventNamespace,module.event.load);}
$window.on('resize'+eventNamespace,module.event.resize);$context.off('scroll'+eventNamespace).on('scroll'+eventNamespace,module.event.scroll).on('scrollchange'+eventNamespace,module.event.scrollchange);}},event:{changed:function(mutations){module.verbose('DOM tree modified, updating visibility calculations');module.timer=setTimeout(function(){module.verbose('DOM tree modified, updating sticky menu');module.refresh();},100);},contextChanged:function(mutations){[].forEach.call(mutations,function(mutation){if(mutation.removedNodes){[].forEach.call(mutation.removedNodes,function(node){if(node==element||$(node).find(element).length>0){module.debug('Element removed from DOM, tearing down events');module.destroy();}});}});},resize:function(){module.debug('Window resized');if(settings.refreshOnResize){requestAnimationFrame(module.refresh);}},load:function(){module.debug('Page finished loading');requestAnimationFrame(module.refresh);},scroll:function(){if(settings.throttle){clearTimeout(module.timer);module.timer=setTimeout(function(){$context.triggerHandler('scrollchange'+eventNamespace,[$context.scrollTop()]);},settings.throttle);}
else{requestAnimationFrame(function(){$context.triggerHandler('scrollchange'+eventNamespace,[$context.scrollTop()]);});}},scrollchange:function(event,scrollPosition){module.checkVisibility(scrollPosition);},},precache:function(images,callback){if(!(images instanceof Array)){images=[images];}
var
imagesLength=images.length,loadedCounter=0,cache=[],cacheImage=document.createElement('img'),handleLoad=function(){loadedCounter++;if(loadedCounter>=images.length){if($.isFunction(callback)){callback();}}};while(imagesLength--){cacheImage=document.createElement('img');cacheImage.onload=handleLoad;cacheImage.onerror=handleLoad;cacheImage.src=images[imagesLength];cache.push(cacheImage);}},enableCallbacks:function(){module.debug('Allowing callbacks to occur');disabled=false;},disableCallbacks:function(){module.debug('Disabling all callbacks temporarily');disabled=true;},should:{trackChanges:function(){if(methodInvoked){module.debug('One time query, no need to bind events');return false;}
module.debug('Callbacks being attached');return true;}},setup:{cache:function(){module.cache={occurred:{},screen:{},element:{},};},image:function(){var
src=$module.data(metadata.src);if(src){module.verbose('Lazy loading image',src);settings.once=true;settings.observeChanges=false;settings.onOnScreen=function(){module.debug('Image on screen',element);module.precache(src,function(){module.set.image(src,function(){loadedCount++;if(loadedCount==moduleCount){settings.onAllLoaded.call(this);}
settings.onLoad.call(this);});});};}},fixed:function(){module.debug('Setting up fixed');settings.once=false;settings.observeChanges=false;settings.initialCheck=true;settings.refreshOnLoad=true;if(!parameters.transition){settings.transition=false;}
module.create.placeholder();module.debug('Added placeholder',$placeholder);settings.onTopPassed=function(){module.debug('Element passed, adding fixed position',$module);module.show.placeholder();module.set.fixed();if(settings.transition){if($.fn.transition!==undefined){$module.transition(settings.transition,settings.duration);}}};settings.onTopPassedReverse=function(){module.debug('Element returned to position, removing fixed',$module);module.hide.placeholder();module.remove.fixed();};}},create:{placeholder:function(){module.verbose('Creating fixed position placeholder');$placeholder=$module.clone(false).css('display','none').addClass(className.placeholder).insertAfter($module);}},show:{placeholder:function(){module.verbose('Showing placeholder');$placeholder.css('display','block').css('visibility','hidden');}},hide:{placeholder:function(){module.verbose('Hiding placeholder');$placeholder.css('display','none').css('visibility','');}},set:{fixed:function(){module.verbose('Setting element to fixed position');$module.addClass(className.fixed).css({position:'fixed',top:settings.offset+'px',left:'auto',zIndex:settings.zIndex});settings.onFixed.call(element);},image:function(src,callback){$module.attr('src',src);if(settings.transition){if($.fn.transition!==undefined){if($module.hasClass(className.visible)){module.debug('Transition already occurred on this image, skipping animation');return;}
$module.transition(settings.transition,settings.duration,callback);}
else{$module.fadeIn(settings.duration,callback);}}
else{$module.show();}}},is:{onScreen:function(){var
calculations=module.get.elementCalculations();return calculations.onScreen;},offScreen:function(){var
calculations=module.get.elementCalculations();return calculations.offScreen;},visible:function(){if(module.cache&&module.cache.element){return!(module.cache.element.width===0&&module.cache.element.offset.top===0);}
return false;},verticallyScrollableContext:function(){var
overflowY=($context.get(0)!==window)?$context.css('overflow-y'):false;return(overflowY=='auto'||overflowY=='scroll');},horizontallyScrollableContext:function(){var
overflowX=($context.get(0)!==window)?$context.css('overflow-x'):false;return(overflowX=='auto'||overflowX=='scroll');}},refresh:function(){module.debug('Refreshing constants (width/height)');if(settings.type=='fixed'){module.resetFixed();}
module.reset();module.save.position();if(settings.checkOnRefresh){module.checkVisibility();}
settings.onRefresh.call(element);},resetFixed:function(){module.remove.fixed();module.remove.occurred();},reset:function(){module.verbose('Resetting all cached values');if($.isPlainObject(module.cache)){module.cache.screen={};module.cache.element={};}},checkVisibility:function(scroll){module.verbose('Checking visibility of element',module.cache.element);if(!disabled&&module.is.visible()){module.save.scroll(scroll);module.save.calculations();module.passed();module.passingReverse();module.topVisibleReverse();module.bottomVisibleReverse();module.topPassedReverse();module.bottomPassedReverse();module.onScreen();module.offScreen();module.passing();module.topVisible();module.bottomVisible();module.topPassed();module.bottomPassed();if(settings.onUpdate){settings.onUpdate.call(element,module.get.elementCalculations());}}},passed:function(amount,newCallback){var
calculations=module.get.elementCalculations();if(amount&&newCallback){settings.onPassed[amount]=newCallback;}
else if(amount!==undefined){return(module.get.pixelsPassed(amount)>calculations.pixelsPassed);}
else if(calculations.passing){$.each(settings.onPassed,function(amount,callback){if(calculations.bottomVisible||calculations.pixelsPassed>module.get.pixelsPassed(amount)){module.execute(callback,amount);}
else if(!settings.once){module.remove.occurred(callback);}});}},onScreen:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onOnScreen,callbackName='onScreen';if(newCallback){module.debug('Adding callback for onScreen',newCallback);settings.onOnScreen=newCallback;}
if(calculations.onScreen){module.execute(callback,callbackName);}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback!==undefined){return calculations.onOnScreen;}},offScreen:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onOffScreen,callbackName='offScreen';if(newCallback){module.debug('Adding callback for offScreen',newCallback);settings.onOffScreen=newCallback;}
if(calculations.offScreen){module.execute(callback,callbackName);}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback!==undefined){return calculations.onOffScreen;}},passing:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onPassing,callbackName='passing';if(newCallback){module.debug('Adding callback for passing',newCallback);settings.onPassing=newCallback;}
if(calculations.passing){module.execute(callback,callbackName);}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback!==undefined){return calculations.passing;}},topVisible:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopVisible,callbackName='topVisible';if(newCallback){module.debug('Adding callback for top visible',newCallback);settings.onTopVisible=newCallback;}
if(calculations.topVisible){module.execute(callback,callbackName);}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback===undefined){return calculations.topVisible;}},bottomVisible:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomVisible,callbackName='bottomVisible';if(newCallback){module.debug('Adding callback for bottom visible',newCallback);settings.onBottomVisible=newCallback;}
if(calculations.bottomVisible){module.execute(callback,callbackName);}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback===undefined){return calculations.bottomVisible;}},topPassed:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopPassed,callbackName='topPassed';if(newCallback){module.debug('Adding callback for top passed',newCallback);settings.onTopPassed=newCallback;}
if(calculations.topPassed){module.execute(callback,callbackName);}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback===undefined){return calculations.topPassed;}},bottomPassed:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomPassed,callbackName='bottomPassed';if(newCallback){module.debug('Adding callback for bottom passed',newCallback);settings.onBottomPassed=newCallback;}
if(calculations.bottomPassed){module.execute(callback,callbackName);}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback===undefined){return calculations.bottomPassed;}},passingReverse:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onPassingReverse,callbackName='passingReverse';if(newCallback){module.debug('Adding callback for passing reverse',newCallback);settings.onPassingReverse=newCallback;}
if(!calculations.passing){if(module.get.occurred('passing')){module.execute(callback,callbackName);}}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback!==undefined){return!calculations.passing;}},topVisibleReverse:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopVisibleReverse,callbackName='topVisibleReverse';if(newCallback){module.debug('Adding callback for top visible reverse',newCallback);settings.onTopVisibleReverse=newCallback;}
if(!calculations.topVisible){if(module.get.occurred('topVisible')){module.execute(callback,callbackName);}}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback===undefined){return!calculations.topVisible;}},bottomVisibleReverse:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomVisibleReverse,callbackName='bottomVisibleReverse';if(newCallback){module.debug('Adding callback for bottom visible reverse',newCallback);settings.onBottomVisibleReverse=newCallback;}
if(!calculations.bottomVisible){if(module.get.occurred('bottomVisible')){module.execute(callback,callbackName);}}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback===undefined){return!calculations.bottomVisible;}},topPassedReverse:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onTopPassedReverse,callbackName='topPassedReverse';if(newCallback){module.debug('Adding callback for top passed reverse',newCallback);settings.onTopPassedReverse=newCallback;}
if(!calculations.topPassed){if(module.get.occurred('topPassed')){module.execute(callback,callbackName);}}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback===undefined){return!calculations.onTopPassed;}},bottomPassedReverse:function(newCallback){var
calculations=module.get.elementCalculations(),callback=newCallback||settings.onBottomPassedReverse,callbackName='bottomPassedReverse';if(newCallback){module.debug('Adding callback for bottom passed reverse',newCallback);settings.onBottomPassedReverse=newCallback;}
if(!calculations.bottomPassed){if(module.get.occurred('bottomPassed')){module.execute(callback,callbackName);}}
else if(!settings.once){module.remove.occurred(callbackName);}
if(newCallback===undefined){return!calculations.bottomPassed;}},execute:function(callback,callbackName){var
calculations=module.get.elementCalculations(),screen=module.get.screenCalculations();callback=callback||false;if(callback){if(settings.continuous){module.debug('Callback being called continuously',callbackName,calculations);callback.call(element,calculations,screen);}
else if(!module.get.occurred(callbackName)){module.debug('Conditions met',callbackName,calculations);callback.call(element,calculations,screen);}}
module.save.occurred(callbackName);},remove:{fixed:function(){module.debug('Removing fixed position');$module.removeClass(className.fixed).css({position:'',top:'',left:'',zIndex:''});settings.onUnfixed.call(element);},placeholder:function(){module.debug('Removing placeholder content');if($placeholder){$placeholder.remove();}},occurred:function(callback){if(callback){var
occurred=module.cache.occurred;if(occurred[callback]!==undefined&&occurred[callback]===true){module.debug('Callback can now be called again',callback);module.cache.occurred[callback]=false;}}
else{module.cache.occurred={};}}},save:{calculations:function(){module.verbose('Saving all calculations necessary to determine positioning');module.save.direction();module.save.screenCalculations();module.save.elementCalculations();},occurred:function(callback){if(callback){if(module.cache.occurred[callback]===undefined||(module.cache.occurred[callback]!==true)){module.verbose('Saving callback occurred',callback);module.cache.occurred[callback]=true;}}},scroll:function(scrollPosition){scrollPosition=scrollPosition+settings.offset||$context.scrollTop()+settings.offset;module.cache.scroll=scrollPosition;},direction:function(){var
scroll=module.get.scroll(),lastScroll=module.get.lastScroll(),direction;if(scroll>lastScroll&&lastScroll){direction='down';}
else if(scroll<lastScroll&&lastScroll){direction='up';}
else{direction='static';}
module.cache.direction=direction;return module.cache.direction;},elementPosition:function(){var
element=module.cache.element,screen=module.get.screenSize();module.verbose('Saving element position');element.fits=(element.height<screen.height);element.offset=$module.offset();element.width=$module.outerWidth();element.height=$module.outerHeight();if(module.is.verticallyScrollableContext()){element.offset.top+=$context.scrollTop()-$context.offset().top;}
if(module.is.horizontallyScrollableContext()){element.offset.left+=$context.scrollLeft()-$context.offset().left;}
module.cache.element=element;return element;},elementCalculations:function(){var
screen=module.get.screenCalculations(),element=module.get.elementPosition();if(settings.includeMargin){element.margin={};element.margin.top=parseInt($module.css('margin-top'),10);element.margin.bottom=parseInt($module.css('margin-bottom'),10);element.top=element.offset.top-element.margin.top;element.bottom=element.offset.top+element.height+element.margin.bottom;}
else{element.top=element.offset.top;element.bottom=element.offset.top+element.height;}
element.topPassed=(screen.top>=element.top);element.bottomPassed=(screen.top>=element.bottom);element.topVisible=(screen.bottom>=element.top)&&!element.topPassed;element.bottomVisible=(screen.bottom>=element.bottom)&&!element.bottomPassed;element.pixelsPassed=0;element.percentagePassed=0;element.onScreen=((element.topVisible||element.passing)&&!element.bottomPassed);element.passing=(element.topPassed&&!element.bottomPassed);element.offScreen=(!element.onScreen);if(element.passing){element.pixelsPassed=(screen.top-element.top);element.percentagePassed=(screen.top-element.top)/element.height;}
module.cache.element=element;module.verbose('Updated element calculations',element);return element;},screenCalculations:function(){var
scroll=module.get.scroll();module.save.direction();module.cache.screen.top=scroll;module.cache.screen.bottom=scroll+module.cache.screen.height;return module.cache.screen;},screenSize:function(){module.verbose('Saving window position');module.cache.screen={height:$context.height()};},position:function(){module.save.screenSize();module.save.elementPosition();}},get:{pixelsPassed:function(amount){var
element=module.get.elementCalculations();if(amount.search('%')>-1){return(element.height*(parseInt(amount,10)/100));}
return parseInt(amount,10);},occurred:function(callback){return(module.cache.occurred!==undefined)?module.cache.occurred[callback]||false:false;},direction:function(){if(module.cache.direction===undefined){module.save.direction();}
return module.cache.direction;},elementPosition:function(){if(module.cache.element===undefined){module.save.elementPosition();}
return module.cache.element;},elementCalculations:function(){if(module.cache.element===undefined){module.save.elementCalculations();}
return module.cache.element;},screenCalculations:function(){if(module.cache.screen===undefined){module.save.screenCalculations();}
return module.cache.screen;},screenSize:function(){if(module.cache.screen===undefined){module.save.screenSize();}
return module.cache.screen;},scroll:function(){if(module.cache.scroll===undefined){module.save.scroll();}
return module.cache.scroll;},lastScroll:function(){if(module.cache.screen===undefined){module.debug('First scroll event, no last scroll could be found');return false;}
return module.cache.screen.top;}},setting:function(name,value){if($.isPlainObject(name)){$.extend(true,settings,name);}
else if(value!==undefined){settings[name]=value;}
else{return settings[name];}},internal:function(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}
else if(value!==undefined){module[name]=value;}
else{return module[name];}},debug:function(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}
else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function(message){var
currentTime,executionTime,previousTime;if(settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}
clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function(){var
title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}
if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}
else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}
console.groupEnd();}
performance=[];}},invoke:function(query,passedArguments,context){var
object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=(depth!=maxDepth)?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&(depth!=maxDepth)){object=object[camelCaseValue];}
else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}
else if($.isPlainObject(object[value])&&(depth!=maxDepth)){object=object[value];}
else if(object[value]!==undefined){found=object[value];return false;}
else{module.error(error.method,query);return false;}});}
if($.isFunction(found)){response=found.apply(context,passedArguments);}
else if(found!==undefined){response=found;}
if(Array.isArray(returnedValue)){returnedValue.push(response);}
else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}
else if(response!==undefined){returnedValue=response;}
return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}
instance.save.scroll();instance.save.calculations();module.invoke(query);}
else{if(instance!==undefined){instance.invoke('destroy');}
module.initialize();}});return(returnedValue!==undefined)?returnedValue:this;};$.fn.visibility.settings={name:'Visibility',namespace:'visibility',debug:false,verbose:false,performance:true,observeChanges:true,initialCheck:true,refreshOnLoad:true,refreshOnResize:true,checkOnRefresh:true,once:true,continuous:false,offset:0,includeMargin:false,context:window,throttle:false,type:false,zIndex:'10',transition:'fade in',duration:1000,onPassed:{},onOnScreen:false,onOffScreen:false,onPassing:false,onTopVisible:false,onBottomVisible:false,onTopPassed:false,onBottomPassed:false,onPassingReverse:false,onTopVisibleReverse:false,onBottomVisibleReverse:false,onTopPassedReverse:false,onBottomPassedReverse:false,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:false,onRefresh:function(){},metadata:{src:'src'},className:{fixed:'fixed',placeholder:'constraint',visible:'visible'},error:{method:'The method you called is not defined.',visible:'Element is hidden, you must call refresh after element becomes visible'}};})(jQuery,window,document);$(function(){$('table').tablesort()
$('thead th.number').data('sortBy',function(th,td,tablesort){var num=td.data("sort-value")|td.text()
return new Number(num);});$('tr').click(function(){var $this=$(this)
var target=$this.data("url")
if(target)
window.open(target)})})
(function($){$.tablesort=function($table,settings){var self=this;this.$table=$table;this.$thead=this.$table.find('thead');this.settings=$.extend({},$.tablesort.defaults,settings);this.$sortCells=this.$thead.length>0?this.$thead.find('th:not(.no-sort)'):this.$table.find('th:not(.no-sort)');this.$sortCells.on('click.tablesort',function(){self.sort($(this));});this.index=null;this.$th=null;this.direction=null;};$.tablesort.prototype={sort:function(th,direction){var start=new Date(),self=this,table=this.$table,rowsContainer=table.find('tbody').length>0?table.find('tbody'):table,rows=rowsContainer.find('tr').has('td, th'),cells=rows.find(':nth-child('+(th.index()+1)+')').filter('td, th'),sortBy=th.data().sortBy,sortedMap=[];var unsortedValues=cells.map(function(idx,cell){if(sortBy)
return(typeof sortBy==='function')?sortBy($(th),$(cell),self):sortBy;return($(this).data().sortValue!=null?$(this).data().sortValue:$(this).text());});if(unsortedValues.length===0)return;if(this.index!==th.index()){this.direction='asc';this.index=th.index();}
else if(direction!=='asc'&&direction!=='desc')
this.direction=this.direction==='asc'?'desc':'asc';else
this.direction=direction;direction=this.direction=='asc'?1:-1;self.$table.trigger('tablesort:start',[self]);self.log("Sorting by "+this.index+' '+this.direction);self.$table.css("display");setTimeout(function(){self.$sortCells.removeClass(self.settings.asc+' '+self.settings.desc);for(var i=0,length=unsortedValues.length;i<length;i++)
{sortedMap.push({index:i,cell:cells[i],row:rows[i],value:unsortedValues[i]});}
sortedMap.sort(function(a,b){return self.settings.compare(a.value,b.value)*direction;});$.each(sortedMap,function(i,entry){rowsContainer.append(entry.row);});th.addClass(self.settings[self.direction]);self.log('Sort finished in '+((new Date()).getTime()-start.getTime())+'ms');self.$table.trigger('tablesort:complete',[self]);self.$table.css("display");},unsortedValues.length>2000?200:10);},log:function(msg){if(($.tablesort.DEBUG||this.settings.debug)&&console&&console.log){console.log('[tablesort] '+msg);}},destroy:function(){this.$sortCells.off('click.tablesort');this.$table.data('tablesort',null);return null;}};$.tablesort.DEBUG=false;$.tablesort.defaults={debug:$.tablesort.DEBUG,asc:'sorted ascending',desc:'sorted descending',compare:function(a,b){if(a>b){return 1;}else if(a<b){return-1;}else{return 0;}}};$.fn.tablesort=function(settings){var table,sortable,previous;return this.each(function(){table=$(this);previous=table.data('tablesort');if(previous){previous.destroy();}
table.data('tablesort',new $.tablesort(table,settings));});};})(window.Zepto||window.jQuery);